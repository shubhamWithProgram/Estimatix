function d2(r,e){for(var t=0;t<e.length;t++){const n=e[t];if(typeof n!="string"&&!Array.isArray(n)){for(const A in n)if(A!=="default"&&!(A in r)){const i=Object.getOwnPropertyDescriptor(n,A);i&&Object.defineProperty(r,A,i.get?i:{enumerable:!0,get:()=>n[A]})}}}return Object.freeze(Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}))}var gi=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function So(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Ph={exports:{}},ye={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var i0;function g2(){if(i0)return ye;i0=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),A=Symbol.for("react.profiler"),i=Symbol.for("react.consumer"),s=Symbol.for("react.context"),a=Symbol.for("react.forward_ref"),o=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),l=Symbol.for("react.lazy"),h=Symbol.for("react.activity"),f=Symbol.iterator;function d(O){return O===null||typeof O!="object"?null:(O=f&&O[f]||O["@@iterator"],typeof O=="function"?O:null)}var g={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,C={};function E(O,N,G){this.props=O,this.context=N,this.refs=C,this.updater=G||g}E.prototype.isReactComponent={},E.prototype.setState=function(O,N){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,N,"setState")},E.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function T(){}T.prototype=E.prototype;function I(O,N,G){this.props=O,this.context=N,this.refs=C,this.updater=G||g}var b=I.prototype=new T;b.constructor=I,m(b,E.prototype),b.isPureReactComponent=!0;var P=Array.isArray;function Q(){}var v={H:null,A:null,T:null,S:null},y=Object.prototype.hasOwnProperty;function w(O,N,G){var z=G.ref;return{$$typeof:r,type:O,key:N,ref:z!==void 0?z:null,props:G}}function U(O,N){return w(O.type,N,O.props)}function F(O){return typeof O=="object"&&O!==null&&O.$$typeof===r}function R(O){var N={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(G){return N[G]})}var S=/\/+/g;function L(O,N){return typeof O=="object"&&O!==null&&O.key!=null?R(""+O.key):N.toString(36)}function q(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(Q,Q):(O.status="pending",O.then(function(N){O.status==="pending"&&(O.status="fulfilled",O.value=N)},function(N){O.status==="pending"&&(O.status="rejected",O.reason=N)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function H(O,N,G,z,W){var se=typeof O;(se==="undefined"||se==="boolean")&&(O=null);var ne=!1;if(O===null)ne=!0;else switch(se){case"bigint":case"string":case"number":ne=!0;break;case"object":switch(O.$$typeof){case r:case e:ne=!0;break;case l:return ne=O._init,H(ne(O._payload),N,G,z,W)}}if(ne)return W=W(O),ne=z===""?"."+L(O,0):z,P(W)?(G="",ne!=null&&(G=ne.replace(S,"$&/")+"/"),H(W,N,G,"",function(xe){return xe})):W!=null&&(F(W)&&(W=U(W,G+(W.key==null||O&&O.key===W.key?"":(""+W.key).replace(S,"$&/")+"/")+ne)),N.push(W)),1;ne=0;var Ee=z===""?".":z+":";if(P(O))for(var _e=0;_e<O.length;_e++)z=O[_e],se=Ee+L(z,_e),ne+=H(z,N,G,se,W);else if(_e=d(O),typeof _e=="function")for(O=_e.call(O),_e=0;!(z=O.next()).done;)z=z.value,se=Ee+L(z,_e++),ne+=H(z,N,G,se,W);else if(se==="object"){if(typeof O.then=="function")return H(q(O),N,G,z,W);throw N=String(O),Error("Objects are not valid as a React child (found: "+(N==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":N)+"). If you meant to render a collection of children, use an array instead.")}return ne}function k(O,N,G){if(O==null)return O;var z=[],W=0;return H(O,z,"","",function(se){return N.call(G,se,W++)}),z}function V(O){if(O._status===-1){var N=O._result;N=N(),N.then(function(G){(O._status===0||O._status===-1)&&(O._status=1,O._result=G)},function(G){(O._status===0||O._status===-1)&&(O._status=2,O._result=G)}),O._status===-1&&(O._status=0,O._result=N)}if(O._status===1)return O._result.default;throw O._result}var j=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var N=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(N))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)},$={map:k,forEach:function(O,N,G){k(O,function(){N.apply(this,arguments)},G)},count:function(O){var N=0;return k(O,function(){N++}),N},toArray:function(O){return k(O,function(N){return N})||[]},only:function(O){if(!F(O))throw Error("React.Children.only expected to receive a single React element child.");return O}};return ye.Activity=h,ye.Children=$,ye.Component=E,ye.Fragment=t,ye.Profiler=A,ye.PureComponent=I,ye.StrictMode=n,ye.Suspense=o,ye.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=v,ye.__COMPILER_RUNTIME={__proto__:null,c:function(O){return v.H.useMemoCache(O)}},ye.cache=function(O){return function(){return O.apply(null,arguments)}},ye.cacheSignal=function(){return null},ye.cloneElement=function(O,N,G){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var z=m({},O.props),W=O.key;if(N!=null)for(se in N.key!==void 0&&(W=""+N.key),N)!y.call(N,se)||se==="key"||se==="__self"||se==="__source"||se==="ref"&&N.ref===void 0||(z[se]=N[se]);var se=arguments.length-2;if(se===1)z.children=G;else if(1<se){for(var ne=Array(se),Ee=0;Ee<se;Ee++)ne[Ee]=arguments[Ee+2];z.children=ne}return w(O.type,W,z)},ye.createContext=function(O){return O={$$typeof:s,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:i,_context:O},O},ye.createElement=function(O,N,G){var z,W={},se=null;if(N!=null)for(z in N.key!==void 0&&(se=""+N.key),N)y.call(N,z)&&z!=="key"&&z!=="__self"&&z!=="__source"&&(W[z]=N[z]);var ne=arguments.length-2;if(ne===1)W.children=G;else if(1<ne){for(var Ee=Array(ne),_e=0;_e<ne;_e++)Ee[_e]=arguments[_e+2];W.children=Ee}if(O&&O.defaultProps)for(z in ne=O.defaultProps,ne)W[z]===void 0&&(W[z]=ne[z]);return w(O,se,W)},ye.createRef=function(){return{current:null}},ye.forwardRef=function(O){return{$$typeof:a,render:O}},ye.isValidElement=F,ye.lazy=function(O){return{$$typeof:l,_payload:{_status:-1,_result:O},_init:V}},ye.memo=function(O,N){return{$$typeof:u,type:O,compare:N===void 0?null:N}},ye.startTransition=function(O){var N=v.T,G={};v.T=G;try{var z=O(),W=v.S;W!==null&&W(G,z),typeof z=="object"&&z!==null&&typeof z.then=="function"&&z.then(Q,j)}catch(se){j(se)}finally{N!==null&&G.types!==null&&(N.types=G.types),v.T=N}},ye.unstable_useCacheRefresh=function(){return v.H.useCacheRefresh()},ye.use=function(O){return v.H.use(O)},ye.useActionState=function(O,N,G){return v.H.useActionState(O,N,G)},ye.useCallback=function(O,N){return v.H.useCallback(O,N)},ye.useContext=function(O){return v.H.useContext(O)},ye.useDebugValue=function(){},ye.useDeferredValue=function(O,N){return v.H.useDeferredValue(O,N)},ye.useEffect=function(O,N){return v.H.useEffect(O,N)},ye.useEffectEvent=function(O){return v.H.useEffectEvent(O)},ye.useId=function(){return v.H.useId()},ye.useImperativeHandle=function(O,N,G){return v.H.useImperativeHandle(O,N,G)},ye.useInsertionEffect=function(O,N){return v.H.useInsertionEffect(O,N)},ye.useLayoutEffect=function(O,N){return v.H.useLayoutEffect(O,N)},ye.useMemo=function(O,N){return v.H.useMemo(O,N)},ye.useOptimistic=function(O,N){return v.H.useOptimistic(O,N)},ye.useReducer=function(O,N,G){return v.H.useReducer(O,N,G)},ye.useRef=function(O){return v.H.useRef(O)},ye.useState=function(O){return v.H.useState(O)},ye.useSyncExternalStore=function(O,N,G){return v.H.useSyncExternalStore(O,N,G)},ye.useTransition=function(){return v.H.useTransition()},ye.version="19.2.0",ye}var s0;function p2(){return s0||(s0=1,Ph.exports=g2()),Ph.exports}var oe=p2();const m2=So(oe),MZ=d2({__proto__:null,default:m2},[oe]);var Oh={exports:{}},Dh={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var a0;function v2(){return a0||(a0=1,(function(r){function e(H,k){var V=H.length;H.push(k);e:for(;0<V;){var j=V-1>>>1,$=H[j];if(0<A($,k))H[j]=k,H[V]=$,V=j;else break e}}function t(H){return H.length===0?null:H[0]}function n(H){if(H.length===0)return null;var k=H[0],V=H.pop();if(V!==k){H[0]=V;e:for(var j=0,$=H.length,O=$>>>1;j<O;){var N=2*(j+1)-1,G=H[N],z=N+1,W=H[z];if(0>A(G,V))z<$&&0>A(W,G)?(H[j]=W,H[z]=V,j=z):(H[j]=G,H[N]=V,j=N);else if(z<$&&0>A(W,V))H[j]=W,H[z]=V,j=z;else break e}}return k}function A(H,k){var V=H.sortIndex-k.sortIndex;return V!==0?V:H.id-k.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var i=performance;r.unstable_now=function(){return i.now()}}else{var s=Date,a=s.now();r.unstable_now=function(){return s.now()-a}}var o=[],u=[],l=1,h=null,f=3,d=!1,g=!1,m=!1,C=!1,E=typeof setTimeout=="function"?setTimeout:null,T=typeof clearTimeout=="function"?clearTimeout:null,I=typeof setImmediate<"u"?setImmediate:null;function b(H){for(var k=t(u);k!==null;){if(k.callback===null)n(u);else if(k.startTime<=H)n(u),k.sortIndex=k.expirationTime,e(o,k);else break;k=t(u)}}function P(H){if(m=!1,b(H),!g)if(t(o)!==null)g=!0,Q||(Q=!0,R());else{var k=t(u);k!==null&&q(P,k.startTime-H)}}var Q=!1,v=-1,y=5,w=-1;function U(){return C?!0:!(r.unstable_now()-w<y)}function F(){if(C=!1,Q){var H=r.unstable_now();w=H;var k=!0;try{e:{g=!1,m&&(m=!1,T(v),v=-1),d=!0;var V=f;try{t:{for(b(H),h=t(o);h!==null&&!(h.expirationTime>H&&U());){var j=h.callback;if(typeof j=="function"){h.callback=null,f=h.priorityLevel;var $=j(h.expirationTime<=H);if(H=r.unstable_now(),typeof $=="function"){h.callback=$,b(H),k=!0;break t}h===t(o)&&n(o),b(H)}else n(o);h=t(o)}if(h!==null)k=!0;else{var O=t(u);O!==null&&q(P,O.startTime-H),k=!1}}break e}finally{h=null,f=V,d=!1}k=void 0}}finally{k?R():Q=!1}}}var R;if(typeof I=="function")R=function(){I(F)};else if(typeof MessageChannel<"u"){var S=new MessageChannel,L=S.port2;S.port1.onmessage=F,R=function(){L.postMessage(null)}}else R=function(){E(F,0)};function q(H,k){v=E(function(){H(r.unstable_now())},k)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(H){H.callback=null},r.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):y=0<H?Math.floor(1e3/H):5},r.unstable_getCurrentPriorityLevel=function(){return f},r.unstable_next=function(H){switch(f){case 1:case 2:case 3:var k=3;break;default:k=f}var V=f;f=k;try{return H()}finally{f=V}},r.unstable_requestPaint=function(){C=!0},r.unstable_runWithPriority=function(H,k){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var V=f;f=H;try{return k()}finally{f=V}},r.unstable_scheduleCallback=function(H,k,V){var j=r.unstable_now();switch(typeof V=="object"&&V!==null?(V=V.delay,V=typeof V=="number"&&0<V?j+V:j):V=j,H){case 1:var $=-1;break;case 2:$=250;break;case 5:$=1073741823;break;case 4:$=1e4;break;default:$=5e3}return $=V+$,H={id:l++,callback:k,priorityLevel:H,startTime:V,expirationTime:$,sortIndex:-1},V>j?(H.sortIndex=V,e(u,H),t(o)===null&&H===t(u)&&(m?(T(v),v=-1):m=!0,q(P,V-j))):(H.sortIndex=$,e(o,H),g||d||(g=!0,Q||(Q=!0,R()))),H},r.unstable_shouldYield=U,r.unstable_wrapCallback=function(H){var k=f;return function(){var V=f;f=k;try{return H.apply(this,arguments)}finally{f=V}}}})(Dh)),Dh}var o0;function NZ(){return o0||(o0=1,Oh.exports=v2()),Oh.exports}var Lh={exports:{}},ua={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var u0;function y2(){if(u0)return ua;u0=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(n,A,i){var s=null;if(i!==void 0&&(s=""+i),A.key!==void 0&&(s=""+A.key),"key"in A){i={};for(var a in A)a!=="key"&&(i[a]=A[a])}else i=A;return A=i.ref,{$$typeof:r,type:n,key:s,ref:A!==void 0?A:null,props:i}}return ua.Fragment=e,ua.jsx=t,ua.jsxs=t,ua}var l0;function w2(){return l0||(l0=1,Lh.exports=y2()),Lh.exports}var eA=w2();/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function so(){return so=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},so.apply(this,arguments)}var fs;(function(r){r.Pop="POP",r.Push="PUSH",r.Replace="REPLACE"})(fs||(fs={}));const c0="popstate";function kZ(r){r===void 0&&(r={});function e(A,i){let{pathname:s="/",search:a="",hash:o=""}=Qo(A.location.hash.substr(1));return!s.startsWith("/")&&!s.startsWith(".")&&(s="/"+s),hm("",{pathname:s,search:a,hash:o},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function t(A,i){let s=A.document.querySelector("base"),a="";if(s&&s.getAttribute("href")){let o=A.location.href,u=o.indexOf("#");a=u===-1?o:o.slice(0,u)}return a+"#"+(typeof i=="string"?i:g1(i))}function n(A,i){Zv(A.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(i)+")")}return C2(e,t,n,r)}function ws(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function Zv(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function B2(){return Math.random().toString(36).substr(2,8)}function h0(r,e){return{usr:r.state,key:r.key,idx:e}}function hm(r,e,t,n){return t===void 0&&(t=null),so({pathname:typeof r=="string"?r:r.pathname,search:"",hash:""},typeof e=="string"?Qo(e):e,{state:t,key:e&&e.key||n||B2()})}function g1(r){let{pathname:e="/",search:t="",hash:n=""}=r;return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function Qo(r){let e={};if(r){let t=r.indexOf("#");t>=0&&(e.hash=r.substr(t),r=r.substr(0,t));let n=r.indexOf("?");n>=0&&(e.search=r.substr(n),r=r.substr(0,n)),r&&(e.pathname=r)}return e}function C2(r,e,t,n){n===void 0&&(n={});let{window:A=document.defaultView,v5Compat:i=!1}=n,s=A.history,a=fs.Pop,o=null,u=l();u==null&&(u=0,s.replaceState(so({},s.state,{idx:u}),""));function l(){return(s.state||{idx:null}).idx}function h(){a=fs.Pop;let C=l(),E=C==null?null:C-u;u=C,o&&o({action:a,location:m.location,delta:E})}function f(C,E){a=fs.Push;let T=hm(m.location,C,E);t&&t(T,C),u=l()+1;let I=h0(T,u),b=m.createHref(T);try{s.pushState(I,"",b)}catch(P){if(P instanceof DOMException&&P.name==="DataCloneError")throw P;A.location.assign(b)}i&&o&&o({action:a,location:m.location,delta:1})}function d(C,E){a=fs.Replace;let T=hm(m.location,C,E);t&&t(T,C),u=l();let I=h0(T,u),b=m.createHref(T);s.replaceState(I,"",b),i&&o&&o({action:a,location:m.location,delta:0})}function g(C){let E=A.location.origin!=="null"?A.location.origin:A.location.href,T=typeof C=="string"?C:g1(C);return T=T.replace(/ $/,"%20"),ws(E,"No window.location.(origin|href) available to create URL for href: "+T),new URL(T,E)}let m={get action(){return a},get location(){return r(A,s)},listen(C){if(o)throw new Error("A history only accepts one active listener");return A.addEventListener(c0,h),o=C,()=>{A.removeEventListener(c0,h),o=null}},createHref(C){return e(A,C)},createURL:g,encodeLocation(C){let E=g(C);return{pathname:E.pathname,search:E.search,hash:E.hash}},push:f,replace:d,go(C){return s.go(C)}};return m}var f0;(function(r){r.data="data",r.deferred="deferred",r.redirect="redirect",r.error="error"})(f0||(f0={}));function HZ(r,e,t){return t===void 0&&(t="/"),E2(r,e,t)}function E2(r,e,t,n){let A=typeof e=="string"?Qo(e):e,i=L2(A.pathname||"/",t);if(i==null)return null;let s=p1(r);_2(s);let a=null;for(let o=0;a==null&&o<s.length;++o){let u=D2(i);a=x2(s[o],u)}return a}function p1(r,e,t,n){e===void 0&&(e=[]),t===void 0&&(t=[]),n===void 0&&(n="");let A=(i,s,a)=>{let o={relativePath:a===void 0?i.path||"":a,caseSensitive:i.caseSensitive===!0,childrenIndex:s,route:i};o.relativePath.startsWith("/")&&(ws(o.relativePath.startsWith(n),'Absolute route path "'+o.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),o.relativePath=o.relativePath.slice(n.length));let u=pl([n,o.relativePath]),l=t.concat(o);i.children&&i.children.length>0&&(ws(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),p1(i.children,e,l,u)),!(i.path==null&&!i.index)&&e.push({path:u,score:Q2(u,i.index),routesMeta:l})};return r.forEach((i,s)=>{var a;if(i.path===""||!((a=i.path)!=null&&a.includes("?")))A(i,s);else for(let o of m1(i.path))A(i,s,o)}),e}function m1(r){let e=r.split("/");if(e.length===0)return[];let[t,...n]=e,A=t.endsWith("?"),i=t.replace(/\?$/,"");if(n.length===0)return A?[i,""]:[i];let s=m1(n.join("/")),a=[];return a.push(...s.map(o=>o===""?i:[i,o].join("/"))),A&&a.push(...s),a.map(o=>r.startsWith("/")&&o===""?"/":o)}function _2(r){r.sort((e,t)=>e.score!==t.score?t.score-e.score:R2(e.routesMeta.map(n=>n.childrenIndex),t.routesMeta.map(n=>n.childrenIndex)))}const T2=/^:[\w-]+$/,I2=3,b2=2,U2=1,F2=10,S2=-2,d0=r=>r==="*";function Q2(r,e){let t=r.split("/"),n=t.length;return t.some(d0)&&(n+=S2),e&&(n+=b2),t.filter(A=>!d0(A)).reduce((A,i)=>A+(T2.test(i)?I2:i===""?U2:F2),n)}function R2(r,e){return r.length===e.length&&r.slice(0,-1).every((n,A)=>n===e[A])?r[r.length-1]-e[e.length-1]:0}function x2(r,e,t){let{routesMeta:n}=r,A={},i="/",s=[];for(let a=0;a<n.length;++a){let o=n[a],u=a===n.length-1,l=i==="/"?e:e.slice(i.length)||"/",h=P2({path:o.relativePath,caseSensitive:o.caseSensitive,end:u},l),f=o.route;if(!h)return null;Object.assign(A,h.params),s.push({params:A,pathname:pl([i,h.pathname]),pathnameBase:H2(pl([i,h.pathnameBase])),route:f}),h.pathnameBase!=="/"&&(i=pl([i,h.pathnameBase]))}return s}function P2(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[t,n]=O2(r.path,r.caseSensitive,r.end),A=e.match(t);if(!A)return null;let i=A[0],s=i.replace(/(.)\/+$/,"$1"),a=A.slice(1);return{params:n.reduce((u,l,h)=>{let{paramName:f,isOptional:d}=l;if(f==="*"){let m=a[h]||"";s=i.slice(0,i.length-m.length).replace(/(.)\/+$/,"$1")}const g=a[h];return d&&!g?u[f]=void 0:u[f]=(g||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:s,pattern:r}}function O2(r,e,t){e===void 0&&(e=!1),t===void 0&&(t=!0),Zv(r==="*"||!r.endsWith("*")||r.endsWith("/*"),'Route path "'+r+'" will be treated as if it were '+('"'+r.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+r.replace(/\*$/,"/*")+'".'));let n=[],A="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,a,o)=>(n.push({paramName:a,isOptional:o!=null}),o?"/?([^\\/]+)?":"/([^\\/]+)"));return r.endsWith("*")?(n.push({paramName:"*"}),A+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?A+="\\/*$":r!==""&&r!=="/"&&(A+="(?:(?=\\/|$))"),[new RegExp(A,e?void 0:"i"),n]}function D2(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Zv(!1,'The URL path "'+r+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),r}}function L2(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,n=r.charAt(t);return n&&n!=="/"?null:r.slice(t)||"/"}function M2(r,e){e===void 0&&(e="/");let{pathname:t,search:n="",hash:A=""}=typeof r=="string"?Qo(r):r;return{pathname:t?t.startsWith("/")?t:N2(t,e):e,search:V2(n),hash:K2(A)}}function N2(r,e){let t=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(A=>{A===".."?t.length>1&&t.pop():A!=="."&&t.push(A)}),t.length>1?t.join("/"):"/"}function Mh(r,e,t,n){return"Cannot include a '"+r+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+t+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function k2(r){return r.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function VZ(r,e){let t=k2(r);return e?t.map((n,A)=>A===t.length-1?n.pathname:n.pathnameBase):t.map(n=>n.pathnameBase)}function KZ(r,e,t,n){n===void 0&&(n=!1);let A;typeof r=="string"?A=Qo(r):(A=so({},r),ws(!A.pathname||!A.pathname.includes("?"),Mh("?","pathname","search",A)),ws(!A.pathname||!A.pathname.includes("#"),Mh("#","pathname","hash",A)),ws(!A.search||!A.search.includes("#"),Mh("#","search","hash",A)));let i=r===""||A.pathname==="",s=i?"/":A.pathname,a;if(s==null)a=t;else{let h=e.length-1;if(!n&&s.startsWith("..")){let f=s.split("/");for(;f[0]==="..";)f.shift(),h-=1;A.pathname=f.join("/")}a=h>=0?e[h]:"/"}let o=M2(A,a),u=s&&s!=="/"&&s.endsWith("/"),l=(i||s===".")&&t.endsWith("/");return!o.pathname.endsWith("/")&&(u||l)&&(o.pathname+="/"),o}const pl=r=>r.join("/").replace(/\/\/+/g,"/"),H2=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),V2=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,K2=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function GZ(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}const v1=["post","put","patch","delete"];new Set(v1);const G2=["get",...v1];new Set(G2);var g0={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y1=function(r){const e=[];let t=0;for(let n=0;n<r.length;n++){let A=r.charCodeAt(n);A<128?e[t++]=A:A<2048?(e[t++]=A>>6|192,e[t++]=A&63|128):(A&64512)===55296&&n+1<r.length&&(r.charCodeAt(n+1)&64512)===56320?(A=65536+((A&1023)<<10)+(r.charCodeAt(++n)&1023),e[t++]=A>>18|240,e[t++]=A>>12&63|128,e[t++]=A>>6&63|128,e[t++]=A&63|128):(e[t++]=A>>12|224,e[t++]=A>>6&63|128,e[t++]=A&63|128)}return e},j2=function(r){const e=[];let t=0,n=0;for(;t<r.length;){const A=r[t++];if(A<128)e[n++]=String.fromCharCode(A);else if(A>191&&A<224){const i=r[t++];e[n++]=String.fromCharCode((A&31)<<6|i&63)}else if(A>239&&A<365){const i=r[t++],s=r[t++],a=r[t++],o=((A&7)<<18|(i&63)<<12|(s&63)<<6|a&63)-65536;e[n++]=String.fromCharCode(55296+(o>>10)),e[n++]=String.fromCharCode(56320+(o&1023))}else{const i=r[t++],s=r[t++];e[n++]=String.fromCharCode((A&15)<<12|(i&63)<<6|s&63)}}return e.join("")},w1={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let A=0;A<r.length;A+=3){const i=r[A],s=A+1<r.length,a=s?r[A+1]:0,o=A+2<r.length,u=o?r[A+2]:0,l=i>>2,h=(i&3)<<4|a>>4;let f=(a&15)<<2|u>>6,d=u&63;o||(d=64,s||(f=64)),n.push(t[l],t[h],t[f],t[d])}return n.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(y1(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):j2(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let A=0;A<r.length;){const i=t[r.charAt(A++)],a=A<r.length?t[r.charAt(A)]:0;++A;const u=A<r.length?t[r.charAt(A)]:64;++A;const h=A<r.length?t[r.charAt(A)]:64;if(++A,i==null||a==null||u==null||h==null)throw new q2;const f=i<<2|a>>4;if(n.push(f),u!==64){const d=a<<4&240|u>>2;if(n.push(d),h!==64){const g=u<<6&192|h;n.push(g)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class q2 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const W2=function(r){const e=y1(r);return w1.encodeByteArray(e,!0)},Nl=function(r){return W2(r).replace(/\./g,"")},B1=function(r){try{return w1.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $2(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X2=()=>$2().__FIREBASE_DEFAULTS__,z2=()=>{if(typeof process>"u"||typeof g0>"u")return;const r=g0.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},Y2=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&B1(r[1]);return e&&JSON.parse(e)},Ec=()=>{try{return X2()||z2()||Y2()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},C1=r=>{var e,t;return(t=(e=Ec())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[r]},E1=r=>{const e=C1(r);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const n=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),n]:[e.substring(0,t),n]},_1=()=>{var r;return(r=Ec())===null||r===void 0?void 0:r.config},T1=r=>{var e;return(e=Ec())===null||e===void 0?void 0:e[`_${r}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J2{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,n))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z2(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},n=e||"demo-project",A=r.iat||0,i=r.sub||r.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:A,exp:A+3600,auth_time:A,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},r);return[Nl(JSON.stringify(t)),Nl(JSON.stringify(s)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function or(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function eL(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(or())}function tL(){var r;const e=(r=Ec())===null||r===void 0?void 0:r.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function rL(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function ey(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function nL(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function AL(){const r=or();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function iL(){return!tL()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function ty(){try{return typeof indexedDB=="object"}catch{return!1}}function ry(){return new Promise((r,e)=>{try{let t=!0;const n="validate-browser-context-for-indexeddb-analytics-module",A=self.indexedDB.open(n);A.onsuccess=()=>{A.result.close(),t||self.indexedDB.deleteDatabase(n),r(!0)},A.onupgradeneeded=()=>{t=!1},A.onerror=()=>{var i;e(((i=A.error)===null||i===void 0?void 0:i.message)||"")}}catch(t){e(t)}})}function I1(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sL="FirebaseError";class gn extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name=sL,Object.setPrototypeOf(this,gn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Mi.prototype.create)}}class Mi{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e,...t){const n=t[0]||{},A=`${this.service}/${e}`,i=this.errors[e],s=i?aL(i,n):"Error",a=`${this.serviceName}: ${s} (${A}).`;return new gn(A,a,n)}}function aL(r,e){return r.replace(oL,(t,n)=>{const A=e[n];return A!=null?String(A):`<${n}?>`})}const oL=/\{\$([^}]+)}/g;function uL(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function ao(r,e){if(r===e)return!0;const t=Object.keys(r),n=Object.keys(e);for(const A of t){if(!n.includes(A))return!1;const i=r[A],s=e[A];if(p0(i)&&p0(s)){if(!ao(i,s))return!1}else if(i!==s)return!1}for(const A of n)if(!t.includes(A))return!1;return!0}function p0(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ro(r){const e=[];for(const[t,n]of Object.entries(r))Array.isArray(n)?n.forEach(A=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(A))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(n));return e.length?"&"+e.join("&"):""}function Ua(r){const e={};return r.replace(/^\?/,"").split("&").forEach(n=>{if(n){const[A,i]=n.split("=");e[decodeURIComponent(A)]=decodeURIComponent(i)}}),e}function Fa(r){const e=r.indexOf("?");if(!e)return"";const t=r.indexOf("#",e);return r.substring(e,t>0?t:void 0)}function lL(r,e){const t=new cL(r,e);return t.subscribe.bind(t)}class cL{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(n=>{this.error(n)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,n){let A;if(e===void 0&&t===void 0&&n===void 0)throw new Error("Missing Observer.");hL(e,["next","error","complete"])?A=e:A={next:e,error:t,complete:n},A.next===void 0&&(A.next=Nh),A.error===void 0&&(A.error=Nh),A.complete===void 0&&(A.complete=Nh);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?A.error(this.finalError):A.complete()}catch{}}),this.observers.push(A),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(n){typeof console<"u"&&console.error&&console.error(n)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function hL(r,e){if(typeof r!="object"||r===null)return!1;for(const t of e)if(t in r&&typeof r[t]=="function")return!0;return!1}function Nh(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fL=1e3,dL=2,gL=14400*1e3,pL=.5;function m0(r,e=fL,t=dL){const n=e*Math.pow(t,r),A=Math.round(pL*n*(Math.random()-.5)*2);return Math.min(gL,n+A)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Je(r){return r&&r._delegate?r._delegate:r}class $r{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ci="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mL{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const n=new J2;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{const A=this.getOrInitializeService({instanceIdentifier:t});A&&n.resolve(A)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(e?.identifier),A=(t=e?.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(A)return null;throw i}else{if(A)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(yL(e))try{this.getOrInitializeService({instanceIdentifier:ci})}catch{}for(const[t,n]of this.instancesDeferred.entries()){const A=this.normalizeInstanceIdentifier(t);try{const i=this.getOrInitializeService({instanceIdentifier:A});n.resolve(i)}catch{}}}}clearInstance(e=ci){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ci){return this.instances.has(e)}getOptions(e=ci){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const A=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[i,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(i);n===a&&s.resolve(A)}return A}onInit(e,t){var n;const A=this.normalizeInstanceIdentifier(t),i=(n=this.onInitCallbacks.get(A))!==null&&n!==void 0?n:new Set;i.add(e),this.onInitCallbacks.set(A,i);const s=this.instances.get(A);return s&&e(s,A),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const A of n)try{A(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:vL(e),options:t}),this.instances.set(e,n),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch{}return n||null}normalizeInstanceIdentifier(e=ci){return this.component?this.component.multipleInstances?e:ci:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function vL(r){return r===ci?void 0:r}function yL(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wL{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new mL(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Fe;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Fe||(Fe={}));const BL={debug:Fe.DEBUG,verbose:Fe.VERBOSE,info:Fe.INFO,warn:Fe.WARN,error:Fe.ERROR,silent:Fe.SILENT},CL=Fe.INFO,EL={[Fe.DEBUG]:"log",[Fe.VERBOSE]:"log",[Fe.INFO]:"info",[Fe.WARN]:"warn",[Fe.ERROR]:"error"},_L=(r,e,...t)=>{if(e<r.logLevel)return;const n=new Date().toISOString(),A=EL[e];if(A)console[A](`[${n}]  ${r.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};let _c=class{constructor(e){this.name=e,this._logLevel=CL,this._logHandler=_L,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Fe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?BL[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Fe.DEBUG,...e),this._logHandler(this,Fe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Fe.VERBOSE,...e),this._logHandler(this,Fe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Fe.INFO,...e),this._logHandler(this,Fe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Fe.WARN,...e),this._logHandler(this,Fe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Fe.ERROR,...e),this._logHandler(this,Fe.ERROR,...e)}};const TL=(r,e)=>e.some(t=>r instanceof t);let v0,y0;function IL(){return v0||(v0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function bL(){return y0||(y0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const b1=new WeakMap,fm=new WeakMap,U1=new WeakMap,kh=new WeakMap,ny=new WeakMap;function UL(r){const e=new Promise((t,n)=>{const A=()=>{r.removeEventListener("success",i),r.removeEventListener("error",s)},i=()=>{t(NA(r.result)),A()},s=()=>{n(r.error),A()};r.addEventListener("success",i),r.addEventListener("error",s)});return e.then(t=>{t instanceof IDBCursor&&b1.set(t,r)}).catch(()=>{}),ny.set(e,r),e}function FL(r){if(fm.has(r))return;const e=new Promise((t,n)=>{const A=()=>{r.removeEventListener("complete",i),r.removeEventListener("error",s),r.removeEventListener("abort",s)},i=()=>{t(),A()},s=()=>{n(r.error||new DOMException("AbortError","AbortError")),A()};r.addEventListener("complete",i),r.addEventListener("error",s),r.addEventListener("abort",s)});fm.set(r,e)}let dm={get(r,e,t){if(r instanceof IDBTransaction){if(e==="done")return fm.get(r);if(e==="objectStoreNames")return r.objectStoreNames||U1.get(r);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return NA(r[e])},set(r,e,t){return r[e]=t,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function SL(r){dm=r(dm)}function QL(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const n=r.call(Hh(this),e,...t);return U1.set(n,e.sort?e.sort():[e]),NA(n)}:bL().includes(r)?function(...e){return r.apply(Hh(this),e),NA(b1.get(this))}:function(...e){return NA(r.apply(Hh(this),e))}}function RL(r){return typeof r=="function"?QL(r):(r instanceof IDBTransaction&&FL(r),TL(r,IL())?new Proxy(r,dm):r)}function NA(r){if(r instanceof IDBRequest)return UL(r);if(kh.has(r))return kh.get(r);const e=RL(r);return e!==r&&(kh.set(r,e),ny.set(e,r)),e}const Hh=r=>ny.get(r);function F1(r,e,{blocked:t,upgrade:n,blocking:A,terminated:i}={}){const s=indexedDB.open(r,e),a=NA(s);return n&&s.addEventListener("upgradeneeded",o=>{n(NA(s.result),o.oldVersion,o.newVersion,NA(s.transaction),o)}),t&&s.addEventListener("blocked",o=>t(o.oldVersion,o.newVersion,o)),a.then(o=>{i&&o.addEventListener("close",()=>i()),A&&o.addEventListener("versionchange",u=>A(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const xL=["get","getKey","getAll","getAllKeys","count"],PL=["put","add","delete","clear"],Vh=new Map;function w0(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(Vh.get(e))return Vh.get(e);const t=e.replace(/FromIndex$/,""),n=e!==t,A=PL.includes(t);if(!(t in(n?IDBIndex:IDBObjectStore).prototype)||!(A||xL.includes(t)))return;const i=async function(s,...a){const o=this.transaction(s,A?"readwrite":"readonly");let u=o.store;return n&&(u=u.index(a.shift())),(await Promise.all([u[t](...a),A&&o.done]))[0]};return Vh.set(e,i),i}SL(r=>({...r,get:(e,t,n)=>w0(e,t)||r.get(e,t,n),has:(e,t)=>!!w0(e,t)||r.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OL{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(DL(t)){const n=t.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(t=>t).join(" ")}}function DL(r){const e=r.getComponent();return e?.type==="VERSION"}const gm="@firebase/app",B0="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iA=new _c("@firebase/app"),LL="@firebase/app-compat",ML="@firebase/analytics-compat",NL="@firebase/analytics",kL="@firebase/app-check-compat",HL="@firebase/app-check",VL="@firebase/auth",KL="@firebase/auth-compat",GL="@firebase/database",jL="@firebase/data-connect",qL="@firebase/database-compat",WL="@firebase/functions",$L="@firebase/functions-compat",XL="@firebase/installations",zL="@firebase/installations-compat",YL="@firebase/messaging",JL="@firebase/messaging-compat",ZL="@firebase/performance",eM="@firebase/performance-compat",tM="@firebase/remote-config",rM="@firebase/remote-config-compat",nM="@firebase/storage",AM="@firebase/storage-compat",iM="@firebase/firestore",sM="@firebase/vertexai-preview",aM="@firebase/firestore-compat",oM="firebase",uM="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pm="[DEFAULT]",lM={[gm]:"fire-core",[LL]:"fire-core-compat",[NL]:"fire-analytics",[ML]:"fire-analytics-compat",[HL]:"fire-app-check",[kL]:"fire-app-check-compat",[VL]:"fire-auth",[KL]:"fire-auth-compat",[GL]:"fire-rtdb",[jL]:"fire-data-connect",[qL]:"fire-rtdb-compat",[WL]:"fire-fn",[$L]:"fire-fn-compat",[XL]:"fire-iid",[zL]:"fire-iid-compat",[YL]:"fire-fcm",[JL]:"fire-fcm-compat",[ZL]:"fire-perf",[eM]:"fire-perf-compat",[tM]:"fire-rc",[rM]:"fire-rc-compat",[nM]:"fire-gcs",[AM]:"fire-gcs-compat",[iM]:"fire-fst",[aM]:"fire-fst-compat",[sM]:"fire-vertex","fire-js":"fire-js",[oM]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kl=new Map,cM=new Map,mm=new Map;function C0(r,e){try{r.container.addComponent(e)}catch(t){iA.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,t)}}function hn(r){const e=r.name;if(mm.has(e))return iA.debug(`There were multiple attempts to register component ${e}.`),!1;mm.set(e,r);for(const t of kl.values())C0(t,r);for(const t of cM.values())C0(t,r);return!0}function YA(r,e){const t=r.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),r.container.getProvider(e)}function ln(r){return r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hM={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},kA=new Mi("app","Firebase",hM);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fM{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new $r("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw kA.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ms=uM;function dM(r,e={}){let t=r;typeof e!="object"&&(e={name:e});const n=Object.assign({name:pm,automaticDataCollectionEnabled:!1},e),A=n.name;if(typeof A!="string"||!A)throw kA.create("bad-app-name",{appName:String(A)});if(t||(t=_1()),!t)throw kA.create("no-options");const i=kl.get(A);if(i){if(ao(t,i.options)&&ao(n,i.config))return i;throw kA.create("duplicate-app",{appName:A})}const s=new wL(A);for(const o of mm.values())s.addComponent(o);const a=new fM(t,n,s);return kl.set(A,a),a}function Tc(r=pm){const e=kl.get(r);if(!e&&r===pm&&_1())return dM();if(!e)throw kA.create("no-app",{appName:r});return e}function Cr(r,e,t){var n;let A=(n=lM[r])!==null&&n!==void 0?n:r;t&&(A+=`-${t}`);const i=A.match(/\s|\//),s=e.match(/\s|\//);if(i||s){const a=[`Unable to register library "${A}" with version "${e}":`];i&&a.push(`library name "${A}" contains illegal characters (whitespace or "/")`),i&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),iA.warn(a.join(" "));return}hn(new $r(`${A}-version`,()=>({library:A,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gM="firebase-heartbeat-database",pM=1,oo="firebase-heartbeat-store";let Kh=null;function S1(){return Kh||(Kh=F1(gM,pM,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(oo)}catch(t){console.warn(t)}}}}).catch(r=>{throw kA.create("idb-open",{originalErrorMessage:r.message})})),Kh}async function mM(r){try{const t=(await S1()).transaction(oo),n=await t.objectStore(oo).get(Q1(r));return await t.done,n}catch(e){if(e instanceof gn)iA.warn(e.message);else{const t=kA.create("idb-get",{originalErrorMessage:e?.message});iA.warn(t.message)}}}async function E0(r,e){try{const n=(await S1()).transaction(oo,"readwrite");await n.objectStore(oo).put(e,Q1(r)),await n.done}catch(t){if(t instanceof gn)iA.warn(t.message);else{const n=kA.create("idb-set",{originalErrorMessage:t?.message});iA.warn(n.message)}}}function Q1(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vM=1024,yM=720*60*60*1e3;class wM{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new CM(t),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}async triggerHeartbeat(){var e,t;try{const A=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=_0();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(s=>s.date===i)?void 0:(this._heartbeatsCache.heartbeats.push({date:i,agent:A}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{const a=new Date(s.date).valueOf();return Date.now()-a<=yM}),this._storage.overwrite(this._heartbeatsCache))}catch(n){iA.warn(n)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=_0(),{heartbeatsToSend:n,unsentEntries:A}=BM(this._heartbeatsCache.heartbeats),i=Nl(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,A.length>0?(this._heartbeatsCache.heartbeats=A,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(t){return iA.warn(t),""}}}function _0(){return new Date().toISOString().substring(0,10)}function BM(r,e=vM){const t=[];let n=r.slice();for(const A of r){const i=t.find(s=>s.agent===A.agent);if(i){if(i.dates.push(A.date),T0(t)>e){i.dates.pop();break}}else if(t.push({agent:A.agent,dates:[A.date]}),T0(t)>e){t.pop();break}n=n.slice(1)}return{heartbeatsToSend:t,unsentEntries:n}}class CM{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return ty()?ry().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await mM(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const A=await this.read();return E0(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:A.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const A=await this.read();return E0(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:A.lastSentHeartbeatDate,heartbeats:[...A.heartbeats,...e.heartbeats]})}else return}}function T0(r){return Nl(JSON.stringify({version:2,heartbeats:r})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EM(r){hn(new $r("platform-logger",e=>new OL(e),"PRIVATE")),hn(new $r("heartbeat",e=>new wM(e),"PRIVATE")),Cr(gm,B0,r),Cr(gm,B0,"esm2017"),Cr("fire-js","")}EM("");function Ay(r,e){var t={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var A=0,n=Object.getOwnPropertySymbols(r);A<n.length;A++)e.indexOf(n[A])<0&&Object.prototype.propertyIsEnumerable.call(r,n[A])&&(t[n[A]]=r[n[A]]);return t}function R1(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const _M=R1,x1=new Mi("auth","Firebase",R1());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hl=new _c("@firebase/auth");function TM(r,...e){Hl.logLevel<=Fe.WARN&&Hl.warn(`Auth (${Ms}): ${r}`,...e)}function ml(r,...e){Hl.logLevel<=Fe.ERROR&&Hl.error(`Auth (${Ms}): ${r}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xr(r,...e){throw sy(r,...e)}function cn(r,...e){return sy(r,...e)}function iy(r,e,t){const n=Object.assign(Object.assign({},_M()),{[e]:t});return new Mi("auth","Firebase",n).create(e,{appName:r.name})}function tA(r){return iy(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function IM(r,e,t){const n=t;if(!(e instanceof n))throw n.name!==e.constructor.name&&Xr(r,"argument-error"),iy(r,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function sy(r,...e){if(typeof r!="string"){const t=e[0],n=[...e.slice(1)];return n[0]&&(n[0].appName=r.name),r._errorFactory.create(t,...n)}return x1.create(r,...e)}function me(r,e,...t){if(!r)throw sy(e,...t)}function Yn(r){const e="INTERNAL ASSERTION FAILED: "+r;throw ml(e),new Error(e)}function sA(r,e){r||Yn(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vm(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.href)||""}function bM(){return I0()==="http:"||I0()==="https:"}function I0(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UM(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(bM()||ey()||"connection"in navigator)?navigator.onLine:!0}function FM(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xo{constructor(e,t){this.shortDelay=e,this.longDelay=t,sA(t>e,"Short delay should be less than long delay!"),this.isMobile=eL()||nL()}get(){return UM()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ay(r,e){sA(r.emulator,"Emulator should always be set here");const{url:t}=r.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P1{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Yn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Yn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Yn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SM={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QM=new xo(3e4,6e4);function gA(r,e){return r.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:r.tenantId}):e}async function Fn(r,e,t,n,A={}){return O1(r,A,async()=>{let i={},s={};n&&(e==="GET"?s=n:i={body:JSON.stringify(n)});const a=Ro(Object.assign({key:r.config.apiKey},s)).slice(1),o=await r._getAdditionalHeaders();o["Content-Type"]="application/json",r.languageCode&&(o["X-Firebase-Locale"]=r.languageCode);const u=Object.assign({method:e,headers:o},i);return rL()||(u.referrerPolicy="no-referrer"),P1.fetch()(D1(r,r.config.apiHost,t,a),u)})}async function O1(r,e,t){r._canInitEmulator=!1;const n=Object.assign(Object.assign({},SM),e);try{const A=new xM(r),i=await Promise.race([t(),A.promise]);A.clearNetworkTimeout();const s=await i.json();if("needConfirmation"in s)throw Tu(r,"account-exists-with-different-credential",s);if(i.ok&&!("errorMessage"in s))return s;{const a=i.ok?s.errorMessage:s.error.message,[o,u]=a.split(" : ");if(o==="FEDERATED_USER_ID_ALREADY_LINKED")throw Tu(r,"credential-already-in-use",s);if(o==="EMAIL_EXISTS")throw Tu(r,"email-already-in-use",s);if(o==="USER_DISABLED")throw Tu(r,"user-disabled",s);const l=n[o]||o.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw iy(r,l,u);Xr(r,l)}}catch(A){if(A instanceof gn)throw A;Xr(r,"network-request-failed",{message:String(A)})}}async function Po(r,e,t,n,A={}){const i=await Fn(r,e,t,n,A);return"mfaPendingCredential"in i&&Xr(r,"multi-factor-auth-required",{_serverResponse:i}),i}function D1(r,e,t,n){const A=`${e}${t}?${n}`;return r.config.emulator?ay(r.config,A):`${r.config.apiScheme}://${A}`}function RM(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class xM{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,n)=>{this.timer=setTimeout(()=>n(cn(this.auth,"network-request-failed")),QM.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Tu(r,e,t){const n={appName:r.name};t.email&&(n.email=t.email),t.phoneNumber&&(n.phoneNumber=t.phoneNumber);const A=cn(r,e,n);return A.customData._tokenResponse=t,A}function b0(r){return r!==void 0&&r.enterprise!==void 0}class PM{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return RM(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function OM(r,e){return Fn(r,"GET","/v2/recaptchaConfig",gA(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DM(r,e){return Fn(r,"POST","/v1/accounts:delete",e)}async function L1(r,e){return Fn(r,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Va(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function LM(r,e=!1){const t=Je(r),n=await t.getIdToken(e),A=oy(n);me(A&&A.exp&&A.auth_time&&A.iat,t.auth,"internal-error");const i=typeof A.firebase=="object"?A.firebase:void 0,s=i?.sign_in_provider;return{claims:A,token:n,authTime:Va(Gh(A.auth_time)),issuedAtTime:Va(Gh(A.iat)),expirationTime:Va(Gh(A.exp)),signInProvider:s||null,signInSecondFactor:i?.sign_in_second_factor||null}}function Gh(r){return Number(r)*1e3}function oy(r){const[e,t,n]=r.split(".");if(e===void 0||t===void 0||n===void 0)return ml("JWT malformed, contained fewer than 3 sections"),null;try{const A=B1(t);return A?JSON.parse(A):(ml("Failed to decode base64 JWT payload"),null)}catch(A){return ml("Caught error parsing JWT payload as JSON",A?.toString()),null}}function U0(r){const e=oy(r);return me(e,"internal-error"),me(typeof e.exp<"u","internal-error"),me(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bs(r,e,t=!1){if(t)return e;try{return await e}catch(n){throw n instanceof gn&&MM(n)&&r.auth.currentUser===r&&await r.auth.signOut(),n}}function MM({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NM{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const A=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,A)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ym{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Va(this.lastLoginAt),this.creationTime=Va(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vl(r){var e;const t=r.auth,n=await r.getIdToken(),A=await bs(r,L1(t,{idToken:n}));me(A?.users.length,t,"internal-error");const i=A.users[0];r._notifyReloadListener(i);const s=!((e=i.providerUserInfo)===null||e===void 0)&&e.length?M1(i.providerUserInfo):[],a=HM(r.providerData,s),o=r.isAnonymous,u=!(r.email&&i.passwordHash)&&!a?.length,l=o?u:!1,h={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new ym(i.createdAt,i.lastLoginAt),isAnonymous:l};Object.assign(r,h)}async function kM(r){const e=Je(r);await Vl(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function HM(r,e){return[...r.filter(n=>!e.some(A=>A.providerId===n.providerId)),...e]}function M1(r){return r.map(e=>{var{providerId:t}=e,n=Ay(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VM(r,e){const t=await O1(r,{},async()=>{const n=Ro({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:A,apiKey:i}=r.config,s=D1(r,A,"/v1/token",`key=${i}`),a=await r._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",P1.fetch()(s,{method:"POST",headers:a,body:n})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function KM(r,e){return Fn(r,"POST","/v2/accounts:revokeToken",gA(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bs{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){me(e.idToken,"internal-error"),me(typeof e.idToken<"u","internal-error"),me(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):U0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){me(e.length!==0,"internal-error");const t=U0(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(me(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:A,expiresIn:i}=await VM(e,t);this.updateTokensAndExpiration(n,A,Number(i))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+n*1e3}static fromJSON(e,t){const{refreshToken:n,accessToken:A,expirationTime:i}=t,s=new Bs;return n&&(me(typeof n=="string","internal-error",{appName:e}),s.refreshToken=n),A&&(me(typeof A=="string","internal-error",{appName:e}),s.accessToken=A),i&&(me(typeof i=="number","internal-error",{appName:e}),s.expirationTime=i),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Bs,this.toJSON())}_performRefresh(){return Yn("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BA(r,e){me(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class Jn{constructor(e){var{uid:t,auth:n,stsTokenManager:A}=e,i=Ay(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new NM(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=A,this.accessToken=A.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new ym(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const t=await bs(this,this.stsTokenManager.getToken(this.auth,e));return me(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return LM(this,e)}reload(){return kM(this)}_assign(e){this!==e&&(me(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Jn(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){me(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await Vl(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ln(this.auth.app))return Promise.reject(tA(this.auth));const e=await this.getIdToken();return await bs(this,DM(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,A,i,s,a,o,u,l;const h=(n=t.displayName)!==null&&n!==void 0?n:void 0,f=(A=t.email)!==null&&A!==void 0?A:void 0,d=(i=t.phoneNumber)!==null&&i!==void 0?i:void 0,g=(s=t.photoURL)!==null&&s!==void 0?s:void 0,m=(a=t.tenantId)!==null&&a!==void 0?a:void 0,C=(o=t._redirectEventId)!==null&&o!==void 0?o:void 0,E=(u=t.createdAt)!==null&&u!==void 0?u:void 0,T=(l=t.lastLoginAt)!==null&&l!==void 0?l:void 0,{uid:I,emailVerified:b,isAnonymous:P,providerData:Q,stsTokenManager:v}=t;me(I&&v,e,"internal-error");const y=Bs.fromJSON(this.name,v);me(typeof I=="string",e,"internal-error"),BA(h,e.name),BA(f,e.name),me(typeof b=="boolean",e,"internal-error"),me(typeof P=="boolean",e,"internal-error"),BA(d,e.name),BA(g,e.name),BA(m,e.name),BA(C,e.name),BA(E,e.name),BA(T,e.name);const w=new Jn({uid:I,auth:e,email:f,emailVerified:b,displayName:h,isAnonymous:P,photoURL:g,phoneNumber:d,tenantId:m,stsTokenManager:y,createdAt:E,lastLoginAt:T});return Q&&Array.isArray(Q)&&(w.providerData=Q.map(U=>Object.assign({},U))),C&&(w._redirectEventId=C),w}static async _fromIdTokenResponse(e,t,n=!1){const A=new Bs;A.updateFromServerResponse(t);const i=new Jn({uid:t.localId,auth:e,stsTokenManager:A,isAnonymous:n});return await Vl(i),i}static async _fromGetAccountInfoResponse(e,t,n){const A=t.users[0];me(A.localId!==void 0,"internal-error");const i=A.providerUserInfo!==void 0?M1(A.providerUserInfo):[],s=!(A.email&&A.passwordHash)&&!i?.length,a=new Bs;a.updateFromIdToken(n);const o=new Jn({uid:A.localId,auth:e,stsTokenManager:a,isAnonymous:s}),u={uid:A.localId,displayName:A.displayName||null,photoURL:A.photoUrl||null,email:A.email||null,emailVerified:A.emailVerified||!1,phoneNumber:A.phoneNumber||null,tenantId:A.tenantId||null,providerData:i,metadata:new ym(A.createdAt,A.lastLoginAt),isAnonymous:!(A.email&&A.passwordHash)&&!i?.length};return Object.assign(o,u),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F0=new Map;function Zn(r){sA(r instanceof Function,"Expected a class definition");let e=F0.get(r);return e?(sA(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,F0.set(r,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N1{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}N1.type="NONE";const S0=N1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vl(r,e,t){return`firebase:${r}:${e}:${t}`}class Cs{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:A,name:i}=this.auth;this.fullUserKey=vl(this.userKey,A.apiKey,i),this.fullPersistenceKey=vl("persistence",A.apiKey,i),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Jn._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,n="authUser"){if(!t.length)return new Cs(Zn(S0),e,n);const A=(await Promise.all(t.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let i=A[0]||Zn(S0);const s=vl(n,e.config.apiKey,e.name);let a=null;for(const u of t)try{const l=await u._get(s);if(l){const h=Jn._fromJSON(e,l);u!==i&&(a=h),i=u;break}}catch{}const o=A.filter(u=>u._shouldAllowMigration);return!i._shouldAllowMigration||!o.length?new Cs(i,e,n):(i=o[0],a&&await i._set(s,a.toJSON()),await Promise.all(t.map(async u=>{if(u!==i)try{await u._remove(s)}catch{}})),new Cs(i,e,n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q0(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(K1(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(k1(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(j1(e))return"Blackberry";if(q1(e))return"Webos";if(H1(e))return"Safari";if((e.includes("chrome/")||V1(e))&&!e.includes("edge/"))return"Chrome";if(G1(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=r.match(t);if(n?.length===2)return n[1]}return"Other"}function k1(r=or()){return/firefox\//i.test(r)}function H1(r=or()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function V1(r=or()){return/crios\//i.test(r)}function K1(r=or()){return/iemobile/i.test(r)}function G1(r=or()){return/android/i.test(r)}function j1(r=or()){return/blackberry/i.test(r)}function q1(r=or()){return/webos/i.test(r)}function uy(r=or()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function GM(r=or()){var e;return uy(r)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function jM(){return AL()&&document.documentMode===10}function W1(r=or()){return uy(r)||G1(r)||q1(r)||j1(r)||/windows phone/i.test(r)||K1(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $1(r,e=[]){let t;switch(r){case"Browser":t=Q0(or());break;case"Worker":t=`${Q0(or())}-${r}`;break;default:t=r}const n=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Ms}/${n}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qM{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=i=>new Promise((s,a)=>{try{const o=e(i);s(o)}catch(o){a(o)}});n.onAbort=t,this.queue.push(n);const A=this.queue.length-1;return()=>{this.queue[A]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(n){t.reverse();for(const A of t)try{A()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:n?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WM(r,e={}){return Fn(r,"GET","/v2/passwordPolicy",gA(r,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $M=6;class XM{constructor(e){var t,n,A,i;const s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=s.minPasswordLength)!==null&&t!==void 0?t:$M,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(A=(n=e.allowedNonAlphanumericCharacters)===null||n===void 0?void 0:n.join(""))!==null&&A!==void 0?A:"",this.forceUpgradeOnSignin=(i=e.forceUpgradeOnSignin)!==null&&i!==void 0?i:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,n,A,i,s,a;const o={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,o),this.validatePasswordCharacterOptions(e,o),o.isValid&&(o.isValid=(t=o.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),o.isValid&&(o.isValid=(n=o.meetsMaxPasswordLength)!==null&&n!==void 0?n:!0),o.isValid&&(o.isValid=(A=o.containsLowercaseLetter)!==null&&A!==void 0?A:!0),o.isValid&&(o.isValid=(i=o.containsUppercaseLetter)!==null&&i!==void 0?i:!0),o.isValid&&(o.isValid=(s=o.containsNumericCharacter)!==null&&s!==void 0?s:!0),o.isValid&&(o.isValid=(a=o.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),o}validatePasswordLengthOptions(e,t){const n=this.customStrengthOptions.minPasswordLength,A=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),A&&(t.meetsMaxPasswordLength=e.length<=A)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let n;for(let A=0;A<e.length;A++)n=e.charAt(A),this.updatePasswordCharacterOptionsStatuses(t,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,t,n,A,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=A)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zM{constructor(e,t,n,A){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=A,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new R0(this),this.idTokenSubscription=new R0(this),this.beforeStateQueue=new qM(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=x1,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=A.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Zn(t)),this._initializationPromise=this.queue(async()=>{var n,A;if(!this._deleted&&(this.persistenceManager=await Cs.create(this,e),!this._deleted)){if(!((n=this._popupRedirectResolver)===null||n===void 0)&&n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((A=this.currentUser)===null||A===void 0?void 0:A.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await L1(this,{idToken:e}),n=await Jn._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(n)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(ln(this.app)){const s=this.app.settings.authIdToken;return s?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(a,a))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let A=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const s=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,a=A?._redirectEventId,o=await this.tryRedirectSignIn(e);(!s||s===a)&&o?.user&&(A=o.user,i=!0)}if(!A)return this.directlySetCurrentUser(null);if(!A._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(A)}catch(s){A=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return A?this.reloadAndSetCurrentUserOrClear(A):this.directlySetCurrentUser(null)}return me(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===A._redirectEventId?this.directlySetCurrentUser(A):this.reloadAndSetCurrentUserOrClear(A)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Vl(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=FM()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ln(this.app))return Promise.reject(tA(this));const t=e?Je(e):null;return t&&me(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&me(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ln(this.app)?Promise.reject(tA(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ln(this.app)?Promise.reject(tA(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Zn(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await WM(this),t=new XM(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Mi("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged(()=>{n(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),n={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(n.tenantId=this.tenantId),await KM(this,n)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return e===null?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Zn(e)||this._popupRedirectResolver;me(t,this,"argument-error"),this.redirectPersistenceManager=await Cs.create(this,[Zn(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,A){if(this._deleted)return()=>{};const i=typeof t=="function"?t:t.next.bind(t);let s=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(me(a,this,"internal-error"),a.then(()=>{s||i(this.currentUser)}),typeof t=="function"){const o=e.addObserver(t,n,A);return()=>{s=!0,o()}}else{const o=e.addObserver(t);return()=>{s=!0,o()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return me(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=$1(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const A=await this._getAppCheckToken();return A&&(t["X-Firebase-AppCheck"]=A),t}async _getAppCheckToken(){var e;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t?.error&&TM(`Error while retrieving App Check token: ${t.error}`),t?.token}}function pA(r){return Je(r)}class R0{constructor(e){this.auth=e,this.observer=null,this.addObserver=lL(t=>this.observer=t)}get next(){return me(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ic={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function YM(r){Ic=r}function X1(r){return Ic.loadJS(r)}function JM(){return Ic.recaptchaEnterpriseScript}function ZM(){return Ic.gapiScript}function eN(r){return`__${r}${Math.floor(Math.random()*1e6)}`}const tN="recaptcha-enterprise",rN="NO_RECAPTCHA";class nN{constructor(e){this.type=tN,this.auth=pA(e)}async verify(e="verify",t=!1){async function n(i){if(!t){if(i.tenantId==null&&i._agentRecaptchaConfig!=null)return i._agentRecaptchaConfig.siteKey;if(i.tenantId!=null&&i._tenantRecaptchaConfigs[i.tenantId]!==void 0)return i._tenantRecaptchaConfigs[i.tenantId].siteKey}return new Promise(async(s,a)=>{OM(i,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(o=>{if(o.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const u=new PM(o);return i.tenantId==null?i._agentRecaptchaConfig=u:i._tenantRecaptchaConfigs[i.tenantId]=u,s(u.siteKey)}}).catch(o=>{a(o)})})}function A(i,s,a){const o=window.grecaptcha;b0(o)?o.enterprise.ready(()=>{o.enterprise.execute(i,{action:e}).then(u=>{s(u)}).catch(()=>{s(rN)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((i,s)=>{n(this.auth).then(a=>{if(!t&&b0(window.grecaptcha))A(a,i,s);else{if(typeof window>"u"){s(new Error("RecaptchaVerifier is only supported in browser"));return}let o=JM();o.length!==0&&(o+=a),X1(o).then(()=>{A(a,i,s)}).catch(u=>{s(u)})}}).catch(a=>{s(a)})})}}async function x0(r,e,t,n=!1){const A=new nN(r);let i;try{i=await A.verify(t)}catch{i=await A.verify(t,!0)}const s=Object.assign({},e);return n?Object.assign(s,{captchaResp:i}):Object.assign(s,{captchaResponse:i}),Object.assign(s,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(s,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),s}async function Kl(r,e,t,n){var A;if(!((A=r._getRecaptchaConfig())===null||A===void 0)&&A.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const i=await x0(r,e,t,t==="getOobCode");return n(r,i)}else return n(r,e).catch(async i=>{if(i.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const s=await x0(r,e,t,t==="getOobCode");return n(r,s)}else return Promise.reject(i)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AN(r,e){const t=YA(r,"auth");if(t.isInitialized()){const A=t.getImmediate(),i=t.getOptions();if(ao(i,e??{}))return A;Xr(A,"already-initialized")}return t.initialize({options:e})}function iN(r,e){const t=e?.persistence||[],n=(Array.isArray(t)?t:[t]).map(Zn);e?.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(n,e?.popupRedirectResolver)}function sN(r,e,t){const n=pA(r);me(n._canInitEmulator,n,"emulator-config-failed"),me(/^https?:\/\//.test(e),n,"invalid-emulator-scheme");const A=!1,i=z1(e),{host:s,port:a}=aN(e),o=a===null?"":`:${a}`;n.config.emulator={url:`${i}//${s}${o}/`},n.settings.appVerificationDisabledForTesting=!0,n.emulatorConfig=Object.freeze({host:s,port:a,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:A})}),oN()}function z1(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function aN(r){const e=z1(r),t=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!t)return{host:"",port:null};const n=t[2].split("@").pop()||"",A=/^(\[[^\]]+\])(:|$)/.exec(n);if(A){const i=A[1];return{host:i,port:P0(n.substr(i.length+1))}}else{const[i,s]=n.split(":");return{host:i,port:P0(s)}}}function P0(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function oN(){function r(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ly{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Yn("not implemented")}_getIdTokenResponse(e){return Yn("not implemented")}_linkToIdToken(e,t){return Yn("not implemented")}_getReauthenticationResolver(e){return Yn("not implemented")}}async function uN(r,e){return Fn(r,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lN(r,e){return Po(r,"POST","/v1/accounts:signInWithPassword",gA(r,e))}async function cN(r,e){return Fn(r,"POST","/v1/accounts:sendOobCode",gA(r,e))}async function hN(r,e){return cN(r,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fN(r,e){return Po(r,"POST","/v1/accounts:signInWithEmailLink",gA(r,e))}async function dN(r,e){return Po(r,"POST","/v1/accounts:signInWithEmailLink",gA(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uo extends ly{constructor(e,t,n,A=null){super("password",n),this._email=e,this._password=t,this._tenantId=A}static _fromEmailAndPassword(e,t){return new uo(e,t,"password")}static _fromEmailAndCode(e,t,n=null){return new uo(e,t,"emailLink",n)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Kl(e,t,"signInWithPassword",lN);case"emailLink":return fN(e,{email:this._email,oobCode:this._password});default:Xr(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const n={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Kl(e,n,"signUpPassword",uN);case"emailLink":return dN(e,{idToken:t,email:this._email,oobCode:this._password});default:Xr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Es(r,e){return Po(r,"POST","/v1/accounts:signInWithIdp",gA(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gN="http://localhost";class Fi extends ly{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Fi(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Xr("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:n,signInMethod:A}=t,i=Ay(t,["providerId","signInMethod"]);if(!n||!A)return null;const s=new Fi(n,A);return s.idToken=i.idToken||void 0,s.accessToken=i.accessToken||void 0,s.secret=i.secret,s.nonce=i.nonce,s.pendingToken=i.pendingToken||null,s}_getIdTokenResponse(e){const t=this.buildRequest();return Es(e,t)}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,Es(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Es(e,t)}buildRequest(){const e={requestUri:gN,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Ro(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pN(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function mN(r){const e=Ua(Fa(r)).link,t=e?Ua(Fa(e)).deep_link_id:null,n=Ua(Fa(r)).deep_link_id;return(n?Ua(Fa(n)).link:null)||n||t||e||r}class cy{constructor(e){var t,n,A,i,s,a;const o=Ua(Fa(e)),u=(t=o.apiKey)!==null&&t!==void 0?t:null,l=(n=o.oobCode)!==null&&n!==void 0?n:null,h=pN((A=o.mode)!==null&&A!==void 0?A:null);me(u&&l&&h,"argument-error"),this.apiKey=u,this.operation=h,this.code=l,this.continueUrl=(i=o.continueUrl)!==null&&i!==void 0?i:null,this.languageCode=(s=o.languageCode)!==null&&s!==void 0?s:null,this.tenantId=(a=o.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const t=mN(e);try{return new cy(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ns{constructor(){this.providerId=Ns.PROVIDER_ID}static credential(e,t){return uo._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=cy.parseLink(t);return me(n,"argument-error"),uo._fromEmailAndCode(e,n.code,n.tenantId)}}Ns.PROVIDER_ID="password";Ns.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Ns.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hy{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oo extends hy{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SA extends Oo{constructor(){super("facebook.com")}static credential(e){return Fi._fromParams({providerId:SA.PROVIDER_ID,signInMethod:SA.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return SA.credentialFromTaggedObject(e)}static credentialFromError(e){return SA.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return SA.credential(e.oauthAccessToken)}catch{return null}}}SA.FACEBOOK_SIGN_IN_METHOD="facebook.com";SA.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QA extends Oo{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Fi._fromParams({providerId:QA.PROVIDER_ID,signInMethod:QA.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return QA.credentialFromTaggedObject(e)}static credentialFromError(e){return QA.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:n}=e;if(!t&&!n)return null;try{return QA.credential(t,n)}catch{return null}}}QA.GOOGLE_SIGN_IN_METHOD="google.com";QA.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RA extends Oo{constructor(){super("github.com")}static credential(e){return Fi._fromParams({providerId:RA.PROVIDER_ID,signInMethod:RA.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return RA.credentialFromTaggedObject(e)}static credentialFromError(e){return RA.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return RA.credential(e.oauthAccessToken)}catch{return null}}}RA.GITHUB_SIGN_IN_METHOD="github.com";RA.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xA extends Oo{constructor(){super("twitter.com")}static credential(e,t){return Fi._fromParams({providerId:xA.PROVIDER_ID,signInMethod:xA.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return xA.credentialFromTaggedObject(e)}static credentialFromError(e){return xA.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:n}=e;if(!t||!n)return null;try{return xA.credential(t,n)}catch{return null}}}xA.TWITTER_SIGN_IN_METHOD="twitter.com";xA.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vN(r,e){return Po(r,"POST","/v1/accounts:signUp",gA(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Si{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n,A=!1){const i=await Jn._fromIdTokenResponse(e,n,A),s=O0(n);return new Si({user:i,providerId:s,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const A=O0(n);return new Si({user:e,providerId:A,_tokenResponse:n,operationType:t})}}function O0(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gl extends gn{constructor(e,t,n,A){var i;super(t.code,t.message),this.operationType=n,this.user=A,Object.setPrototypeOf(this,Gl.prototype),this.customData={appName:e.name,tenantId:(i=e.tenantId)!==null&&i!==void 0?i:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,A){return new Gl(e,t,n,A)}}function Y1(r,e,t,n){return(e==="reauthenticate"?t._getReauthenticationResolver(r):t._getIdTokenResponse(r)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?Gl._fromErrorAndOperation(r,i,e,n):i})}async function yN(r,e,t=!1){const n=await bs(r,e._linkToIdToken(r.auth,await r.getIdToken()),t);return Si._forOperation(r,"link",n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wN(r,e,t=!1){const{auth:n}=r;if(ln(n.app))return Promise.reject(tA(n));const A="reauthenticate";try{const i=await bs(r,Y1(n,A,e,r),t);me(i.idToken,n,"internal-error");const s=oy(i.idToken);me(s,n,"internal-error");const{sub:a}=s;return me(r.uid===a,n,"user-mismatch"),Si._forOperation(r,A,i)}catch(i){throw i?.code==="auth/user-not-found"&&Xr(n,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function J1(r,e,t=!1){if(ln(r.app))return Promise.reject(tA(r));const n="signIn",A=await Y1(r,n,e),i=await Si._fromIdTokenResponse(r,n,A);return t||await r._updateCurrentUser(i.user),i}async function BN(r,e){return J1(pA(r),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Z1(r){const e=pA(r);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function qZ(r,e,t){const n=pA(r);await Kl(n,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",hN)}async function WZ(r,e,t){if(ln(r.app))return Promise.reject(tA(r));const n=pA(r),s=await Kl(n,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",vN).catch(o=>{throw o.code==="auth/password-does-not-meet-requirements"&&Z1(r),o}),a=await Si._fromIdTokenResponse(n,"signIn",s);return await n._updateCurrentUser(a.user),a}function $Z(r,e,t){return ln(r.app)?Promise.reject(tA(r)):BN(Je(r),Ns.credential(e,t)).catch(async n=>{throw n.code==="auth/password-does-not-meet-requirements"&&Z1(r),n})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CN(r,e){return Fn(r,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XZ(r,{displayName:e,photoURL:t}){if(e===void 0&&t===void 0)return;const n=Je(r),i={idToken:await n.getIdToken(),displayName:e,photoUrl:t,returnSecureToken:!0},s=await bs(n,CN(n.auth,i));n.displayName=s.displayName||null,n.photoURL=s.photoUrl||null;const a=n.providerData.find(({providerId:o})=>o==="password");a&&(a.displayName=n.displayName,a.photoURL=n.photoURL),await n._updateTokensIfNecessary(s)}function EN(r,e,t,n){return Je(r).onIdTokenChanged(e,t,n)}function _N(r,e,t){return Je(r).beforeAuthStateChanged(e,t)}function zZ(r,e,t,n){return Je(r).onAuthStateChanged(e,t,n)}function YZ(r){return Je(r).signOut()}const jl="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eS{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(jl,"1"),this.storage.removeItem(jl),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TN=1e3,IN=10;class tS extends eS{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=W1(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),A=this.localCache[t];n!==A&&e(t,A,n)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((s,a,o)=>{this.notifyListeners(s,o)});return}const n=e.key;t?this.detachListener():this.stopPolling();const A=()=>{const s=this.storage.getItem(n);!t&&this.localCache[n]===s||this.notifyListeners(n,s)},i=this.storage.getItem(n);jM()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(A,IN):A()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const A of Array.from(n))A(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)})},TN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}tS.type="LOCAL";const bN=tS;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rS extends eS{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}rS.type="SESSION";const nS=rS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UN(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bc{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(A=>A.isListeningto(e));if(t)return t;const n=new bc(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:A,data:i}=t.data,s=this.handlersMap[A];if(!s?.size)return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:A});const a=Array.from(s).map(async u=>u(t.origin,i)),o=await UN(a);t.ports[0].postMessage({status:"done",eventId:n,eventType:A,response:o})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}bc.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fy(r="",e=10){let t="";for(let n=0;n<e;n++)t+=Math.floor(Math.random()*10);return r+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FN{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,n=50){const A=typeof MessageChannel<"u"?new MessageChannel:null;if(!A)throw new Error("connection_unavailable");let i,s;return new Promise((a,o)=>{const u=fy("",20);A.port1.start();const l=setTimeout(()=>{o(new Error("unsupported_event"))},n);s={messageChannel:A,onMessage(h){const f=h;if(f.data.eventId===u)switch(f.data.status){case"ack":clearTimeout(l),i=setTimeout(()=>{o(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),a(f.data.response);break;default:clearTimeout(l),clearTimeout(i),o(new Error("invalid_response"));break}}},this.handlers.add(s),A.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:u,data:t},[A.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function En(){return window}function SN(r){En().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AS(){return typeof En().WorkerGlobalScope<"u"&&typeof En().importScripts=="function"}async function QN(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function RN(){var r;return((r=navigator?.serviceWorker)===null||r===void 0?void 0:r.controller)||null}function xN(){return AS()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iS="firebaseLocalStorageDb",PN=1,ql="firebaseLocalStorage",sS="fbase_key";class Do{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Uc(r,e){return r.transaction([ql],e?"readwrite":"readonly").objectStore(ql)}function ON(){const r=indexedDB.deleteDatabase(iS);return new Do(r).toPromise()}function wm(){const r=indexedDB.open(iS,PN);return new Promise((e,t)=>{r.addEventListener("error",()=>{t(r.error)}),r.addEventListener("upgradeneeded",()=>{const n=r.result;try{n.createObjectStore(ql,{keyPath:sS})}catch(A){t(A)}}),r.addEventListener("success",async()=>{const n=r.result;n.objectStoreNames.contains(ql)?e(n):(n.close(),await ON(),e(await wm()))})})}async function D0(r,e,t){const n=Uc(r,!0).put({[sS]:e,value:t});return new Do(n).toPromise()}async function DN(r,e){const t=Uc(r,!1).get(e),n=await new Do(t).toPromise();return n===void 0?null:n.value}function L0(r,e){const t=Uc(r,!0).delete(e);return new Do(t).toPromise()}const LN=800,MN=3;class aS{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await wm(),this.db)}async _withRetries(e){let t=0;for(;;)try{const n=await this._openDb();return await e(n)}catch(n){if(t++>MN)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return AS()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=bc._getInstance(xN()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await QN(),!this.activeServiceWorker)return;this.sender=new FN(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&!((e=n[0])===null||e===void 0)&&e.fulfilled&&!((t=n[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||RN()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await wm();return await D0(e,jl,"1"),await L0(e,jl),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(n=>D0(n,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(n=>DN(n,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>L0(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(A=>{const i=Uc(A,!1).getAll();return new Do(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],n=new Set;if(e.length!==0)for(const{fbase_key:A,value:i}of e)n.add(A),JSON.stringify(this.localCache[A])!==JSON.stringify(i)&&(this.notifyListeners(A,i),t.push(A));for(const A of Object.keys(this.localCache))this.localCache[A]&&!n.has(A)&&(this.notifyListeners(A,null),t.push(A));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const A of Array.from(n))A(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),LN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}aS.type="LOCAL";const NN=aS;new xo(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oS(r,e){return e?Zn(e):(me(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dy extends ly{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Es(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Es(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Es(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function kN(r){return J1(r.auth,new dy(r),r.bypassAuthState)}function HN(r){const{auth:e,user:t}=r;return me(t,e,"internal-error"),wN(t,new dy(r),r.bypassAuthState)}async function VN(r){const{auth:e,user:t}=r;return me(t,e,"internal-error"),yN(t,new dy(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uS{constructor(e,t,n,A,i=!1){this.auth=e,this.resolver=n,this.user=A,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:A,tenantId:i,error:s,type:a}=e;if(s){this.reject(s);return}const o={auth:this.auth,requestUri:t,sessionId:n,tenantId:i||void 0,postBody:A||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(o))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return kN;case"linkViaPopup":case"linkViaRedirect":return VN;case"reauthViaPopup":case"reauthViaRedirect":return HN;default:Xr(this.auth,"internal-error")}}resolve(e){sA(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){sA(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KN=new xo(2e3,1e4);async function JZ(r,e,t){if(ln(r.app))return Promise.reject(cn(r,"operation-not-supported-in-this-environment"));const n=pA(r);IM(r,e,hy);const A=oS(n,t);return new pi(n,"signInViaPopup",e,A).executeNotNull()}class pi extends uS{constructor(e,t,n,A,i){super(e,t,A,i),this.provider=n,this.authWindow=null,this.pollId=null,pi.currentPopupAction&&pi.currentPopupAction.cancel(),pi.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return me(e,this.auth,"internal-error"),e}async onExecution(){sA(this.filter.length===1,"Popup operations only handle one event");const e=fy();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(cn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(cn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,pi.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,n;if(!((n=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||n===void 0)&&n.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(cn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,KN.get())};e()}}pi.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GN="pendingRedirect",yl=new Map;class jN extends uS{constructor(e,t,n=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,n),this.eventId=null}async execute(){let e=yl.get(this.auth._key());if(!e){try{const n=await qN(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(n)}catch(t){e=()=>Promise.reject(t)}yl.set(this.auth._key(),e)}return this.bypassAuthState||yl.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function qN(r,e){const t=XN(e),n=$N(r);if(!await n._isAvailable())return!1;const A=await n._get(t)==="true";return await n._remove(t),A}function WN(r,e){yl.set(r._key(),e)}function $N(r){return Zn(r._redirectPersistence)}function XN(r){return vl(GN,r.config.apiKey,r.name)}async function zN(r,e,t=!1){if(ln(r.app))return Promise.reject(tA(r));const n=pA(r),A=oS(n,e),s=await new jN(n,A,t).execute();return s&&!t&&(delete s.user._redirectEventId,await n._persistUserIfCurrent(s.user),await n._setRedirectUser(null,e)),s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YN=600*1e3;class JN{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!ZN(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var n;if(e.error&&!lS(e)){const A=((n=e.error.code)===null||n===void 0?void 0:n.split("auth/")[1])||"internal-error";t.onError(cn(this.auth,A))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=YN&&this.cachedEventUids.clear(),this.cachedEventUids.has(M0(e))}saveEventToCache(e){this.cachedEventUids.add(M0(e)),this.lastProcessedEventTime=Date.now()}}function M0(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function lS({type:r,error:e}){return r==="unknown"&&e?.code==="auth/no-auth-event"}function ZN(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return lS(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ek(r,e={}){return Fn(r,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tk=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,rk=/^https?/;async function nk(r){if(r.config.emulator)return;const{authorizedDomains:e}=await ek(r);for(const t of e)try{if(Ak(t))return}catch{}Xr(r,"unauthorized-domain")}function Ak(r){const e=vm(),{protocol:t,hostname:n}=new URL(e);if(r.startsWith("chrome-extension://")){const s=new URL(r);return s.hostname===""&&n===""?t==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&s.hostname===n}if(!rk.test(t))return!1;if(tk.test(r))return n===r;const A=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+A+"|"+A+")$","i").test(n)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ik=new xo(3e4,6e4);function N0(){const r=En().___jsl;if(r?.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let t=0;t<r.CP.length;t++)r.CP[t]=null}}function sk(r){return new Promise((e,t)=>{var n,A,i;function s(){N0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{N0(),t(cn(r,"network-request-failed"))},timeout:ik.get()})}if(!((A=(n=En().gapi)===null||n===void 0?void 0:n.iframes)===null||A===void 0)&&A.Iframe)e(gapi.iframes.getContext());else if(!((i=En().gapi)===null||i===void 0)&&i.load)s();else{const a=eN("iframefcb");return En()[a]=()=>{gapi.load?s():t(cn(r,"network-request-failed"))},X1(`${ZM()}?onload=${a}`).catch(o=>t(o))}}).catch(e=>{throw wl=null,e})}let wl=null;function ak(r){return wl=wl||sk(r),wl}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ok=new xo(5e3,15e3),uk="__/auth/iframe",lk="emulator/auth/iframe",ck={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},hk=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function fk(r){const e=r.config;me(e.authDomain,r,"auth-domain-config-required");const t=e.emulator?ay(e,lk):`https://${r.config.authDomain}/${uk}`,n={apiKey:e.apiKey,appName:r.name,v:Ms},A=hk.get(r.config.apiHost);A&&(n.eid=A);const i=r._getFrameworks();return i.length&&(n.fw=i.join(",")),`${t}?${Ro(n).slice(1)}`}async function dk(r){const e=await ak(r),t=En().gapi;return me(t,r,"internal-error"),e.open({where:document.body,url:fk(r),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:ck,dontclear:!0},n=>new Promise(async(A,i)=>{await n.restyle({setHideOnLeave:!1});const s=cn(r,"network-request-failed"),a=En().setTimeout(()=>{i(s)},ok.get());function o(){En().clearTimeout(a),A(n)}n.ping(o).then(o,()=>{i(s)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gk={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},pk=500,mk=600,vk="_blank",yk="http://localhost";class k0{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function wk(r,e,t,n=pk,A=mk){const i=Math.max((window.screen.availHeight-A)/2,0).toString(),s=Math.max((window.screen.availWidth-n)/2,0).toString();let a="";const o=Object.assign(Object.assign({},gk),{width:n.toString(),height:A.toString(),top:i,left:s}),u=or().toLowerCase();t&&(a=V1(u)?vk:t),k1(u)&&(e=e||yk,o.scrollbars="yes");const l=Object.entries(o).reduce((f,[d,g])=>`${f}${d}=${g},`,"");if(GM(u)&&a!=="_self")return Bk(e||"",a),new k0(null);const h=window.open(e||"",a,l);me(h,r,"popup-blocked");try{h.focus()}catch{}return new k0(h)}function Bk(r,e){const t=document.createElement("a");t.href=r,t.target=e;const n=document.createEvent("MouseEvent");n.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(n)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ck="__/auth/handler",Ek="emulator/auth/handler",_k=encodeURIComponent("fac");async function H0(r,e,t,n,A,i){me(r.config.authDomain,r,"auth-domain-config-required"),me(r.config.apiKey,r,"invalid-api-key");const s={apiKey:r.config.apiKey,appName:r.name,authType:t,redirectUrl:n,v:Ms,eventId:A};if(e instanceof hy){e.setDefaultLanguage(r.languageCode),s.providerId=e.providerId||"",uL(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(const[l,h]of Object.entries({}))s[l]=h}if(e instanceof Oo){const l=e.getScopes().filter(h=>h!=="");l.length>0&&(s.scopes=l.join(","))}r.tenantId&&(s.tid=r.tenantId);const a=s;for(const l of Object.keys(a))a[l]===void 0&&delete a[l];const o=await r._getAppCheckToken(),u=o?`#${_k}=${encodeURIComponent(o)}`:"";return`${Tk(r)}?${Ro(a).slice(1)}${u}`}function Tk({config:r}){return r.emulator?ay(r,Ek):`https://${r.authDomain}/${Ck}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jh="webStorageSupport";class Ik{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=nS,this._completeRedirectFn=zN,this._overrideRedirectResult=WN}async _openPopup(e,t,n,A){var i;sA((i=this.eventManagers[e._key()])===null||i===void 0?void 0:i.manager,"_initialize() not called before _openPopup()");const s=await H0(e,t,n,vm(),A);return wk(e,s,fy())}async _openRedirect(e,t,n,A){await this._originValidation(e);const i=await H0(e,t,n,vm(),A);return SN(i),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:A,promise:i}=this.eventManagers[t];return A?Promise.resolve(A):(sA(i,"If manager is not set, promise should be"),i)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch(()=>{delete this.eventManagers[t]}),n}async initAndGetManager(e){const t=await dk(e),n=new JN(e);return t.register("authEvent",A=>(me(A?.authEvent,e,"invalid-auth-event"),{status:n.onEvent(A.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(jh,{type:jh},A=>{var i;const s=(i=A?.[0])===null||i===void 0?void 0:i[jh];s!==void 0&&t(!!s),Xr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=nk(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return W1()||H1()||uy()}}const bk=Ik;var V0="@firebase/auth",K0="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uk{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(n=>{e(n?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){me(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fk(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Sk(r){hn(new $r("auth",(e,{options:t})=>{const n=e.getProvider("app").getImmediate(),A=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=n.options;me(s&&!s.includes(":"),"invalid-api-key",{appName:n.name});const o={apiKey:s,authDomain:a,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:$1(r)},u=new zM(n,A,i,o);return iN(u,t),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,n)=>{e.getProvider("auth-internal").initialize()})),hn(new $r("auth-internal",e=>{const t=pA(e.getProvider("auth").getImmediate());return(n=>new Uk(n))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Cr(V0,K0,Fk(r)),Cr(V0,K0,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qk=300,Rk=T1("authIdTokenMaxAge")||Qk;let G0=null;const xk=r=>async e=>{const t=e&&await e.getIdTokenResult(),n=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(n&&n>Rk)return;const A=t?.token;G0!==A&&(G0=A,await fetch(r,{method:A?"POST":"DELETE",headers:A?{Authorization:`Bearer ${A}`}:{}}))};function ZZ(r=Tc()){const e=YA(r,"auth");if(e.isInitialized())return e.getImmediate();const t=AN(r,{popupRedirectResolver:bk,persistence:[NN,bN,nS]}),n=T1("authTokenSyncURL");if(n&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(n,location.origin);if(location.origin===i.origin){const s=xk(i.toString());_N(t,s,()=>s(t.currentUser)),EN(t,a=>s(a))}}const A=C1("auth");return A&&sN(t,`http://${A}`),t}function Pk(){var r,e;return(e=(r=document.getElementsByTagName("head"))===null||r===void 0?void 0:r[0])!==null&&e!==void 0?e:document}YM({loadJS(r){return new Promise((e,t)=>{const n=document.createElement("script");n.setAttribute("src",r),n.onload=e,n.onerror=A=>{const i=cn("internal-error");i.customData=A,t(i)},n.type="text/javascript",n.charset="UTF-8",Pk().appendChild(n)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Sk("Browser");var j0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ei,cS;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(v,y){function w(){}w.prototype=y.prototype,v.D=y.prototype,v.prototype=new w,v.prototype.constructor=v,v.C=function(U,F,R){for(var S=Array(arguments.length-2),L=2;L<arguments.length;L++)S[L-2]=arguments[L];return y.prototype[F].apply(U,S)}}function t(){this.blockSize=-1}function n(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(n,t),n.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function A(v,y,w){w||(w=0);var U=Array(16);if(typeof y=="string")for(var F=0;16>F;++F)U[F]=y.charCodeAt(w++)|y.charCodeAt(w++)<<8|y.charCodeAt(w++)<<16|y.charCodeAt(w++)<<24;else for(F=0;16>F;++F)U[F]=y[w++]|y[w++]<<8|y[w++]<<16|y[w++]<<24;y=v.g[0],w=v.g[1],F=v.g[2];var R=v.g[3],S=y+(R^w&(F^R))+U[0]+3614090360&4294967295;y=w+(S<<7&4294967295|S>>>25),S=R+(F^y&(w^F))+U[1]+3905402710&4294967295,R=y+(S<<12&4294967295|S>>>20),S=F+(w^R&(y^w))+U[2]+606105819&4294967295,F=R+(S<<17&4294967295|S>>>15),S=w+(y^F&(R^y))+U[3]+3250441966&4294967295,w=F+(S<<22&4294967295|S>>>10),S=y+(R^w&(F^R))+U[4]+4118548399&4294967295,y=w+(S<<7&4294967295|S>>>25),S=R+(F^y&(w^F))+U[5]+1200080426&4294967295,R=y+(S<<12&4294967295|S>>>20),S=F+(w^R&(y^w))+U[6]+2821735955&4294967295,F=R+(S<<17&4294967295|S>>>15),S=w+(y^F&(R^y))+U[7]+4249261313&4294967295,w=F+(S<<22&4294967295|S>>>10),S=y+(R^w&(F^R))+U[8]+1770035416&4294967295,y=w+(S<<7&4294967295|S>>>25),S=R+(F^y&(w^F))+U[9]+2336552879&4294967295,R=y+(S<<12&4294967295|S>>>20),S=F+(w^R&(y^w))+U[10]+4294925233&4294967295,F=R+(S<<17&4294967295|S>>>15),S=w+(y^F&(R^y))+U[11]+2304563134&4294967295,w=F+(S<<22&4294967295|S>>>10),S=y+(R^w&(F^R))+U[12]+1804603682&4294967295,y=w+(S<<7&4294967295|S>>>25),S=R+(F^y&(w^F))+U[13]+4254626195&4294967295,R=y+(S<<12&4294967295|S>>>20),S=F+(w^R&(y^w))+U[14]+2792965006&4294967295,F=R+(S<<17&4294967295|S>>>15),S=w+(y^F&(R^y))+U[15]+1236535329&4294967295,w=F+(S<<22&4294967295|S>>>10),S=y+(F^R&(w^F))+U[1]+4129170786&4294967295,y=w+(S<<5&4294967295|S>>>27),S=R+(w^F&(y^w))+U[6]+3225465664&4294967295,R=y+(S<<9&4294967295|S>>>23),S=F+(y^w&(R^y))+U[11]+643717713&4294967295,F=R+(S<<14&4294967295|S>>>18),S=w+(R^y&(F^R))+U[0]+3921069994&4294967295,w=F+(S<<20&4294967295|S>>>12),S=y+(F^R&(w^F))+U[5]+3593408605&4294967295,y=w+(S<<5&4294967295|S>>>27),S=R+(w^F&(y^w))+U[10]+38016083&4294967295,R=y+(S<<9&4294967295|S>>>23),S=F+(y^w&(R^y))+U[15]+3634488961&4294967295,F=R+(S<<14&4294967295|S>>>18),S=w+(R^y&(F^R))+U[4]+3889429448&4294967295,w=F+(S<<20&4294967295|S>>>12),S=y+(F^R&(w^F))+U[9]+568446438&4294967295,y=w+(S<<5&4294967295|S>>>27),S=R+(w^F&(y^w))+U[14]+3275163606&4294967295,R=y+(S<<9&4294967295|S>>>23),S=F+(y^w&(R^y))+U[3]+4107603335&4294967295,F=R+(S<<14&4294967295|S>>>18),S=w+(R^y&(F^R))+U[8]+1163531501&4294967295,w=F+(S<<20&4294967295|S>>>12),S=y+(F^R&(w^F))+U[13]+2850285829&4294967295,y=w+(S<<5&4294967295|S>>>27),S=R+(w^F&(y^w))+U[2]+4243563512&4294967295,R=y+(S<<9&4294967295|S>>>23),S=F+(y^w&(R^y))+U[7]+1735328473&4294967295,F=R+(S<<14&4294967295|S>>>18),S=w+(R^y&(F^R))+U[12]+2368359562&4294967295,w=F+(S<<20&4294967295|S>>>12),S=y+(w^F^R)+U[5]+4294588738&4294967295,y=w+(S<<4&4294967295|S>>>28),S=R+(y^w^F)+U[8]+2272392833&4294967295,R=y+(S<<11&4294967295|S>>>21),S=F+(R^y^w)+U[11]+1839030562&4294967295,F=R+(S<<16&4294967295|S>>>16),S=w+(F^R^y)+U[14]+4259657740&4294967295,w=F+(S<<23&4294967295|S>>>9),S=y+(w^F^R)+U[1]+2763975236&4294967295,y=w+(S<<4&4294967295|S>>>28),S=R+(y^w^F)+U[4]+1272893353&4294967295,R=y+(S<<11&4294967295|S>>>21),S=F+(R^y^w)+U[7]+4139469664&4294967295,F=R+(S<<16&4294967295|S>>>16),S=w+(F^R^y)+U[10]+3200236656&4294967295,w=F+(S<<23&4294967295|S>>>9),S=y+(w^F^R)+U[13]+681279174&4294967295,y=w+(S<<4&4294967295|S>>>28),S=R+(y^w^F)+U[0]+3936430074&4294967295,R=y+(S<<11&4294967295|S>>>21),S=F+(R^y^w)+U[3]+3572445317&4294967295,F=R+(S<<16&4294967295|S>>>16),S=w+(F^R^y)+U[6]+76029189&4294967295,w=F+(S<<23&4294967295|S>>>9),S=y+(w^F^R)+U[9]+3654602809&4294967295,y=w+(S<<4&4294967295|S>>>28),S=R+(y^w^F)+U[12]+3873151461&4294967295,R=y+(S<<11&4294967295|S>>>21),S=F+(R^y^w)+U[15]+530742520&4294967295,F=R+(S<<16&4294967295|S>>>16),S=w+(F^R^y)+U[2]+3299628645&4294967295,w=F+(S<<23&4294967295|S>>>9),S=y+(F^(w|~R))+U[0]+4096336452&4294967295,y=w+(S<<6&4294967295|S>>>26),S=R+(w^(y|~F))+U[7]+1126891415&4294967295,R=y+(S<<10&4294967295|S>>>22),S=F+(y^(R|~w))+U[14]+2878612391&4294967295,F=R+(S<<15&4294967295|S>>>17),S=w+(R^(F|~y))+U[5]+4237533241&4294967295,w=F+(S<<21&4294967295|S>>>11),S=y+(F^(w|~R))+U[12]+1700485571&4294967295,y=w+(S<<6&4294967295|S>>>26),S=R+(w^(y|~F))+U[3]+2399980690&4294967295,R=y+(S<<10&4294967295|S>>>22),S=F+(y^(R|~w))+U[10]+4293915773&4294967295,F=R+(S<<15&4294967295|S>>>17),S=w+(R^(F|~y))+U[1]+2240044497&4294967295,w=F+(S<<21&4294967295|S>>>11),S=y+(F^(w|~R))+U[8]+1873313359&4294967295,y=w+(S<<6&4294967295|S>>>26),S=R+(w^(y|~F))+U[15]+4264355552&4294967295,R=y+(S<<10&4294967295|S>>>22),S=F+(y^(R|~w))+U[6]+2734768916&4294967295,F=R+(S<<15&4294967295|S>>>17),S=w+(R^(F|~y))+U[13]+1309151649&4294967295,w=F+(S<<21&4294967295|S>>>11),S=y+(F^(w|~R))+U[4]+4149444226&4294967295,y=w+(S<<6&4294967295|S>>>26),S=R+(w^(y|~F))+U[11]+3174756917&4294967295,R=y+(S<<10&4294967295|S>>>22),S=F+(y^(R|~w))+U[2]+718787259&4294967295,F=R+(S<<15&4294967295|S>>>17),S=w+(R^(F|~y))+U[9]+3951481745&4294967295,v.g[0]=v.g[0]+y&4294967295,v.g[1]=v.g[1]+(F+(S<<21&4294967295|S>>>11))&4294967295,v.g[2]=v.g[2]+F&4294967295,v.g[3]=v.g[3]+R&4294967295}n.prototype.u=function(v,y){y===void 0&&(y=v.length);for(var w=y-this.blockSize,U=this.B,F=this.h,R=0;R<y;){if(F==0)for(;R<=w;)A(this,v,R),R+=this.blockSize;if(typeof v=="string"){for(;R<y;)if(U[F++]=v.charCodeAt(R++),F==this.blockSize){A(this,U),F=0;break}}else for(;R<y;)if(U[F++]=v[R++],F==this.blockSize){A(this,U),F=0;break}}this.h=F,this.o+=y},n.prototype.v=function(){var v=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);v[0]=128;for(var y=1;y<v.length-8;++y)v[y]=0;var w=8*this.o;for(y=v.length-8;y<v.length;++y)v[y]=w&255,w/=256;for(this.u(v),v=Array(16),y=w=0;4>y;++y)for(var U=0;32>U;U+=8)v[w++]=this.g[y]>>>U&255;return v};function i(v,y){var w=a;return Object.prototype.hasOwnProperty.call(w,v)?w[v]:w[v]=y(v)}function s(v,y){this.h=y;for(var w=[],U=!0,F=v.length-1;0<=F;F--){var R=v[F]|0;U&&R==y||(w[F]=R,U=!1)}this.g=w}var a={};function o(v){return-128<=v&&128>v?i(v,function(y){return new s([y|0],0>y?-1:0)}):new s([v|0],0>v?-1:0)}function u(v){if(isNaN(v)||!isFinite(v))return h;if(0>v)return C(u(-v));for(var y=[],w=1,U=0;v>=w;U++)y[U]=v/w|0,w*=4294967296;return new s(y,0)}function l(v,y){if(v.length==0)throw Error("number format error: empty string");if(y=y||10,2>y||36<y)throw Error("radix out of range: "+y);if(v.charAt(0)=="-")return C(l(v.substring(1),y));if(0<=v.indexOf("-"))throw Error('number format error: interior "-" character');for(var w=u(Math.pow(y,8)),U=h,F=0;F<v.length;F+=8){var R=Math.min(8,v.length-F),S=parseInt(v.substring(F,F+R),y);8>R?(R=u(Math.pow(y,R)),U=U.j(R).add(u(S))):(U=U.j(w),U=U.add(u(S)))}return U}var h=o(0),f=o(1),d=o(16777216);r=s.prototype,r.m=function(){if(m(this))return-C(this).m();for(var v=0,y=1,w=0;w<this.g.length;w++){var U=this.i(w);v+=(0<=U?U:4294967296+U)*y,y*=4294967296}return v},r.toString=function(v){if(v=v||10,2>v||36<v)throw Error("radix out of range: "+v);if(g(this))return"0";if(m(this))return"-"+C(this).toString(v);for(var y=u(Math.pow(v,6)),w=this,U="";;){var F=b(w,y).g;w=E(w,F.j(y));var R=((0<w.g.length?w.g[0]:w.h)>>>0).toString(v);if(w=F,g(w))return R+U;for(;6>R.length;)R="0"+R;U=R+U}},r.i=function(v){return 0>v?0:v<this.g.length?this.g[v]:this.h};function g(v){if(v.h!=0)return!1;for(var y=0;y<v.g.length;y++)if(v.g[y]!=0)return!1;return!0}function m(v){return v.h==-1}r.l=function(v){return v=E(this,v),m(v)?-1:g(v)?0:1};function C(v){for(var y=v.g.length,w=[],U=0;U<y;U++)w[U]=~v.g[U];return new s(w,~v.h).add(f)}r.abs=function(){return m(this)?C(this):this},r.add=function(v){for(var y=Math.max(this.g.length,v.g.length),w=[],U=0,F=0;F<=y;F++){var R=U+(this.i(F)&65535)+(v.i(F)&65535),S=(R>>>16)+(this.i(F)>>>16)+(v.i(F)>>>16);U=S>>>16,R&=65535,S&=65535,w[F]=S<<16|R}return new s(w,w[w.length-1]&-2147483648?-1:0)};function E(v,y){return v.add(C(y))}r.j=function(v){if(g(this)||g(v))return h;if(m(this))return m(v)?C(this).j(C(v)):C(C(this).j(v));if(m(v))return C(this.j(C(v)));if(0>this.l(d)&&0>v.l(d))return u(this.m()*v.m());for(var y=this.g.length+v.g.length,w=[],U=0;U<2*y;U++)w[U]=0;for(U=0;U<this.g.length;U++)for(var F=0;F<v.g.length;F++){var R=this.i(U)>>>16,S=this.i(U)&65535,L=v.i(F)>>>16,q=v.i(F)&65535;w[2*U+2*F]+=S*q,T(w,2*U+2*F),w[2*U+2*F+1]+=R*q,T(w,2*U+2*F+1),w[2*U+2*F+1]+=S*L,T(w,2*U+2*F+1),w[2*U+2*F+2]+=R*L,T(w,2*U+2*F+2)}for(U=0;U<y;U++)w[U]=w[2*U+1]<<16|w[2*U];for(U=y;U<2*y;U++)w[U]=0;return new s(w,0)};function T(v,y){for(;(v[y]&65535)!=v[y];)v[y+1]+=v[y]>>>16,v[y]&=65535,y++}function I(v,y){this.g=v,this.h=y}function b(v,y){if(g(y))throw Error("division by zero");if(g(v))return new I(h,h);if(m(v))return y=b(C(v),y),new I(C(y.g),C(y.h));if(m(y))return y=b(v,C(y)),new I(C(y.g),y.h);if(30<v.g.length){if(m(v)||m(y))throw Error("slowDivide_ only works with positive integers.");for(var w=f,U=y;0>=U.l(v);)w=P(w),U=P(U);var F=Q(w,1),R=Q(U,1);for(U=Q(U,2),w=Q(w,2);!g(U);){var S=R.add(U);0>=S.l(v)&&(F=F.add(w),R=S),U=Q(U,1),w=Q(w,1)}return y=E(v,F.j(y)),new I(F,y)}for(F=h;0<=v.l(y);){for(w=Math.max(1,Math.floor(v.m()/y.m())),U=Math.ceil(Math.log(w)/Math.LN2),U=48>=U?1:Math.pow(2,U-48),R=u(w),S=R.j(y);m(S)||0<S.l(v);)w-=U,R=u(w),S=R.j(y);g(R)&&(R=f),F=F.add(R),v=E(v,S)}return new I(F,v)}r.A=function(v){return b(this,v).h},r.and=function(v){for(var y=Math.max(this.g.length,v.g.length),w=[],U=0;U<y;U++)w[U]=this.i(U)&v.i(U);return new s(w,this.h&v.h)},r.or=function(v){for(var y=Math.max(this.g.length,v.g.length),w=[],U=0;U<y;U++)w[U]=this.i(U)|v.i(U);return new s(w,this.h|v.h)},r.xor=function(v){for(var y=Math.max(this.g.length,v.g.length),w=[],U=0;U<y;U++)w[U]=this.i(U)^v.i(U);return new s(w,this.h^v.h)};function P(v){for(var y=v.g.length+1,w=[],U=0;U<y;U++)w[U]=v.i(U)<<1|v.i(U-1)>>>31;return new s(w,v.h)}function Q(v,y){var w=y>>5;y%=32;for(var U=v.g.length-w,F=[],R=0;R<U;R++)F[R]=0<y?v.i(R+w)>>>y|v.i(R+w+1)<<32-y:v.i(R+w);return new s(F,v.h)}n.prototype.digest=n.prototype.v,n.prototype.reset=n.prototype.s,n.prototype.update=n.prototype.u,cS=n,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=u,s.fromString=l,Ei=s}).apply(typeof j0<"u"?j0:typeof self<"u"?self:typeof window<"u"?window:{});var Iu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var hS,Sa,fS,Bl,Bm,dS,gS,pS;(function(){var r,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,p,B){return c==Array.prototype||c==Object.prototype||(c[p]=B.value),c};function t(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Iu=="object"&&Iu];for(var p=0;p<c.length;++p){var B=c[p];if(B&&B.Math==Math)return B}throw Error("Cannot find global object")}var n=t(this);function A(c,p){if(p)e:{var B=n;c=c.split(".");for(var x=0;x<c.length-1;x++){var M=c[x];if(!(M in B))break e;B=B[M]}c=c[c.length-1],x=B[c],p=p(x),p!=x&&p!=null&&e(B,c,{configurable:!0,writable:!0,value:p})}}function i(c,p){c instanceof String&&(c+="");var B=0,x=!1,M={next:function(){if(!x&&B<c.length){var K=B++;return{value:p(K,c[K]),done:!1}}return x=!0,{done:!0,value:void 0}}};return M[Symbol.iterator]=function(){return M},M}A("Array.prototype.values",function(c){return c||function(){return i(this,function(p,B){return B})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var s=s||{},a=this||self;function o(c){var p=typeof c;return p=p!="object"?p:c?Array.isArray(c)?"array":p:"null",p=="array"||p=="object"&&typeof c.length=="number"}function u(c){var p=typeof c;return p=="object"&&c!=null||p=="function"}function l(c,p,B){return c.call.apply(c.bind,arguments)}function h(c,p,B){if(!c)throw Error();if(2<arguments.length){var x=Array.prototype.slice.call(arguments,2);return function(){var M=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(M,x),c.apply(p,M)}}return function(){return c.apply(p,arguments)}}function f(c,p,B){return f=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?l:h,f.apply(null,arguments)}function d(c,p){var B=Array.prototype.slice.call(arguments,1);return function(){var x=B.slice();return x.push.apply(x,arguments),c.apply(this,x)}}function g(c,p){function B(){}B.prototype=p.prototype,c.aa=p.prototype,c.prototype=new B,c.prototype.constructor=c,c.Qb=function(x,M,K){for(var te=Array(arguments.length-2),ke=2;ke<arguments.length;ke++)te[ke-2]=arguments[ke];return p.prototype[M].apply(x,te)}}function m(c){const p=c.length;if(0<p){const B=Array(p);for(let x=0;x<p;x++)B[x]=c[x];return B}return[]}function C(c,p){for(let B=1;B<arguments.length;B++){const x=arguments[B];if(o(x)){const M=c.length||0,K=x.length||0;c.length=M+K;for(let te=0;te<K;te++)c[M+te]=x[te]}else c.push(x)}}class E{constructor(p,B){this.i=p,this.j=B,this.h=0,this.g=null}get(){let p;return 0<this.h?(this.h--,p=this.g,this.g=p.next,p.next=null):p=this.i(),p}}function T(c){return/^[\s\xa0]*$/.test(c)}function I(){var c=a.navigator;return c&&(c=c.userAgent)?c:""}function b(c){return b[" "](c),c}b[" "]=function(){};var P=I().indexOf("Gecko")!=-1&&!(I().toLowerCase().indexOf("webkit")!=-1&&I().indexOf("Edge")==-1)&&!(I().indexOf("Trident")!=-1||I().indexOf("MSIE")!=-1)&&I().indexOf("Edge")==-1;function Q(c,p,B){for(const x in c)p.call(B,c[x],x,c)}function v(c,p){for(const B in c)p.call(void 0,c[B],B,c)}function y(c){const p={};for(const B in c)p[B]=c[B];return p}const w="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function U(c,p){let B,x;for(let M=1;M<arguments.length;M++){x=arguments[M];for(B in x)c[B]=x[B];for(let K=0;K<w.length;K++)B=w[K],Object.prototype.hasOwnProperty.call(x,B)&&(c[B]=x[B])}}function F(c){var p=1;c=c.split(":");const B=[];for(;0<p&&c.length;)B.push(c.shift()),p--;return c.length&&B.push(c.join(":")),B}function R(c){a.setTimeout(()=>{throw c},0)}function S(){var c=j;let p=null;return c.g&&(p=c.g,c.g=c.g.next,c.g||(c.h=null),p.next=null),p}class L{constructor(){this.h=this.g=null}add(p,B){const x=q.get();x.set(p,B),this.h?this.h.next=x:this.g=x,this.h=x}}var q=new E(()=>new H,c=>c.reset());class H{constructor(){this.next=this.g=this.h=null}set(p,B){this.h=p,this.g=B,this.next=null}reset(){this.next=this.g=this.h=null}}let k,V=!1,j=new L,$=()=>{const c=a.Promise.resolve(void 0);k=()=>{c.then(O)}};var O=()=>{for(var c;c=S();){try{c.h.call(c.g)}catch(B){R(B)}var p=q;p.j(c),100>p.h&&(p.h++,c.next=p.g,p.g=c)}V=!1};function N(){this.s=this.s,this.C=this.C}N.prototype.s=!1,N.prototype.ma=function(){this.s||(this.s=!0,this.N())},N.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function G(c,p){this.type=c,this.g=this.target=p,this.defaultPrevented=!1}G.prototype.h=function(){this.defaultPrevented=!0};var z=(function(){if(!a.addEventListener||!Object.defineProperty)return!1;var c=!1,p=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const B=()=>{};a.addEventListener("test",B,p),a.removeEventListener("test",B,p)}catch{}return c})();function W(c,p){if(G.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var B=this.type=c.type,x=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=p,p=c.relatedTarget){if(P){e:{try{b(p.nodeName);var M=!0;break e}catch{}M=!1}M||(p=null)}}else B=="mouseover"?p=c.fromElement:B=="mouseout"&&(p=c.toElement);this.relatedTarget=p,x?(this.clientX=x.clientX!==void 0?x.clientX:x.pageX,this.clientY=x.clientY!==void 0?x.clientY:x.pageY,this.screenX=x.screenX||0,this.screenY=x.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:se[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&W.aa.h.call(this)}}g(W,G);var se={2:"touch",3:"pen",4:"mouse"};W.prototype.h=function(){W.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var ne="closure_listenable_"+(1e6*Math.random()|0),Ee=0;function _e(c,p,B,x,M){this.listener=c,this.proxy=null,this.src=p,this.type=B,this.capture=!!x,this.ha=M,this.key=++Ee,this.da=this.fa=!1}function xe(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function ut(c){this.src=c,this.g={},this.h=0}ut.prototype.add=function(c,p,B,x,M){var K=c.toString();c=this.g[K],c||(c=this.g[K]=[],this.h++);var te=Ve(c,p,x,M);return-1<te?(p=c[te],B||(p.fa=!1)):(p=new _e(p,this.src,K,!!x,M),p.fa=B,c.push(p)),p};function We(c,p){var B=p.type;if(B in c.g){var x=c.g[B],M=Array.prototype.indexOf.call(x,p,void 0),K;(K=0<=M)&&Array.prototype.splice.call(x,M,1),K&&(xe(p),c.g[B].length==0&&(delete c.g[B],c.h--))}}function Ve(c,p,B,x){for(var M=0;M<c.length;++M){var K=c[M];if(!K.da&&K.listener==p&&K.capture==!!B&&K.ha==x)return M}return-1}var Pe="closure_lm_"+(1e6*Math.random()|0),_t={};function Wt(c,p,B,x,M){if(Array.isArray(p)){for(var K=0;K<p.length;K++)Wt(c,p[K],B,x,M);return null}return B=fe(B),c&&c[ne]?c.K(p,B,u(x)?!!x.capture:!1,M):Ut(c,p,B,!1,x,M)}function Ut(c,p,B,x,M,K){if(!p)throw Error("Invalid event type");var te=u(M)?!!M.capture:!!M,ke=Tt(c);if(ke||(c[Pe]=ke=new ut(c)),B=ke.add(p,B,x,te,K),B.proxy)return B;if(x=mr(),B.proxy=x,x.src=c,x.listener=B,c.addEventListener)z||(M=te),M===void 0&&(M=!1),c.addEventListener(p.toString(),x,M);else if(c.attachEvent)c.attachEvent(mt(p.toString()),x);else if(c.addListener&&c.removeListener)c.addListener(x);else throw Error("addEventListener and attachEvent are unavailable.");return B}function mr(){function c(B){return p.call(c.src,c.listener,B)}const p=Ft;return c}function br(c,p,B,x,M){if(Array.isArray(p))for(var K=0;K<p.length;K++)br(c,p[K],B,x,M);else x=u(x)?!!x.capture:!!x,B=fe(B),c&&c[ne]?(c=c.i,p=String(p).toString(),p in c.g&&(K=c.g[p],B=Ve(K,B,x,M),-1<B&&(xe(K[B]),Array.prototype.splice.call(K,B,1),K.length==0&&(delete c.g[p],c.h--)))):c&&(c=Tt(c))&&(p=c.g[p.toString()],c=-1,p&&(c=Ve(p,B,x,M)),(B=-1<c?p[c]:null)&&ur(B))}function ur(c){if(typeof c!="number"&&c&&!c.da){var p=c.src;if(p&&p[ne])We(p.i,c);else{var B=c.type,x=c.proxy;p.removeEventListener?p.removeEventListener(B,x,c.capture):p.detachEvent?p.detachEvent(mt(B),x):p.addListener&&p.removeListener&&p.removeListener(x),(B=Tt(p))?(We(B,c),B.h==0&&(B.src=null,p[Pe]=null)):xe(c)}}}function mt(c){return c in _t?_t[c]:_t[c]="on"+c}function Ft(c,p){if(c.da)c=!0;else{p=new W(p,this);var B=c.listener,x=c.ha||c.src;c.fa&&ur(c),c=B.call(x,p)}return c}function Tt(c){return c=c[Pe],c instanceof ut?c:null}var ee="__closure_events_fn_"+(1e9*Math.random()>>>0);function fe(c){return typeof c=="function"?c:(c[ee]||(c[ee]=function(p){return c.handleEvent(p)}),c[ee])}function ce(){N.call(this),this.i=new ut(this),this.M=this,this.F=null}g(ce,N),ce.prototype[ne]=!0,ce.prototype.removeEventListener=function(c,p,B,x){br(this,c,p,B,x)};function ge(c,p){var B,x=c.F;if(x)for(B=[];x;x=x.F)B.push(x);if(c=c.M,x=p.type||p,typeof p=="string")p=new G(p,c);else if(p instanceof G)p.target=p.target||c;else{var M=p;p=new G(x,c),U(p,M)}if(M=!0,B)for(var K=B.length-1;0<=K;K--){var te=p.g=B[K];M=Te(te,x,!0,p)&&M}if(te=p.g=c,M=Te(te,x,!0,p)&&M,M=Te(te,x,!1,p)&&M,B)for(K=0;K<B.length;K++)te=p.g=B[K],M=Te(te,x,!1,p)&&M}ce.prototype.N=function(){if(ce.aa.N.call(this),this.i){var c=this.i,p;for(p in c.g){for(var B=c.g[p],x=0;x<B.length;x++)xe(B[x]);delete c.g[p],c.h--}}this.F=null},ce.prototype.K=function(c,p,B,x){return this.i.add(String(c),p,!1,B,x)},ce.prototype.L=function(c,p,B,x){return this.i.add(String(c),p,!0,B,x)};function Te(c,p,B,x){if(p=c.i.g[String(p)],!p)return!0;p=p.concat();for(var M=!0,K=0;K<p.length;++K){var te=p[K];if(te&&!te.da&&te.capture==B){var ke=te.listener,Mt=te.ha||te.src;te.fa&&We(c.i,te),M=ke.call(Mt,x)!==!1&&M}}return M&&!x.defaultPrevented}function Dt(c,p,B){if(typeof c=="function")B&&(c=f(c,B));else if(c&&typeof c.handleEvent=="function")c=f(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(p)?-1:a.setTimeout(c,p||0)}function $t(c){c.g=Dt(()=>{c.g=null,c.i&&(c.i=!1,$t(c))},c.l);const p=c.h;c.h=null,c.m.apply(null,p)}class Xt extends N{constructor(p,B){super(),this.m=p,this.l=B,this.h=null,this.i=!1,this.g=null}j(p){this.h=arguments,this.g?this.i=!0:$t(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function nt(c){N.call(this),this.h=c,this.g={}}g(nt,N);var Ur=[];function St(c){Q(c.g,function(p,B){this.g.hasOwnProperty(B)&&ur(p)},c),c.g={}}nt.prototype.N=function(){nt.aa.N.call(this),St(this)},nt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var zt=a.JSON.stringify,Pn=a.JSON.parse,On=class{stringify(c){return a.JSON.stringify(c,void 0)}parse(c){return a.JSON.parse(c,void 0)}};function Dn(){}Dn.prototype.h=null;function Dr(c){return c.h||(c.h=c.i())}function Lr(){}var Zr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function $e(){G.call(this,"d")}g($e,G);function Ys(){G.call(this,"c")}g(Ys,G);var Ln={},lt=null;function en(){return lt=lt||new ce}Ln.La="serverreachability";function uu(c){G.call(this,Ln.La,c)}g(uu,G);function vA(c){const p=en();ge(p,new uu(p))}Ln.STAT_EVENT="statevent";function $i(c,p){G.call(this,Ln.STAT_EVENT,c),this.stat=p}g($i,G);function Qt(c){const p=en();ge(p,new $i(p,c))}Ln.Ma="timingevent";function Js(c,p){G.call(this,Ln.Ma,c),this.size=p}g(Js,G);function ni(c,p){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){c()},p)}function Yt(){this.g=!0}Yt.prototype.xa=function(){this.g=!1};function Mn(c,p,B,x,M,K){c.info(function(){if(c.g)if(K)for(var te="",ke=K.split("&"),Mt=0;Mt<ke.length;Mt++){var Qe=ke[Mt].split("=");if(1<Qe.length){var Jt=Qe[0];Qe=Qe[1];var Zt=Jt.split("_");te=2<=Zt.length&&Zt[1]=="type"?te+(Jt+"="+Qe+"&"):te+(Jt+"=redacted&")}}else te=null;else te=K;return"XMLHTTP REQ ("+x+") [attempt "+M+"]: "+p+`
`+B+`
`+te})}function lu(c,p,B,x,M,K,te){c.info(function(){return"XMLHTTP RESP ("+x+") [ attempt "+M+"]: "+p+`
`+B+`
`+K+" "+te})}function Nn(c,p,B,x){c.info(function(){return"XMLHTTP TEXT ("+p+"): "+cu(c,B)+(x?" "+x:"")})}function Zs(c,p){c.info(function(){return"TIMEOUT: "+p})}Yt.prototype.info=function(){};function cu(c,p){if(!c.g)return p;if(!p)return null;try{var B=JSON.parse(p);if(B){for(c=0;c<B.length;c++)if(Array.isArray(B[c])){var x=B[c];if(!(2>x.length)){var M=x[1];if(Array.isArray(M)&&!(1>M.length)){var K=M[0];if(K!="noop"&&K!="stop"&&K!="close")for(var te=1;te<M.length;te++)M[te]=""}}}}return zt(B)}catch{return p}}var vr={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ea={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Xi;function Ai(){}g(Ai,Dn),Ai.prototype.g=function(){return new XMLHttpRequest},Ai.prototype.i=function(){return{}},Xi=new Ai;function tn(c,p,B,x){this.j=c,this.i=p,this.l=B,this.R=x||1,this.U=new nt(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new hu}function hu(){this.i=null,this.g="",this.h=!1}var le={},D={};function Z(c,p,B){c.L=1,c.v=pu(kn(p)),c.m=B,c.P=!0,ae(c,null)}function ae(c,p){c.F=Date.now(),Ke(c),c.A=kn(c.v);var B=c.A,x=c.R;Array.isArray(x)||(x=[String(x)]),LB(B.i,"t",x),c.C=0,B=c.j.J,c.h=new hu,c.g=t0(c.j,B?p:null,!c.m),0<c.O&&(c.M=new Xt(f(c.Y,c,c.g),c.O)),p=c.U,B=c.g,x=c.ca;var M="readystatechange";Array.isArray(M)||(M&&(Ur[0]=M.toString()),M=Ur);for(var K=0;K<M.length;K++){var te=Wt(B,M[K],x||p.handleEvent,!1,p.h||p);if(!te)break;p.g[te.key]=te}p=c.H?y(c.H):{},c.m?(c.u||(c.u="POST"),p["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,p)):(c.u="GET",c.g.ea(c.A,c.u,null,p)),vA(),Mn(c.i,c.u,c.A,c.l,c.R,c.m)}tn.prototype.ca=function(c){c=c.target;const p=this.M;p&&Hn(c)==3?p.j():this.Y(c)},tn.prototype.Y=function(c){try{if(c==this.g)e:{const Zt=Hn(this.g);var p=this.g.Ba();const Ji=this.g.Z();if(!(3>Zt)&&(Zt!=3||this.g&&(this.h.h||this.g.oa()||GB(this.g)))){this.J||Zt!=4||p==7||(p==8||0>=Ji?vA(3):vA(2)),Fr(this);var B=this.g.Z();this.X=B;t:if(Ne(this)){var x=GB(this.g);c="";var M=x.length,K=Hn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){rn(this),Mr(this);var te="";break t}this.h.i=new a.TextDecoder}for(p=0;p<M;p++)this.h.h=!0,c+=this.h.i.decode(x[p],{stream:!(K&&p==M-1)});x.length=0,this.h.g+=c,this.C=0,te=this.h.g}else te=this.g.oa();if(this.o=B==200,lu(this.i,this.u,this.A,this.l,this.R,Zt,B),this.o){if(this.T&&!this.K){t:{if(this.g){var ke,Mt=this.g;if((ke=Mt.g?Mt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!T(ke)){var Qe=ke;break t}}Qe=null}if(B=Qe)Nn(this.i,this.l,B,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ct(this,B);else{this.o=!1,this.s=3,Qt(12),rn(this),Mr(this);break e}}if(this.P){B=!0;let nn;for(;!this.J&&this.C<te.length;)if(nn=Rt(this,te),nn==D){Zt==4&&(this.s=4,Qt(14),B=!1),Nn(this.i,this.l,null,"[Incomplete Response]");break}else if(nn==le){this.s=4,Qt(15),Nn(this.i,this.l,te,"[Invalid Chunk]"),B=!1;break}else Nn(this.i,this.l,nn,null),ct(this,nn);if(Ne(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Zt!=4||te.length!=0||this.h.h||(this.s=1,Qt(16),B=!1),this.o=this.o&&B,!B)Nn(this.i,this.l,te,"[Invalid Chunked Response]"),rn(this),Mr(this);else if(0<te.length&&!this.W){this.W=!0;var Jt=this.j;Jt.g==this&&Jt.ba&&!Jt.M&&(Jt.j.info("Great, no buffering proxy detected. Bytes received: "+te.length),Rh(Jt),Jt.M=!0,Qt(11))}}else Nn(this.i,this.l,te,null),ct(this,te);Zt==4&&rn(this),this.o&&!this.J&&(Zt==4?YB(this.j,this):(this.o=!1,Ke(this)))}else h2(this.g),B==400&&0<te.indexOf("Unknown SID")?(this.s=3,Qt(12)):(this.s=0,Qt(13)),rn(this),Mr(this)}}}catch{}finally{}};function Ne(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function Rt(c,p){var B=c.C,x=p.indexOf(`
`,B);return x==-1?D:(B=Number(p.substring(B,x)),isNaN(B)?le:(x+=1,x+B>p.length?D:(p=p.slice(x,x+B),c.C=x+B,p)))}tn.prototype.cancel=function(){this.J=!0,rn(this)};function Ke(c){c.S=Date.now()+c.I,Lt(c,c.I)}function Lt(c,p){if(c.B!=null)throw Error("WatchDog timer not null");c.B=ni(f(c.ba,c),p)}function Fr(c){c.B&&(a.clearTimeout(c.B),c.B=null)}tn.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(Zs(this.i,this.A),this.L!=2&&(vA(),Qt(17)),rn(this),this.s=2,Mr(this)):Lt(this,this.S-c)};function Mr(c){c.j.G==0||c.J||YB(c.j,c)}function rn(c){Fr(c);var p=c.M;p&&typeof p.ma=="function"&&p.ma(),c.M=null,St(c.U),c.g&&(p=c.g,c.g=null,p.abort(),p.ma())}function ct(c,p){try{var B=c.j;if(B.G!=0&&(B.g==c||bh(B.h,c))){if(!c.K&&bh(B.h,c)&&B.G==3){try{var x=B.Da.g.parse(p)}catch{x=null}if(Array.isArray(x)&&x.length==3){var M=x;if(M[0]==0){e:if(!B.u){if(B.g)if(B.g.F+3e3<c.F)Cu(B),wu(B);else break e;Qh(B),Qt(18)}}else B.za=M[1],0<B.za-B.T&&37500>M[2]&&B.F&&B.v==0&&!B.C&&(B.C=ni(f(B.Za,B),6e3));if(1>=UB(B.h)&&B.ca){try{B.ca()}catch{}B.ca=void 0}}else si(B,11)}else if((c.K||B.g==c)&&Cu(B),!T(p))for(M=B.Da.g.parse(p),p=0;p<M.length;p++){let Qe=M[p];if(B.T=Qe[0],Qe=Qe[1],B.G==2)if(Qe[0]=="c"){B.K=Qe[1],B.ia=Qe[2];const Jt=Qe[3];Jt!=null&&(B.la=Jt,B.j.info("VER="+B.la));const Zt=Qe[4];Zt!=null&&(B.Aa=Zt,B.j.info("SVER="+B.Aa));const Ji=Qe[5];Ji!=null&&typeof Ji=="number"&&0<Ji&&(x=1.5*Ji,B.L=x,B.j.info("backChannelRequestTimeoutMs_="+x)),x=B;const nn=c.g;if(nn){const _u=nn.g?nn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(_u){var K=x.h;K.g||_u.indexOf("spdy")==-1&&_u.indexOf("quic")==-1&&_u.indexOf("h2")==-1||(K.j=K.l,K.g=new Set,K.h&&(Uh(K,K.h),K.h=null))}if(x.D){const xh=nn.g?nn.g.getResponseHeader("X-HTTP-Session-Id"):null;xh&&(x.ya=xh,Ge(x.I,x.D,xh))}}B.G=3,B.l&&B.l.ua(),B.ba&&(B.R=Date.now()-c.F,B.j.info("Handshake RTT: "+B.R+"ms")),x=B;var te=c;if(x.qa=e0(x,x.J?x.ia:null,x.W),te.K){FB(x.h,te);var ke=te,Mt=x.L;Mt&&(ke.I=Mt),ke.B&&(Fr(ke),Ke(ke)),x.g=te}else XB(x);0<B.i.length&&Bu(B)}else Qe[0]!="stop"&&Qe[0]!="close"||si(B,7);else B.G==3&&(Qe[0]=="stop"||Qe[0]=="close"?Qe[0]=="stop"?si(B,7):Sh(B):Qe[0]!="noop"&&B.l&&B.l.ta(Qe),B.v=0)}}vA(4)}catch{}}var fu=class{constructor(c,p){this.g=c,this.map=p}};function ta(c){this.l=c||10,a.PerformanceNavigationTiming?(c=a.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function bB(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function UB(c){return c.h?1:c.g?c.g.size:0}function bh(c,p){return c.h?c.h==p:c.g?c.g.has(p):!1}function Uh(c,p){c.g?c.g.add(p):c.h=p}function FB(c,p){c.h&&c.h==p?c.h=null:c.g&&c.g.has(p)&&c.g.delete(p)}ta.prototype.cancel=function(){if(this.i=SB(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function SB(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let p=c.i;for(const B of c.g.values())p=p.concat(B.D);return p}return m(c.i)}function YD(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(o(c)){for(var p=[],B=c.length,x=0;x<B;x++)p.push(c[x]);return p}p=[],B=0;for(x in c)p[B++]=c[x];return p}function JD(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(o(c)||typeof c=="string"){var p=[];c=c.length;for(var B=0;B<c;B++)p.push(B);return p}p=[],B=0;for(const x in c)p[B++]=x;return p}}}function QB(c,p){if(c.forEach&&typeof c.forEach=="function")c.forEach(p,void 0);else if(o(c)||typeof c=="string")Array.prototype.forEach.call(c,p,void 0);else for(var B=JD(c),x=YD(c),M=x.length,K=0;K<M;K++)p.call(void 0,x[K],B&&B[K],c)}var RB=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ZD(c,p){if(c){c=c.split("&");for(var B=0;B<c.length;B++){var x=c[B].indexOf("="),M=null;if(0<=x){var K=c[B].substring(0,x);M=c[B].substring(x+1)}else K=c[B];p(K,M?decodeURIComponent(M.replace(/\+/g," ")):"")}}}function ii(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof ii){this.h=c.h,du(this,c.j),this.o=c.o,this.g=c.g,gu(this,c.s),this.l=c.l;var p=c.i,B=new Aa;B.i=p.i,p.g&&(B.g=new Map(p.g),B.h=p.h),xB(this,B),this.m=c.m}else c&&(p=String(c).match(RB))?(this.h=!1,du(this,p[1]||"",!0),this.o=ra(p[2]||""),this.g=ra(p[3]||"",!0),gu(this,p[4]),this.l=ra(p[5]||"",!0),xB(this,p[6]||"",!0),this.m=ra(p[7]||"")):(this.h=!1,this.i=new Aa(null,this.h))}ii.prototype.toString=function(){var c=[],p=this.j;p&&c.push(na(p,PB,!0),":");var B=this.g;return(B||p=="file")&&(c.push("//"),(p=this.o)&&c.push(na(p,PB,!0),"@"),c.push(encodeURIComponent(String(B)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),B=this.s,B!=null&&c.push(":",String(B))),(B=this.l)&&(this.g&&B.charAt(0)!="/"&&c.push("/"),c.push(na(B,B.charAt(0)=="/"?r2:t2,!0))),(B=this.i.toString())&&c.push("?",B),(B=this.m)&&c.push("#",na(B,A2)),c.join("")};function kn(c){return new ii(c)}function du(c,p,B){c.j=B?ra(p,!0):p,c.j&&(c.j=c.j.replace(/:$/,""))}function gu(c,p){if(p){if(p=Number(p),isNaN(p)||0>p)throw Error("Bad port number "+p);c.s=p}else c.s=null}function xB(c,p,B){p instanceof Aa?(c.i=p,i2(c.i,c.h)):(B||(p=na(p,n2)),c.i=new Aa(p,c.h))}function Ge(c,p,B){c.i.set(p,B)}function pu(c){return Ge(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function ra(c,p){return c?p?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function na(c,p,B){return typeof c=="string"?(c=encodeURI(c).replace(p,e2),B&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function e2(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var PB=/[#\/\?@]/g,t2=/[#\?:]/g,r2=/[#\?]/g,n2=/[#\?@]/g,A2=/#/g;function Aa(c,p){this.h=this.g=null,this.i=c||null,this.j=!!p}function yA(c){c.g||(c.g=new Map,c.h=0,c.i&&ZD(c.i,function(p,B){c.add(decodeURIComponent(p.replace(/\+/g," ")),B)}))}r=Aa.prototype,r.add=function(c,p){yA(this),this.i=null,c=zi(this,c);var B=this.g.get(c);return B||this.g.set(c,B=[]),B.push(p),this.h+=1,this};function OB(c,p){yA(c),p=zi(c,p),c.g.has(p)&&(c.i=null,c.h-=c.g.get(p).length,c.g.delete(p))}function DB(c,p){return yA(c),p=zi(c,p),c.g.has(p)}r.forEach=function(c,p){yA(this),this.g.forEach(function(B,x){B.forEach(function(M){c.call(p,M,x,this)},this)},this)},r.na=function(){yA(this);const c=Array.from(this.g.values()),p=Array.from(this.g.keys()),B=[];for(let x=0;x<p.length;x++){const M=c[x];for(let K=0;K<M.length;K++)B.push(p[x])}return B},r.V=function(c){yA(this);let p=[];if(typeof c=="string")DB(this,c)&&(p=p.concat(this.g.get(zi(this,c))));else{c=Array.from(this.g.values());for(let B=0;B<c.length;B++)p=p.concat(c[B])}return p},r.set=function(c,p){return yA(this),this.i=null,c=zi(this,c),DB(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[p]),this.h+=1,this},r.get=function(c,p){return c?(c=this.V(c),0<c.length?String(c[0]):p):p};function LB(c,p,B){OB(c,p),0<B.length&&(c.i=null,c.g.set(zi(c,p),m(B)),c.h+=B.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],p=Array.from(this.g.keys());for(var B=0;B<p.length;B++){var x=p[B];const K=encodeURIComponent(String(x)),te=this.V(x);for(x=0;x<te.length;x++){var M=K;te[x]!==""&&(M+="="+encodeURIComponent(String(te[x]))),c.push(M)}}return this.i=c.join("&")};function zi(c,p){return p=String(p),c.j&&(p=p.toLowerCase()),p}function i2(c,p){p&&!c.j&&(yA(c),c.i=null,c.g.forEach(function(B,x){var M=x.toLowerCase();x!=M&&(OB(this,x),LB(this,M,B))},c)),c.j=p}function s2(c,p){const B=new Yt;if(a.Image){const x=new Image;x.onload=d(wA,B,"TestLoadImage: loaded",!0,p,x),x.onerror=d(wA,B,"TestLoadImage: error",!1,p,x),x.onabort=d(wA,B,"TestLoadImage: abort",!1,p,x),x.ontimeout=d(wA,B,"TestLoadImage: timeout",!1,p,x),a.setTimeout(function(){x.ontimeout&&x.ontimeout()},1e4),x.src=c}else p(!1)}function a2(c,p){const B=new Yt,x=new AbortController,M=setTimeout(()=>{x.abort(),wA(B,"TestPingServer: timeout",!1,p)},1e4);fetch(c,{signal:x.signal}).then(K=>{clearTimeout(M),K.ok?wA(B,"TestPingServer: ok",!0,p):wA(B,"TestPingServer: server error",!1,p)}).catch(()=>{clearTimeout(M),wA(B,"TestPingServer: error",!1,p)})}function wA(c,p,B,x,M){try{M&&(M.onload=null,M.onerror=null,M.onabort=null,M.ontimeout=null),x(B)}catch{}}function o2(){this.g=new On}function u2(c,p,B){const x=B||"";try{QB(c,function(M,K){let te=M;u(M)&&(te=zt(M)),p.push(x+K+"="+encodeURIComponent(te))})}catch(M){throw p.push(x+"type="+encodeURIComponent("_badmap")),M}}function mu(c){this.l=c.Ub||null,this.j=c.eb||!1}g(mu,Dn),mu.prototype.g=function(){return new vu(this.l,this.j)},mu.prototype.i=(function(c){return function(){return c}})({});function vu(c,p){ce.call(this),this.D=c,this.o=p,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}g(vu,ce),r=vu.prototype,r.open=function(c,p){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=p,this.readyState=1,sa(this)},r.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const p={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(p.body=c),(this.D||a).fetch(new Request(this.A,p)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ia(this)),this.readyState=0},r.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,sa(this)),this.g&&(this.readyState=3,sa(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;MB(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function MB(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}r.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var p=c.value?c.value:new Uint8Array(0);(p=this.v.decode(p,{stream:!c.done}))&&(this.response=this.responseText+=p)}c.done?ia(this):sa(this),this.readyState==3&&MB(this)}},r.Ra=function(c){this.g&&(this.response=this.responseText=c,ia(this))},r.Qa=function(c){this.g&&(this.response=c,ia(this))},r.ga=function(){this.g&&ia(this)};function ia(c){c.readyState=4,c.l=null,c.j=null,c.v=null,sa(c)}r.setRequestHeader=function(c,p){this.u.append(c,p)},r.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],p=this.h.entries();for(var B=p.next();!B.done;)B=B.value,c.push(B[0]+": "+B[1]),B=p.next();return c.join(`\r
`)};function sa(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(vu.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function NB(c){let p="";return Q(c,function(B,x){p+=x,p+=":",p+=B,p+=`\r
`}),p}function Fh(c,p,B){e:{for(x in B){var x=!1;break e}x=!0}x||(B=NB(B),typeof c=="string"?B!=null&&encodeURIComponent(String(B)):Ge(c,p,B))}function At(c){ce.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}g(At,ce);var l2=/^https?$/i,c2=["POST","PUT"];r=At.prototype,r.Ha=function(c){this.J=c},r.ea=function(c,p,B,x){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);p=p?p.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Xi.g(),this.v=this.o?Dr(this.o):Dr(Xi),this.g.onreadystatechange=f(this.Ea,this);try{this.B=!0,this.g.open(p,String(c),!0),this.B=!1}catch(K){kB(this,K);return}if(c=B||"",B=new Map(this.headers),x)if(Object.getPrototypeOf(x)===Object.prototype)for(var M in x)B.set(M,x[M]);else if(typeof x.keys=="function"&&typeof x.get=="function")for(const K of x.keys())B.set(K,x.get(K));else throw Error("Unknown input type for opt_headers: "+String(x));x=Array.from(B.keys()).find(K=>K.toLowerCase()=="content-type"),M=a.FormData&&c instanceof a.FormData,!(0<=Array.prototype.indexOf.call(c2,p,void 0))||x||M||B.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[K,te]of B)this.g.setRequestHeader(K,te);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{KB(this),this.u=!0,this.g.send(c),this.u=!1}catch(K){kB(this,K)}};function kB(c,p){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=p,c.m=5,HB(c),yu(c)}function HB(c){c.A||(c.A=!0,ge(c,"complete"),ge(c,"error"))}r.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,ge(this,"complete"),ge(this,"abort"),yu(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),yu(this,!0)),At.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?VB(this):this.bb())},r.bb=function(){VB(this)};function VB(c){if(c.h&&typeof s<"u"&&(!c.v[1]||Hn(c)!=4||c.Z()!=2)){if(c.u&&Hn(c)==4)Dt(c.Ea,0,c);else if(ge(c,"readystatechange"),Hn(c)==4){c.h=!1;try{const te=c.Z();e:switch(te){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var p=!0;break e;default:p=!1}var B;if(!(B=p)){var x;if(x=te===0){var M=String(c.D).match(RB)[1]||null;!M&&a.self&&a.self.location&&(M=a.self.location.protocol.slice(0,-1)),x=!l2.test(M?M.toLowerCase():"")}B=x}if(B)ge(c,"complete"),ge(c,"success");else{c.m=6;try{var K=2<Hn(c)?c.g.statusText:""}catch{K=""}c.l=K+" ["+c.Z()+"]",HB(c)}}finally{yu(c)}}}}function yu(c,p){if(c.g){KB(c);const B=c.g,x=c.v[0]?()=>{}:null;c.g=null,c.v=null,p||ge(c,"ready");try{B.onreadystatechange=x}catch{}}}function KB(c){c.I&&(a.clearTimeout(c.I),c.I=null)}r.isActive=function(){return!!this.g};function Hn(c){return c.g?c.g.readyState:0}r.Z=function(){try{return 2<Hn(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(c){if(this.g){var p=this.g.responseText;return c&&p.indexOf(c)==0&&(p=p.substring(c.length)),Pn(p)}};function GB(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function h2(c){const p={};c=(c.g&&2<=Hn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let x=0;x<c.length;x++){if(T(c[x]))continue;var B=F(c[x]);const M=B[0];if(B=B[1],typeof B!="string")continue;B=B.trim();const K=p[M]||[];p[M]=K,K.push(B)}v(p,function(x){return x.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function aa(c,p,B){return B&&B.internalChannelParams&&B.internalChannelParams[c]||p}function jB(c){this.Aa=0,this.i=[],this.j=new Yt,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=aa("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=aa("baseRetryDelayMs",5e3,c),this.cb=aa("retryDelaySeedMs",1e4,c),this.Wa=aa("forwardChannelMaxRetries",2,c),this.wa=aa("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new ta(c&&c.concurrentRequestLimit),this.Da=new o2,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=jB.prototype,r.la=8,r.G=1,r.connect=function(c,p,B,x){Qt(0),this.W=c,this.H=p||{},B&&x!==void 0&&(this.H.OSID=B,this.H.OAID=x),this.F=this.X,this.I=e0(this,null,this.W),Bu(this)};function Sh(c){if(qB(c),c.G==3){var p=c.U++,B=kn(c.I);if(Ge(B,"SID",c.K),Ge(B,"RID",p),Ge(B,"TYPE","terminate"),oa(c,B),p=new tn(c,c.j,p),p.L=2,p.v=pu(kn(B)),B=!1,a.navigator&&a.navigator.sendBeacon)try{B=a.navigator.sendBeacon(p.v.toString(),"")}catch{}!B&&a.Image&&(new Image().src=p.v,B=!0),B||(p.g=t0(p.j,null),p.g.ea(p.v)),p.F=Date.now(),Ke(p)}ZB(c)}function wu(c){c.g&&(Rh(c),c.g.cancel(),c.g=null)}function qB(c){wu(c),c.u&&(a.clearTimeout(c.u),c.u=null),Cu(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&a.clearTimeout(c.s),c.s=null)}function Bu(c){if(!bB(c.h)&&!c.s){c.s=!0;var p=c.Ga;k||$(),V||(k(),V=!0),j.add(p,c),c.B=0}}function f2(c,p){return UB(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=p.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=ni(f(c.Ga,c,p),JB(c,c.B)),c.B++,!0)}r.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const M=new tn(this,this.j,c);let K=this.o;if(this.S&&(K?(K=y(K),U(K,this.S)):K=this.S),this.m!==null||this.O||(M.H=K,K=null),this.P)e:{for(var p=0,B=0;B<this.i.length;B++){t:{var x=this.i[B];if("__data__"in x.map&&(x=x.map.__data__,typeof x=="string")){x=x.length;break t}x=void 0}if(x===void 0)break;if(p+=x,4096<p){p=B;break e}if(p===4096||B===this.i.length-1){p=B+1;break e}}p=1e3}else p=1e3;p=$B(this,M,p),B=kn(this.I),Ge(B,"RID",c),Ge(B,"CVER",22),this.D&&Ge(B,"X-HTTP-Session-Id",this.D),oa(this,B),K&&(this.O?p="headers="+encodeURIComponent(String(NB(K)))+"&"+p:this.m&&Fh(B,this.m,K)),Uh(this.h,M),this.Ua&&Ge(B,"TYPE","init"),this.P?(Ge(B,"$req",p),Ge(B,"SID","null"),M.T=!0,Z(M,B,null)):Z(M,B,p),this.G=2}}else this.G==3&&(c?WB(this,c):this.i.length==0||bB(this.h)||WB(this))};function WB(c,p){var B;p?B=p.l:B=c.U++;const x=kn(c.I);Ge(x,"SID",c.K),Ge(x,"RID",B),Ge(x,"AID",c.T),oa(c,x),c.m&&c.o&&Fh(x,c.m,c.o),B=new tn(c,c.j,B,c.B+1),c.m===null&&(B.H=c.o),p&&(c.i=p.D.concat(c.i)),p=$B(c,B,1e3),B.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),Uh(c.h,B),Z(B,x,p)}function oa(c,p){c.H&&Q(c.H,function(B,x){Ge(p,x,B)}),c.l&&QB({},function(B,x){Ge(p,x,B)})}function $B(c,p,B){B=Math.min(c.i.length,B);var x=c.l?f(c.l.Na,c.l,c):null;e:{var M=c.i;let K=-1;for(;;){const te=["count="+B];K==-1?0<B?(K=M[0].g,te.push("ofs="+K)):K=0:te.push("ofs="+K);let ke=!0;for(let Mt=0;Mt<B;Mt++){let Qe=M[Mt].g;const Jt=M[Mt].map;if(Qe-=K,0>Qe)K=Math.max(0,M[Mt].g-100),ke=!1;else try{u2(Jt,te,"req"+Qe+"_")}catch{x&&x(Jt)}}if(ke){x=te.join("&");break e}}}return c=c.i.splice(0,B),p.D=c,x}function XB(c){if(!c.g&&!c.u){c.Y=1;var p=c.Fa;k||$(),V||(k(),V=!0),j.add(p,c),c.v=0}}function Qh(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=ni(f(c.Fa,c),JB(c,c.v)),c.v++,!0)}r.Fa=function(){if(this.u=null,zB(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=ni(f(this.ab,this),c)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Qt(10),wu(this),zB(this))};function Rh(c){c.A!=null&&(a.clearTimeout(c.A),c.A=null)}function zB(c){c.g=new tn(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var p=kn(c.qa);Ge(p,"RID","rpc"),Ge(p,"SID",c.K),Ge(p,"AID",c.T),Ge(p,"CI",c.F?"0":"1"),!c.F&&c.ja&&Ge(p,"TO",c.ja),Ge(p,"TYPE","xmlhttp"),oa(c,p),c.m&&c.o&&Fh(p,c.m,c.o),c.L&&(c.g.I=c.L);var B=c.g;c=c.ia,B.L=1,B.v=pu(kn(p)),B.m=null,B.P=!0,ae(B,c)}r.Za=function(){this.C!=null&&(this.C=null,wu(this),Qh(this),Qt(19))};function Cu(c){c.C!=null&&(a.clearTimeout(c.C),c.C=null)}function YB(c,p){var B=null;if(c.g==p){Cu(c),Rh(c),c.g=null;var x=2}else if(bh(c.h,p))B=p.D,FB(c.h,p),x=1;else return;if(c.G!=0){if(p.o)if(x==1){B=p.m?p.m.length:0,p=Date.now()-p.F;var M=c.B;x=en(),ge(x,new Js(x,B)),Bu(c)}else XB(c);else if(M=p.s,M==3||M==0&&0<p.X||!(x==1&&f2(c,p)||x==2&&Qh(c)))switch(B&&0<B.length&&(p=c.h,p.i=p.i.concat(B)),M){case 1:si(c,5);break;case 4:si(c,10);break;case 3:si(c,6);break;default:si(c,2)}}}function JB(c,p){let B=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(B*=2),B*p}function si(c,p){if(c.j.info("Error code "+p),p==2){var B=f(c.fb,c),x=c.Xa;const M=!x;x=new ii(x||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||du(x,"https"),pu(x),M?s2(x.toString(),B):a2(x.toString(),B)}else Qt(2);c.G=0,c.l&&c.l.sa(p),ZB(c),qB(c)}r.fb=function(c){c?(this.j.info("Successfully pinged google.com"),Qt(2)):(this.j.info("Failed to ping google.com"),Qt(1))};function ZB(c){if(c.G=0,c.ka=[],c.l){const p=SB(c.h);(p.length!=0||c.i.length!=0)&&(C(c.ka,p),C(c.ka,c.i),c.h.i.length=0,m(c.i),c.i.length=0),c.l.ra()}}function e0(c,p,B){var x=B instanceof ii?kn(B):new ii(B);if(x.g!="")p&&(x.g=p+"."+x.g),gu(x,x.s);else{var M=a.location;x=M.protocol,p=p?p+"."+M.hostname:M.hostname,M=+M.port;var K=new ii(null);x&&du(K,x),p&&(K.g=p),M&&gu(K,M),B&&(K.l=B),x=K}return B=c.D,p=c.ya,B&&p&&Ge(x,B,p),Ge(x,"VER",c.la),oa(c,x),x}function t0(c,p,B){if(p&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return p=c.Ca&&!c.pa?new At(new mu({eb:B})):new At(c.pa),p.Ha(c.J),p}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function r0(){}r=r0.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function Eu(){}Eu.prototype.g=function(c,p){return new Sr(c,p)};function Sr(c,p){ce.call(this),this.g=new jB(p),this.l=c,this.h=p&&p.messageUrlParams||null,c=p&&p.messageHeaders||null,p&&p.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=p&&p.initMessageHeaders||null,p&&p.messageContentType&&(c?c["X-WebChannel-Content-Type"]=p.messageContentType:c={"X-WebChannel-Content-Type":p.messageContentType}),p&&p.va&&(c?c["X-WebChannel-Client-Profile"]=p.va:c={"X-WebChannel-Client-Profile":p.va}),this.g.S=c,(c=p&&p.Sb)&&!T(c)&&(this.g.m=c),this.v=p&&p.supportsCrossDomainXhr||!1,this.u=p&&p.sendRawJson||!1,(p=p&&p.httpSessionIdParam)&&!T(p)&&(this.g.D=p,c=this.h,c!==null&&p in c&&(c=this.h,p in c&&delete c[p])),this.j=new Yi(this)}g(Sr,ce),Sr.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Sr.prototype.close=function(){Sh(this.g)},Sr.prototype.o=function(c){var p=this.g;if(typeof c=="string"){var B={};B.__data__=c,c=B}else this.u&&(B={},B.__data__=zt(c),c=B);p.i.push(new fu(p.Ya++,c)),p.G==3&&Bu(p)},Sr.prototype.N=function(){this.g.l=null,delete this.j,Sh(this.g),delete this.g,Sr.aa.N.call(this)};function n0(c){$e.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var p=c.__sm__;if(p){e:{for(const B in p){c=B;break e}c=void 0}(this.i=c)&&(c=this.i,p=p!==null&&c in p?p[c]:void 0),this.data=p}else this.data=c}g(n0,$e);function A0(){Ys.call(this),this.status=1}g(A0,Ys);function Yi(c){this.g=c}g(Yi,r0),Yi.prototype.ua=function(){ge(this.g,"a")},Yi.prototype.ta=function(c){ge(this.g,new n0(c))},Yi.prototype.sa=function(c){ge(this.g,new A0)},Yi.prototype.ra=function(){ge(this.g,"b")},Eu.prototype.createWebChannel=Eu.prototype.g,Sr.prototype.send=Sr.prototype.o,Sr.prototype.open=Sr.prototype.m,Sr.prototype.close=Sr.prototype.close,pS=function(){return new Eu},gS=function(){return en()},dS=Ln,Bm={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},vr.NO_ERROR=0,vr.TIMEOUT=8,vr.HTTP_ERROR=6,Bl=vr,ea.COMPLETE="complete",fS=ea,Lr.EventType=Zr,Zr.OPEN="a",Zr.CLOSE="b",Zr.ERROR="c",Zr.MESSAGE="d",ce.prototype.listen=ce.prototype.K,Sa=Lr,At.prototype.listenOnce=At.prototype.L,At.prototype.getLastError=At.prototype.Ka,At.prototype.getLastErrorCode=At.prototype.Ba,At.prototype.getStatus=At.prototype.Z,At.prototype.getResponseJson=At.prototype.Oa,At.prototype.getResponseText=At.prototype.oa,At.prototype.send=At.prototype.ea,At.prototype.setWithCredentials=At.prototype.Ha,hS=At}).apply(typeof Iu<"u"?Iu:typeof self<"u"?self:typeof window<"u"?window:{});const q0="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rr{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}rr.UNAUTHENTICATED=new rr(null),rr.GOOGLE_CREDENTIALS=new rr("google-credentials-uid"),rr.FIRST_PARTY=new rr("first-party-uid"),rr.MOCK_USER=new rr("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ks="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qi=new _c("@firebase/firestore");function la(){return Qi.logLevel}function ue(r,...e){if(Qi.logLevel<=Fe.DEBUG){const t=e.map(gy);Qi.debug(`Firestore (${ks}): ${r}`,...t)}}function aA(r,...e){if(Qi.logLevel<=Fe.ERROR){const t=e.map(gy);Qi.error(`Firestore (${ks}): ${r}`,...t)}}function Us(r,...e){if(Qi.logLevel<=Fe.WARN){const t=e.map(gy);Qi.warn(`Firestore (${ks}): ${r}`,...t)}}function gy(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(t){return JSON.stringify(t)})(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ve(r="Unexpected state"){const e=`FIRESTORE (${ks}) INTERNAL ASSERTION FAILED: `+r;throw aA(e),new Error(e)}function Le(r,e){r||ve()}function Be(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ie extends gn{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rA{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mS{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Ok{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(rr.UNAUTHENTICATED)))}shutdown(){}}class Dk{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class Lk{constructor(e){this.t=e,this.currentUser=rr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Le(this.o===void 0);let n=this.i;const A=o=>this.i!==n?(n=this.i,t(o)):Promise.resolve();let i=new rA;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new rA,e.enqueueRetryable((()=>A(this.currentUser)))};const s=()=>{const o=i;e.enqueueRetryable((async()=>{await o.promise,await A(this.currentUser)}))},a=o=>{ue("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=o,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit((o=>a(o))),setTimeout((()=>{if(!this.auth){const o=this.t.getImmediate({optional:!0});o?a(o):(ue("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new rA)}}),0),s()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((n=>this.i!==e?(ue("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):n?(Le(typeof n.accessToken=="string"),new mS(n.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Le(e===null||typeof e=="string"),new rr(e)}}class Mk{constructor(e,t,n){this.l=e,this.h=t,this.P=n,this.type="FirstParty",this.user=rr.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class Nk{constructor(e,t,n){this.l=e,this.h=t,this.P=n}getToken(){return Promise.resolve(new Mk(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable((()=>t(rr.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class kk{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Hk{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){Le(this.o===void 0);const n=i=>{i.error!=null&&ue("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const s=i.token!==this.R;return this.R=i.token,ue("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?t(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable((()=>n(i)))};const A=i=>{ue("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit((i=>A(i))),setTimeout((()=>{if(!this.appCheck){const i=this.A.getImmediate({optional:!0});i?A(i):ue("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((t=>t?(Le(typeof t.token=="string"),this.R=t.token,new kk(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vk(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let n=0;n<r;n++)t[n]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vS{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let n="";for(;n.length<20;){const A=Vk(40);for(let i=0;i<A.length;++i)n.length<20&&A[i]<t&&(n+=e.charAt(A[i]%e.length))}return n}}function Re(r,e){return r<e?-1:r>e?1:0}function Fs(r,e,t){return r.length===e.length&&r.every(((n,A)=>t(n,e[A])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bt{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new ie(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new ie(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new ie(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ie(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return bt.fromMillis(Date.now())}static fromDate(e){return bt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor(1e6*(e-1e3*t));return new bt(t,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Re(this.nanoseconds,e.nanoseconds):Re(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class we{constructor(e){this.timestamp=e}static fromTimestamp(e){return new we(e)}static min(){return new we(new bt(0,0))}static max(){return new we(new bt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lo{constructor(e,t,n){t===void 0?t=0:t>e.length&&ve(),n===void 0?n=e.length-t:n>e.length-t&&ve(),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return lo.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof lo?e.forEach((n=>{t.push(n)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let A=0;A<n;A++){const i=e.get(A),s=t.get(A);if(i<s)return-1;if(i>s)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class je extends lo{construct(e,t,n){return new je(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const n of e){if(n.indexOf("//")>=0)throw new ie(X.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);t.push(...n.split("/").filter((A=>A.length>0)))}return new je(t)}static emptyPath(){return new je([])}}const Kk=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Vt extends lo{construct(e,t,n){return new Vt(e,t,n)}static isValidIdentifier(e){return Kk.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Vt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Vt(["__name__"])}static fromServerFormat(e){const t=[];let n="",A=0;const i=()=>{if(n.length===0)throw new ie(X.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(n),n=""};let s=!1;for(;A<e.length;){const a=e[A];if(a==="\\"){if(A+1===e.length)throw new ie(X.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const o=e[A+1];if(o!=="\\"&&o!=="."&&o!=="`")throw new ie(X.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=o,A+=2}else a==="`"?(s=!s,A++):a!=="."||s?(n+=a,A++):(i(),A++)}if(i(),s)throw new ie(X.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Vt(t)}static emptyPath(){return new Vt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class de{constructor(e){this.path=e}static fromPath(e){return new de(je.fromString(e))}static fromName(e){return new de(je.fromString(e).popFirst(5))}static empty(){return new de(je.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&je.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return je.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new de(new je(e.slice()))}}function Gk(r,e){const t=r.toTimestamp().seconds,n=r.toTimestamp().nanoseconds+1,A=we.fromTimestamp(n===1e9?new bt(t+1,0):new bt(t,n));return new GA(A,de.empty(),e)}function jk(r){return new GA(r.readTime,r.key,-1)}class GA{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new GA(we.min(),de.empty(),-1)}static max(){return new GA(we.max(),de.empty(),-1)}}function qk(r,e){let t=r.readTime.compareTo(e.readTime);return t!==0?t:(t=de.comparator(r.documentKey,e.documentKey),t!==0?t:Re(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wk="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class $k{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Lo(r){if(r.code!==X.FAILED_PRECONDITION||r.message!==Wk)throw r;ue("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&ve(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new J(((n,A)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(n,A)},this.catchCallback=i=>{this.wrapFailure(t,i).next(n,A)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof J?t:J.resolve(t)}catch(t){return J.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):J.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):J.reject(t)}static resolve(e){return new J(((t,n)=>{t(e)}))}static reject(e){return new J(((t,n)=>{n(e)}))}static waitFor(e){return new J(((t,n)=>{let A=0,i=0,s=!1;e.forEach((a=>{++A,a.next((()=>{++i,s&&i===A&&t()}),(o=>n(o)))})),s=!0,i===A&&t()}))}static or(e){let t=J.resolve(!1);for(const n of e)t=t.next((A=>A?J.resolve(A):n()));return t}static forEach(e,t){const n=[];return e.forEach(((A,i)=>{n.push(t.call(this,A,i))})),this.waitFor(n)}static mapArray(e,t){return new J(((n,A)=>{const i=e.length,s=new Array(i);let a=0;for(let o=0;o<i;o++){const u=o;t(e[u]).next((l=>{s[u]=l,++a,a===i&&n(s)}),(l=>A(l)))}}))}static doWhile(e,t){return new J(((n,A)=>{const i=()=>{e()===!0?t().next((()=>{i()}),A):n()};i()}))}}function Xk(r){const e=r.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Mo(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class py{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=n=>this.ie(n),this.se=n=>t.writeSequenceNumber(n))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}py.oe=-1;function Fc(r){return r==null}function Wl(r){return r===0&&1/r==-1/0}function zk(r){return typeof r=="number"&&Number.isInteger(r)&&!Wl(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W0(r){let e=0;for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e++;return e}function Ni(r,e){for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e(t,r[t])}function yS(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tt{constructor(e,t){this.comparator=e,this.root=t||Ht.EMPTY}insert(e,t){return new tt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Ht.BLACK,null,null))}remove(e){return new tt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ht.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(n===0)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const A=this.comparator(e,n.key);if(A===0)return t+n.left.size;A<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,n)=>(e(t,n),!1)))}toString(){const e=[];return this.inorderTraversal(((t,n)=>(e.push(`${t}:${n}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new bu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new bu(this.root,e,this.comparator,!1)}getReverseIterator(){return new bu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new bu(this.root,e,this.comparator,!0)}}class bu{constructor(e,t,n,A){this.isReverse=A,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?n(e.key,t):1,t&&A&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ht{constructor(e,t,n,A,i){this.key=e,this.value=t,this.color=n??Ht.RED,this.left=A??Ht.EMPTY,this.right=i??Ht.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,A,i){return new Ht(e??this.key,t??this.value,n??this.color,A??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let A=this;const i=n(e,A.key);return A=i<0?A.copy(null,null,null,A.left.insert(e,t,n),null):i===0?A.copy(null,t,null,null,null):A.copy(null,null,null,null,A.right.insert(e,t,n)),A.fixUp()}removeMin(){if(this.left.isEmpty())return Ht.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,A=this;if(t(e,A.key)<0)A.left.isEmpty()||A.left.isRed()||A.left.left.isRed()||(A=A.moveRedLeft()),A=A.copy(null,null,null,A.left.remove(e,t),null);else{if(A.left.isRed()&&(A=A.rotateRight()),A.right.isEmpty()||A.right.isRed()||A.right.left.isRed()||(A=A.moveRedRight()),t(e,A.key)===0){if(A.right.isEmpty())return Ht.EMPTY;n=A.right.min(),A=A.copy(n.key,n.value,null,null,A.right.removeMin())}A=A.copy(null,null,null,null,A.right.remove(e,t))}return A.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ht.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ht.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ve();const e=this.left.check();if(e!==this.right.check())throw ve();return e+(this.isRed()?0:1)}}Ht.EMPTY=null,Ht.RED=!0,Ht.BLACK=!1;Ht.EMPTY=new class{constructor(){this.size=0}get key(){throw ve()}get value(){throw ve()}get color(){throw ve()}get left(){throw ve()}get right(){throw ve()}copy(e,t,n,A,i){return this}insert(e,t,n){return new Ht(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gt{constructor(e){this.comparator=e,this.data=new tt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,n)=>(e(t),!1)))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const A=n.getNext();if(this.comparator(A.key,e[1])>=0)return;t(A.key)}}forEachWhile(e,t){let n;for(n=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new $0(this.data.getIterator())}getIteratorFrom(e){return new $0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((n=>{t=t.add(n)})),t}isEqual(e){if(!(e instanceof Gt)||this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const A=t.getNext().key,i=n.getNext().key;if(this.comparator(A,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new Gt(this.comparator);return t.data=e,t}}class $0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xr{constructor(e){this.fields=e,e.sort(Vt.comparator)}static empty(){return new xr([])}unionWith(e){let t=new Gt(Vt.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new xr(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Fs(this.fields,e.fields,((t,n)=>t.isEqual(n)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wS extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=(function(A){try{return atob(A)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new wS("Invalid base64 string: "+i):i}})(e);return new jt(t)}static fromUint8Array(e){const t=(function(A){let i="";for(let s=0;s<A.length;++s)i+=String.fromCharCode(A[s]);return i})(e);return new jt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){const n=new Uint8Array(t.length);for(let A=0;A<t.length;A++)n[A]=t.charCodeAt(A);return n})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Re(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}jt.EMPTY_BYTE_STRING=new jt("");const Yk=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function jA(r){if(Le(!!r),typeof r=="string"){let e=0;const t=Yk.exec(r);if(Le(!!t),t[1]){let A=t[1];A=(A+"000000000").substr(0,9),e=Number(A)}const n=new Date(r);return{seconds:Math.floor(n.getTime()/1e3),nanos:e}}return{seconds:gt(r.seconds),nanos:gt(r.nanos)}}function gt(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Ri(r){return typeof r=="string"?jt.fromBase64String(r):jt.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function my(r){var e,t;return((t=(((e=r?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="server_timestamp"}function vy(r){const e=r.mapValue.fields.__previous_value__;return my(e)?vy(e):e}function co(r){const e=jA(r.mapValue.fields.__local_write_time__.timestampValue);return new bt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jk{constructor(e,t,n,A,i,s,a,o,u){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=A,this.ssl=i,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=o,this.useFetchStreams=u}}class ho{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new ho("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof ho&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uu={mapValue:{}};function xi(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?my(r)?4:eH(r)?9007199254740991:Zk(r)?10:11:ve()}function Un(r,e){if(r===e)return!0;const t=xi(r);if(t!==xi(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return co(r).isEqual(co(e));case 3:return(function(A,i){if(typeof A.timestampValue=="string"&&typeof i.timestampValue=="string"&&A.timestampValue.length===i.timestampValue.length)return A.timestampValue===i.timestampValue;const s=jA(A.timestampValue),a=jA(i.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos})(r,e);case 5:return r.stringValue===e.stringValue;case 6:return(function(A,i){return Ri(A.bytesValue).isEqual(Ri(i.bytesValue))})(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return(function(A,i){return gt(A.geoPointValue.latitude)===gt(i.geoPointValue.latitude)&&gt(A.geoPointValue.longitude)===gt(i.geoPointValue.longitude)})(r,e);case 2:return(function(A,i){if("integerValue"in A&&"integerValue"in i)return gt(A.integerValue)===gt(i.integerValue);if("doubleValue"in A&&"doubleValue"in i){const s=gt(A.doubleValue),a=gt(i.doubleValue);return s===a?Wl(s)===Wl(a):isNaN(s)&&isNaN(a)}return!1})(r,e);case 9:return Fs(r.arrayValue.values||[],e.arrayValue.values||[],Un);case 10:case 11:return(function(A,i){const s=A.mapValue.fields||{},a=i.mapValue.fields||{};if(W0(s)!==W0(a))return!1;for(const o in s)if(s.hasOwnProperty(o)&&(a[o]===void 0||!Un(s[o],a[o])))return!1;return!0})(r,e);default:return ve()}}function fo(r,e){return(r.values||[]).find((t=>Un(t,e)))!==void 0}function Ss(r,e){if(r===e)return 0;const t=xi(r),n=xi(e);if(t!==n)return Re(t,n);switch(t){case 0:case 9007199254740991:return 0;case 1:return Re(r.booleanValue,e.booleanValue);case 2:return(function(i,s){const a=gt(i.integerValue||i.doubleValue),o=gt(s.integerValue||s.doubleValue);return a<o?-1:a>o?1:a===o?0:isNaN(a)?isNaN(o)?0:-1:1})(r,e);case 3:return X0(r.timestampValue,e.timestampValue);case 4:return X0(co(r),co(e));case 5:return Re(r.stringValue,e.stringValue);case 6:return(function(i,s){const a=Ri(i),o=Ri(s);return a.compareTo(o)})(r.bytesValue,e.bytesValue);case 7:return(function(i,s){const a=i.split("/"),o=s.split("/");for(let u=0;u<a.length&&u<o.length;u++){const l=Re(a[u],o[u]);if(l!==0)return l}return Re(a.length,o.length)})(r.referenceValue,e.referenceValue);case 8:return(function(i,s){const a=Re(gt(i.latitude),gt(s.latitude));return a!==0?a:Re(gt(i.longitude),gt(s.longitude))})(r.geoPointValue,e.geoPointValue);case 9:return z0(r.arrayValue,e.arrayValue);case 10:return(function(i,s){var a,o,u,l;const h=i.fields||{},f=s.fields||{},d=(a=h.value)===null||a===void 0?void 0:a.arrayValue,g=(o=f.value)===null||o===void 0?void 0:o.arrayValue,m=Re(((u=d?.values)===null||u===void 0?void 0:u.length)||0,((l=g?.values)===null||l===void 0?void 0:l.length)||0);return m!==0?m:z0(d,g)})(r.mapValue,e.mapValue);case 11:return(function(i,s){if(i===Uu.mapValue&&s===Uu.mapValue)return 0;if(i===Uu.mapValue)return 1;if(s===Uu.mapValue)return-1;const a=i.fields||{},o=Object.keys(a),u=s.fields||{},l=Object.keys(u);o.sort(),l.sort();for(let h=0;h<o.length&&h<l.length;++h){const f=Re(o[h],l[h]);if(f!==0)return f;const d=Ss(a[o[h]],u[l[h]]);if(d!==0)return d}return Re(o.length,l.length)})(r.mapValue,e.mapValue);default:throw ve()}}function X0(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return Re(r,e);const t=jA(r),n=jA(e),A=Re(t.seconds,n.seconds);return A!==0?A:Re(t.nanos,n.nanos)}function z0(r,e){const t=r.values||[],n=e.values||[];for(let A=0;A<t.length&&A<n.length;++A){const i=Ss(t[A],n[A]);if(i)return i}return Re(t.length,n.length)}function Qs(r){return Cm(r)}function Cm(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(t){const n=jA(t);return`time(${n.seconds},${n.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(t){return Ri(t).toBase64()})(r.bytesValue):"referenceValue"in r?(function(t){return de.fromName(t).toString()})(r.referenceValue):"geoPointValue"in r?(function(t){return`geo(${t.latitude},${t.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(t){let n="[",A=!0;for(const i of t.values||[])A?A=!1:n+=",",n+=Cm(i);return n+"]"})(r.arrayValue):"mapValue"in r?(function(t){const n=Object.keys(t.fields||{}).sort();let A="{",i=!0;for(const s of n)i?i=!1:A+=",",A+=`${s}:${Cm(t.fields[s])}`;return A+"}"})(r.mapValue):ve()}function Y0(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function Em(r){return!!r&&"integerValue"in r}function yy(r){return!!r&&"arrayValue"in r}function J0(r){return!!r&&"nullValue"in r}function Z0(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Cl(r){return!!r&&"mapValue"in r}function Zk(r){var e,t;return((t=(((e=r?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="__vector__"}function Ka(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const e={mapValue:{fields:{}}};return Ni(r.mapValue.fields,((t,n)=>e.mapValue.fields[t]=Ka(n))),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(r.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Ka(r.arrayValue.values[t]);return e}return Object.assign({},r)}function eH(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wr{constructor(e){this.value=e}static empty(){return new wr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!Cl(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ka(t)}setAll(e){let t=Vt.emptyPath(),n={},A=[];e.forEach(((s,a)=>{if(!t.isImmediateParentOf(a)){const o=this.getFieldsMap(t);this.applyChanges(o,n,A),n={},A=[],t=a.popLast()}s?n[a.lastSegment()]=Ka(s):A.push(a.lastSegment())}));const i=this.getFieldsMap(t);this.applyChanges(i,n,A)}delete(e){const t=this.field(e.popLast());Cl(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Un(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let A=t.mapValue.fields[e.get(n)];Cl(A)&&A.mapValue.fields||(A={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=A),t=A}return t.mapValue.fields}applyChanges(e,t,n){Ni(t,((A,i)=>e[A]=i));for(const A of n)delete e[A]}clone(){return new wr(Ka(this.value))}}function BS(r){const e=[];return Ni(r.fields,((t,n)=>{const A=new Vt([t]);if(Cl(n)){const i=BS(n.mapValue).fields;if(i.length===0)e.push(A);else for(const s of i)e.push(A.child(s))}else e.push(A)})),new xr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ar{constructor(e,t,n,A,i,s,a){this.key=e,this.documentType=t,this.version=n,this.readTime=A,this.createTime=i,this.data=s,this.documentState=a}static newInvalidDocument(e){return new Ar(e,0,we.min(),we.min(),we.min(),wr.empty(),0)}static newFoundDocument(e,t,n,A){return new Ar(e,1,t,we.min(),n,A,0)}static newNoDocument(e,t){return new Ar(e,2,t,we.min(),we.min(),wr.empty(),0)}static newUnknownDocument(e,t){return new Ar(e,3,t,we.min(),we.min(),wr.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(we.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=wr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=wr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=we.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Ar&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ar(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $l{constructor(e,t){this.position=e,this.inclusive=t}}function eC(r,e,t){let n=0;for(let A=0;A<r.position.length;A++){const i=e[A],s=r.position[A];if(i.field.isKeyField()?n=de.comparator(de.fromName(s.referenceValue),t.key):n=Ss(s,t.data.field(i.field)),i.dir==="desc"&&(n*=-1),n!==0)break}return n}function tC(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let t=0;t<r.position.length;t++)if(!Un(r.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xl{constructor(e,t="asc"){this.field=e,this.dir=t}}function tH(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CS{}class Et extends CS{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,n):new nH(e,t,n):t==="array-contains"?new sH(e,n):t==="in"?new aH(e,n):t==="not-in"?new oH(e,n):t==="array-contains-any"?new uH(e,n):new Et(e,t,n)}static createKeyFieldInFilter(e,t,n){return t==="in"?new AH(e,n):new iH(e,n)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(Ss(t,this.value)):t!==null&&xi(this.value)===xi(t)&&this.matchesComparison(Ss(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ve()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class fn extends CS{constructor(e,t){super(),this.filters=e,this.op=t,this.ae=null}static create(e,t){return new fn(e,t)}matches(e){return ES(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function ES(r){return r.op==="and"}function _S(r){return rH(r)&&ES(r)}function rH(r){for(const e of r.filters)if(e instanceof fn)return!1;return!0}function _m(r){if(r instanceof Et)return r.field.canonicalString()+r.op.toString()+Qs(r.value);if(_S(r))return r.filters.map((e=>_m(e))).join(",");{const e=r.filters.map((t=>_m(t))).join(",");return`${r.op}(${e})`}}function TS(r,e){return r instanceof Et?(function(n,A){return A instanceof Et&&n.op===A.op&&n.field.isEqual(A.field)&&Un(n.value,A.value)})(r,e):r instanceof fn?(function(n,A){return A instanceof fn&&n.op===A.op&&n.filters.length===A.filters.length?n.filters.reduce(((i,s,a)=>i&&TS(s,A.filters[a])),!0):!1})(r,e):void ve()}function IS(r){return r instanceof Et?(function(t){return`${t.field.canonicalString()} ${t.op} ${Qs(t.value)}`})(r):r instanceof fn?(function(t){return t.op.toString()+" {"+t.getFilters().map(IS).join(" ,")+"}"})(r):"Filter"}class nH extends Et{constructor(e,t,n){super(e,t,n),this.key=de.fromName(n.referenceValue)}matches(e){const t=de.comparator(e.key,this.key);return this.matchesComparison(t)}}class AH extends Et{constructor(e,t){super(e,"in",t),this.keys=bS("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class iH extends Et{constructor(e,t){super(e,"not-in",t),this.keys=bS("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function bS(r,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map((n=>de.fromName(n.referenceValue)))}class sH extends Et{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return yy(t)&&fo(t.arrayValue,this.value)}}class aH extends Et{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&fo(this.value.arrayValue,t)}}class oH extends Et{constructor(e,t){super(e,"not-in",t)}matches(e){if(fo(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&!fo(this.value.arrayValue,t)}}class uH extends Et{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!yy(t)||!t.arrayValue.values)&&t.arrayValue.values.some((n=>fo(this.value.arrayValue,n)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lH{constructor(e,t=null,n=[],A=[],i=null,s=null,a=null){this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=A,this.limit=i,this.startAt=s,this.endAt=a,this.ue=null}}function rC(r,e=null,t=[],n=[],A=null,i=null,s=null){return new lH(r,e,t,n,A,i,s)}function wy(r){const e=Be(r);if(e.ue===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((n=>_m(n))).join(","),t+="|ob:",t+=e.orderBy.map((n=>(function(i){return i.field.canonicalString()+i.dir})(n))).join(","),Fc(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((n=>Qs(n))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((n=>Qs(n))).join(",")),e.ue=t}return e.ue}function By(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<r.orderBy.length;t++)if(!tH(r.orderBy[t],e.orderBy[t]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let t=0;t<r.filters.length;t++)if(!TS(r.filters[t],e.filters[t]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!tC(r.startAt,e.startAt)&&tC(r.endAt,e.endAt)}function Tm(r){return de.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class No{constructor(e,t=null,n=[],A=[],i=null,s="F",a=null,o=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=A,this.limit=i,this.limitType=s,this.startAt=a,this.endAt=o,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function cH(r,e,t,n,A,i,s,a){return new No(r,e,t,n,A,i,s,a)}function Sc(r){return new No(r)}function nC(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function US(r){return r.collectionGroup!==null}function Ga(r){const e=Be(r);if(e.ce===null){e.ce=[];const t=new Set;for(const i of e.explicitOrderBy)e.ce.push(i),t.add(i.field.canonicalString());const n=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new Gt(Vt.comparator);return s.filters.forEach((o=>{o.getFlattenedFilters().forEach((u=>{u.isInequality()&&(a=a.add(u.field))}))})),a})(e).forEach((i=>{t.has(i.canonicalString())||i.isKeyField()||e.ce.push(new Xl(i,n))})),t.has(Vt.keyField().canonicalString())||e.ce.push(new Xl(Vt.keyField(),n))}return e.ce}function _n(r){const e=Be(r);return e.le||(e.le=hH(e,Ga(r))),e.le}function hH(r,e){if(r.limitType==="F")return rC(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map((A=>{const i=A.dir==="desc"?"asc":"desc";return new Xl(A.field,i)}));const t=r.endAt?new $l(r.endAt.position,r.endAt.inclusive):null,n=r.startAt?new $l(r.startAt.position,r.startAt.inclusive):null;return rC(r.path,r.collectionGroup,e,r.filters,r.limit,t,n)}}function Im(r,e){const t=r.filters.concat([e]);return new No(r.path,r.collectionGroup,r.explicitOrderBy.slice(),t,r.limit,r.limitType,r.startAt,r.endAt)}function zl(r,e,t){return new No(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,t,r.startAt,r.endAt)}function Qc(r,e){return By(_n(r),_n(e))&&r.limitType===e.limitType}function FS(r){return`${wy(_n(r))}|lt:${r.limitType}`}function as(r){return`Query(target=${(function(t){let n=t.path.canonicalString();return t.collectionGroup!==null&&(n+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(n+=`, filters: [${t.filters.map((A=>IS(A))).join(", ")}]`),Fc(t.limit)||(n+=", limit: "+t.limit),t.orderBy.length>0&&(n+=`, orderBy: [${t.orderBy.map((A=>(function(s){return`${s.field.canonicalString()} (${s.dir})`})(A))).join(", ")}]`),t.startAt&&(n+=", startAt: ",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((A=>Qs(A))).join(",")),t.endAt&&(n+=", endAt: ",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((A=>Qs(A))).join(",")),`Target(${n})`})(_n(r))}; limitType=${r.limitType})`}function Rc(r,e){return e.isFoundDocument()&&(function(n,A){const i=A.key.path;return n.collectionGroup!==null?A.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(i):de.isDocumentKey(n.path)?n.path.isEqual(i):n.path.isImmediateParentOf(i)})(r,e)&&(function(n,A){for(const i of Ga(n))if(!i.field.isKeyField()&&A.data.field(i.field)===null)return!1;return!0})(r,e)&&(function(n,A){for(const i of n.filters)if(!i.matches(A))return!1;return!0})(r,e)&&(function(n,A){return!(n.startAt&&!(function(s,a,o){const u=eC(s,a,o);return s.inclusive?u<=0:u<0})(n.startAt,Ga(n),A)||n.endAt&&!(function(s,a,o){const u=eC(s,a,o);return s.inclusive?u>=0:u>0})(n.endAt,Ga(n),A))})(r,e)}function fH(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function SS(r){return(e,t)=>{let n=!1;for(const A of Ga(r)){const i=dH(A,e,t);if(i!==0)return i;n=n||A.field.isKeyField()}return 0}}function dH(r,e,t){const n=r.field.isKeyField()?de.comparator(e.key,t.key):(function(i,s,a){const o=s.data.field(i),u=a.data.field(i);return o!==null&&u!==null?Ss(o,u):ve()})(r.field,e,t);switch(r.dir){case"asc":return n;case"desc":return-1*n;default:return ve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hs{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(n!==void 0){for(const[A,i]of n)if(this.equalsFn(A,e))return i}}has(e){return this.get(e)!==void 0}set(e,t){const n=this.mapKeyFn(e),A=this.inner[n];if(A===void 0)return this.inner[n]=[[e,t]],void this.innerSize++;for(let i=0;i<A.length;i++)if(this.equalsFn(A[i][0],e))return void(A[i]=[e,t]);A.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(n===void 0)return!1;for(let A=0;A<n.length;A++)if(this.equalsFn(n[A][0],e))return n.length===1?delete this.inner[t]:n.splice(A,1),this.innerSize--,!0;return!1}forEach(e){Ni(this.inner,((t,n)=>{for(const[A,i]of n)e(A,i)}))}isEmpty(){return yS(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gH=new tt(de.comparator);function oA(){return gH}const QS=new tt(de.comparator);function Qa(...r){let e=QS;for(const t of r)e=e.insert(t.key,t);return e}function RS(r){let e=QS;return r.forEach(((t,n)=>e=e.insert(t,n.overlayedDocument))),e}function mi(){return ja()}function xS(){return ja()}function ja(){return new Hs((r=>r.toString()),((r,e)=>r.isEqual(e)))}const pH=new tt(de.comparator),mH=new Gt(de.comparator);function Ue(...r){let e=mH;for(const t of r)e=e.add(t);return e}const vH=new Gt(Re);function yH(){return vH}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cy(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Wl(e)?"-0":e}}function PS(r){return{integerValue:""+r}}function wH(r,e){return zk(e)?PS(e):Cy(r,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xc{constructor(){this._=void 0}}function BH(r,e,t){return r instanceof go?(function(A,i){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:A.seconds,nanos:A.nanoseconds}}}};return i&&my(i)&&(i=vy(i)),i&&(s.fields.__previous_value__=i),{mapValue:s}})(t,e):r instanceof po?DS(r,e):r instanceof mo?LS(r,e):(function(A,i){const s=OS(A,i),a=AC(s)+AC(A.Pe);return Em(s)&&Em(A.Pe)?PS(a):Cy(A.serializer,a)})(r,e)}function CH(r,e,t){return r instanceof po?DS(r,e):r instanceof mo?LS(r,e):t}function OS(r,e){return r instanceof Yl?(function(n){return Em(n)||(function(i){return!!i&&"doubleValue"in i})(n)})(e)?e:{integerValue:0}:null}class go extends xc{}class po extends xc{constructor(e){super(),this.elements=e}}function DS(r,e){const t=MS(e);for(const n of r.elements)t.some((A=>Un(A,n)))||t.push(n);return{arrayValue:{values:t}}}class mo extends xc{constructor(e){super(),this.elements=e}}function LS(r,e){let t=MS(e);for(const n of r.elements)t=t.filter((A=>!Un(A,n)));return{arrayValue:{values:t}}}class Yl extends xc{constructor(e,t){super(),this.serializer=e,this.Pe=t}}function AC(r){return gt(r.integerValue||r.doubleValue)}function MS(r){return yy(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EH{constructor(e,t){this.field=e,this.transform=t}}function _H(r,e){return r.field.isEqual(e.field)&&(function(n,A){return n instanceof po&&A instanceof po||n instanceof mo&&A instanceof mo?Fs(n.elements,A.elements,Un):n instanceof Yl&&A instanceof Yl?Un(n.Pe,A.Pe):n instanceof go&&A instanceof go})(r.transform,e.transform)}class TH{constructor(e,t){this.version=e,this.transformResults=t}}class qr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new qr}static exists(e){return new qr(void 0,e)}static updateTime(e){return new qr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function El(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class Pc{}function NS(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new Ey(r.key,qr.none()):new ko(r.key,r.data,qr.none());{const t=r.data,n=wr.empty();let A=new Gt(Vt.comparator);for(let i of e.fields)if(!A.has(i)){let s=t.field(i);s===null&&i.length>1&&(i=i.popLast(),s=t.field(i)),s===null?n.delete(i):n.set(i,s),A=A.add(i)}return new JA(r.key,n,new xr(A.toArray()),qr.none())}}function IH(r,e,t){r instanceof ko?(function(A,i,s){const a=A.value.clone(),o=sC(A.fieldTransforms,i,s.transformResults);a.setAll(o),i.convertToFoundDocument(s.version,a).setHasCommittedMutations()})(r,e,t):r instanceof JA?(function(A,i,s){if(!El(A.precondition,i))return void i.convertToUnknownDocument(s.version);const a=sC(A.fieldTransforms,i,s.transformResults),o=i.data;o.setAll(kS(A)),o.setAll(a),i.convertToFoundDocument(s.version,o).setHasCommittedMutations()})(r,e,t):(function(A,i,s){i.convertToNoDocument(s.version).setHasCommittedMutations()})(0,e,t)}function qa(r,e,t,n){return r instanceof ko?(function(i,s,a,o){if(!El(i.precondition,s))return a;const u=i.value.clone(),l=aC(i.fieldTransforms,o,s);return u.setAll(l),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),null})(r,e,t,n):r instanceof JA?(function(i,s,a,o){if(!El(i.precondition,s))return a;const u=aC(i.fieldTransforms,o,s),l=s.data;return l.setAll(kS(i)),l.setAll(u),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),a===null?null:a.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map((h=>h.field)))})(r,e,t,n):(function(i,s,a){return El(i.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a})(r,e,t)}function bH(r,e){let t=null;for(const n of r.fieldTransforms){const A=e.data.field(n.field),i=OS(n.transform,A||null);i!=null&&(t===null&&(t=wr.empty()),t.set(n.field,i))}return t||null}function iC(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!(function(n,A){return n===void 0&&A===void 0||!(!n||!A)&&Fs(n,A,((i,s)=>_H(i,s)))})(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class ko extends Pc{constructor(e,t,n,A=[]){super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=A,this.type=0}getFieldMask(){return null}}class JA extends Pc{constructor(e,t,n,A,i=[]){super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=A,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function kS(r){const e=new Map;return r.fieldMask.fields.forEach((t=>{if(!t.isEmpty()){const n=r.data.field(t);e.set(t,n)}})),e}function sC(r,e,t){const n=new Map;Le(r.length===t.length);for(let A=0;A<t.length;A++){const i=r[A],s=i.transform,a=e.data.field(i.field);n.set(i.field,CH(s,a,t[A]))}return n}function aC(r,e,t){const n=new Map;for(const A of r){const i=A.transform,s=t.data.field(A.field);n.set(A.field,BH(i,s,e))}return n}class Ey extends Pc{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class UH extends Pc{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FH{constructor(e,t,n,A){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=A}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let A=0;A<this.mutations.length;A++){const i=this.mutations[A];i.key.isEqual(e.key)&&IH(i,e,n[A])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=qa(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=qa(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=xS();return this.mutations.forEach((A=>{const i=e.get(A.key),s=i.overlayedDocument;let a=this.applyToLocalView(s,i.mutatedFields);a=t.has(A.key)?null:a;const o=NS(s,a);o!==null&&n.set(A.key,o),s.isValidDocument()||s.convertToNoDocument(we.min())})),n}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),Ue())}isEqual(e){return this.batchId===e.batchId&&Fs(this.mutations,e.mutations,((t,n)=>iC(t,n)))&&Fs(this.baseMutations,e.baseMutations,((t,n)=>iC(t,n)))}}class _y{constructor(e,t,n,A){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=A}static from(e,t,n){Le(e.mutations.length===n.length);let A=(function(){return pH})();const i=e.mutations;for(let s=0;s<i.length;s++)A=A.insert(i[s].key,n[s].version);return new _y(e,t,n,A)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SH{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QH{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var yt,Se;function RH(r){switch(r){default:return ve();case X.CANCELLED:case X.UNKNOWN:case X.DEADLINE_EXCEEDED:case X.RESOURCE_EXHAUSTED:case X.INTERNAL:case X.UNAVAILABLE:case X.UNAUTHENTICATED:return!1;case X.INVALID_ARGUMENT:case X.NOT_FOUND:case X.ALREADY_EXISTS:case X.PERMISSION_DENIED:case X.FAILED_PRECONDITION:case X.ABORTED:case X.OUT_OF_RANGE:case X.UNIMPLEMENTED:case X.DATA_LOSS:return!0}}function HS(r){if(r===void 0)return aA("GRPC error has no .code"),X.UNKNOWN;switch(r){case yt.OK:return X.OK;case yt.CANCELLED:return X.CANCELLED;case yt.UNKNOWN:return X.UNKNOWN;case yt.DEADLINE_EXCEEDED:return X.DEADLINE_EXCEEDED;case yt.RESOURCE_EXHAUSTED:return X.RESOURCE_EXHAUSTED;case yt.INTERNAL:return X.INTERNAL;case yt.UNAVAILABLE:return X.UNAVAILABLE;case yt.UNAUTHENTICATED:return X.UNAUTHENTICATED;case yt.INVALID_ARGUMENT:return X.INVALID_ARGUMENT;case yt.NOT_FOUND:return X.NOT_FOUND;case yt.ALREADY_EXISTS:return X.ALREADY_EXISTS;case yt.PERMISSION_DENIED:return X.PERMISSION_DENIED;case yt.FAILED_PRECONDITION:return X.FAILED_PRECONDITION;case yt.ABORTED:return X.ABORTED;case yt.OUT_OF_RANGE:return X.OUT_OF_RANGE;case yt.UNIMPLEMENTED:return X.UNIMPLEMENTED;case yt.DATA_LOSS:return X.DATA_LOSS;default:return ve()}}(Se=yt||(yt={}))[Se.OK=0]="OK",Se[Se.CANCELLED=1]="CANCELLED",Se[Se.UNKNOWN=2]="UNKNOWN",Se[Se.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Se[Se.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Se[Se.NOT_FOUND=5]="NOT_FOUND",Se[Se.ALREADY_EXISTS=6]="ALREADY_EXISTS",Se[Se.PERMISSION_DENIED=7]="PERMISSION_DENIED",Se[Se.UNAUTHENTICATED=16]="UNAUTHENTICATED",Se[Se.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Se[Se.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Se[Se.ABORTED=10]="ABORTED",Se[Se.OUT_OF_RANGE=11]="OUT_OF_RANGE",Se[Se.UNIMPLEMENTED=12]="UNIMPLEMENTED",Se[Se.INTERNAL=13]="INTERNAL",Se[Se.UNAVAILABLE=14]="UNAVAILABLE",Se[Se.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xH(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PH=new Ei([4294967295,4294967295],0);function oC(r){const e=xH().encode(r),t=new cS;return t.update(e),new Uint8Array(t.digest())}function uC(r){const e=new DataView(r.buffer),t=e.getUint32(0,!0),n=e.getUint32(4,!0),A=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new Ei([t,n],0),new Ei([A,i],0)]}class Ty{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new Ra(`Invalid padding: ${t}`);if(n<0)throw new Ra(`Invalid hash count: ${n}`);if(e.length>0&&this.hashCount===0)throw new Ra(`Invalid hash count: ${n}`);if(e.length===0&&t!==0)throw new Ra(`Invalid padding when bitmap length is 0: ${t}`);this.Ie=8*e.length-t,this.Te=Ei.fromNumber(this.Ie)}Ee(e,t,n){let A=e.add(t.multiply(Ei.fromNumber(n)));return A.compare(PH)===1&&(A=new Ei([A.getBits(0),A.getBits(1)],0)),A.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const t=oC(e),[n,A]=uC(t);for(let i=0;i<this.hashCount;i++){const s=this.Ee(n,A,i);if(!this.de(s))return!1}return!0}static create(e,t,n){const A=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),s=new Ty(i,A,t);return n.forEach((a=>s.insert(a))),s}insert(e){if(this.Ie===0)return;const t=oC(e),[n,A]=uC(t);for(let i=0;i<this.hashCount;i++){const s=this.Ee(n,A,i);this.Ae(s)}}Ae(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class Ra extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oc{constructor(e,t,n,A,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=A,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const A=new Map;return A.set(e,Ho.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new Oc(we.min(),A,new tt(Re),oA(),Ue())}}class Ho{constructor(e,t,n,A,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=A,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new Ho(n,t,Ue(),Ue(),Ue())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _l{constructor(e,t,n,A){this.Re=e,this.removedTargetIds=t,this.key=n,this.Ve=A}}class VS{constructor(e,t){this.targetId=e,this.me=t}}class KS{constructor(e,t,n=jt.EMPTY_BYTE_STRING,A=null){this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=A}}class lC{constructor(){this.fe=0,this.ge=hC(),this.pe=jt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Ue(),t=Ue(),n=Ue();return this.ge.forEach(((A,i)=>{switch(i){case 0:e=e.add(A);break;case 2:t=t.add(A);break;case 1:n=n.add(A);break;default:ve()}})),new Ho(this.pe,this.ye,e,t,n)}Ce(){this.we=!1,this.ge=hC()}Fe(e,t){this.we=!0,this.ge=this.ge.insert(e,t)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Le(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class OH{constructor(e){this.Le=e,this.Be=new Map,this.ke=oA(),this.qe=cC(),this.Qe=new tt(Re)}Ke(e){for(const t of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(t,e.Ve):this.Ue(t,e.key,e.Ve);for(const t of e.removedTargetIds)this.Ue(t,e.key,e.Ve)}We(e){this.forEachTarget(e,(t=>{const n=this.Ge(t);switch(e.state){case 0:this.ze(t)&&n.De(e.resumeToken);break;case 1:n.Oe(),n.Se||n.Ce(),n.De(e.resumeToken);break;case 2:n.Oe(),n.Se||this.removeTarget(t);break;case 3:this.ze(t)&&(n.Ne(),n.De(e.resumeToken));break;case 4:this.ze(t)&&(this.je(t),n.De(e.resumeToken));break;default:ve()}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Be.forEach(((n,A)=>{this.ze(A)&&t(A)}))}He(e){const t=e.targetId,n=e.me.count,A=this.Je(t);if(A){const i=A.target;if(Tm(i))if(n===0){const s=new de(i.path);this.Ue(t,s,Ar.newNoDocument(s,we.min()))}else Le(n===1);else{const s=this.Ye(t);if(s!==n){const a=this.Ze(e),o=a?this.Xe(a,e,s):1;if(o!==0){this.je(t);const u=o===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(t,u)}}}}}Ze(e){const t=e.me.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:n="",padding:A=0},hashCount:i=0}=t;let s,a;try{s=Ri(n).toUint8Array()}catch(o){if(o instanceof wS)return Us("Decoding the base64 bloom filter in existence filter failed ("+o.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw o}try{a=new Ty(s,A,i)}catch(o){return Us(o instanceof Ra?"BloomFilter error: ":"Applying bloom filter failed: ",o),null}return a.Ie===0?null:a}Xe(e,t,n){return t.me.count===n-this.nt(e,t.targetId)?0:2}nt(e,t){const n=this.Le.getRemoteKeysForTarget(t);let A=0;return n.forEach((i=>{const s=this.Le.tt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${i.path.canonicalString()}`;e.mightContain(a)||(this.Ue(t,i,null),A++)})),A}rt(e){const t=new Map;this.Be.forEach(((i,s)=>{const a=this.Je(s);if(a){if(i.current&&Tm(a.target)){const o=new de(a.target.path);this.ke.get(o)!==null||this.it(s,o)||this.Ue(s,o,Ar.newNoDocument(o,e))}i.be&&(t.set(s,i.ve()),i.Ce())}}));let n=Ue();this.qe.forEach(((i,s)=>{let a=!0;s.forEachWhile((o=>{const u=this.Je(o);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)})),a&&(n=n.add(i))})),this.ke.forEach(((i,s)=>s.setReadTime(e)));const A=new Oc(e,t,this.Qe,this.ke,n);return this.ke=oA(),this.qe=cC(),this.Qe=new tt(Re),A}$e(e,t){if(!this.ze(e))return;const n=this.it(e,t.key)?2:0;this.Ge(e).Fe(t.key,n),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(e))}Ue(e,t,n){if(!this.ze(e))return;const A=this.Ge(e);this.it(e,t)?A.Fe(t,1):A.Me(t),this.qe=this.qe.insert(t,this.st(t).delete(e)),n&&(this.ke=this.ke.insert(t,n))}removeTarget(e){this.Be.delete(e)}Ye(e){const t=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let t=this.Be.get(e);return t||(t=new lC,this.Be.set(e,t)),t}st(e){let t=this.qe.get(e);return t||(t=new Gt(Re),this.qe=this.qe.insert(e,t)),t}ze(e){const t=this.Je(e)!==null;return t||ue("WatchChangeAggregator","Detected inactive target",e),t}Je(e){const t=this.Be.get(e);return t&&t.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new lC),this.Le.getRemoteKeysForTarget(e).forEach((t=>{this.Ue(e,t,null)}))}it(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}}function cC(){return new tt(de.comparator)}function hC(){return new tt(de.comparator)}const DH={asc:"ASCENDING",desc:"DESCENDING"},LH={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},MH={and:"AND",or:"OR"};class NH{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function bm(r,e){return r.useProto3Json||Fc(e)?e:{value:e}}function Jl(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function GS(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function kH(r,e){return Jl(r,e.toTimestamp())}function Tn(r){return Le(!!r),we.fromTimestamp((function(t){const n=jA(t);return new bt(n.seconds,n.nanos)})(r))}function Iy(r,e){return Um(r,e).canonicalString()}function Um(r,e){const t=(function(A){return new je(["projects",A.projectId,"databases",A.database])})(r).child("documents");return e===void 0?t:t.child(e)}function jS(r){const e=je.fromString(r);return Le(zS(e)),e}function Fm(r,e){return Iy(r.databaseId,e.path)}function qh(r,e){const t=jS(e);if(t.get(1)!==r.databaseId.projectId)throw new ie(X.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+r.databaseId.projectId);if(t.get(3)!==r.databaseId.database)throw new ie(X.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+r.databaseId.database);return new de(WS(t))}function qS(r,e){return Iy(r.databaseId,e)}function HH(r){const e=jS(r);return e.length===4?je.emptyPath():WS(e)}function Sm(r){return new je(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function WS(r){return Le(r.length>4&&r.get(4)==="documents"),r.popFirst(5)}function fC(r,e,t){return{name:Fm(r,e),fields:t.value.mapValue.fields}}function VH(r,e){let t;if("targetChange"in e){e.targetChange;const n=(function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:ve()})(e.targetChange.targetChangeType||"NO_CHANGE"),A=e.targetChange.targetIds||[],i=(function(u,l){return u.useProto3Json?(Le(l===void 0||typeof l=="string"),jt.fromBase64String(l||"")):(Le(l===void 0||l instanceof Buffer||l instanceof Uint8Array),jt.fromUint8Array(l||new Uint8Array))})(r,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&(function(u){const l=u.code===void 0?X.UNKNOWN:HS(u.code);return new ie(l,u.message||"")})(s);t=new KS(n,A,i,a||null)}else if("documentChange"in e){e.documentChange;const n=e.documentChange;n.document,n.document.name,n.document.updateTime;const A=qh(r,n.document.name),i=Tn(n.document.updateTime),s=n.document.createTime?Tn(n.document.createTime):we.min(),a=new wr({mapValue:{fields:n.document.fields}}),o=Ar.newFoundDocument(A,i,s,a),u=n.targetIds||[],l=n.removedTargetIds||[];t=new _l(u,l,o.key,o)}else if("documentDelete"in e){e.documentDelete;const n=e.documentDelete;n.document;const A=qh(r,n.document),i=n.readTime?Tn(n.readTime):we.min(),s=Ar.newNoDocument(A,i),a=n.removedTargetIds||[];t=new _l([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;const n=e.documentRemove;n.document;const A=qh(r,n.document),i=n.removedTargetIds||[];t=new _l([],i,A,null)}else{if(!("filter"in e))return ve();{e.filter;const n=e.filter;n.targetId;const{count:A=0,unchangedNames:i}=n,s=new QH(A,i),a=n.targetId;t=new VS(a,s)}}return t}function KH(r,e){let t;if(e instanceof ko)t={update:fC(r,e.key,e.value)};else if(e instanceof Ey)t={delete:Fm(r,e.key)};else if(e instanceof JA)t={update:fC(r,e.key,e.data),updateMask:JH(e.fieldMask)};else{if(!(e instanceof UH))return ve();t={verify:Fm(r,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map((n=>(function(i,s){const a=s.transform;if(a instanceof go)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof po)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof mo)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Yl)return{fieldPath:s.field.canonicalString(),increment:a.Pe};throw ve()})(0,n)))),e.precondition.isNone||(t.currentDocument=(function(A,i){return i.updateTime!==void 0?{updateTime:kH(A,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:ve()})(r,e.precondition)),t}function GH(r,e){return r&&r.length>0?(Le(e!==void 0),r.map((t=>(function(A,i){let s=A.updateTime?Tn(A.updateTime):Tn(i);return s.isEqual(we.min())&&(s=Tn(i)),new TH(s,A.transformResults||[])})(t,e)))):[]}function jH(r,e){return{documents:[qS(r,e.path)]}}function qH(r,e){const t={structuredQuery:{}},n=e.path;let A;e.collectionGroup!==null?(A=n,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(A=n.popLast(),t.structuredQuery.from=[{collectionId:n.lastSegment()}]),t.parent=qS(r,A);const i=(function(u){if(u.length!==0)return XS(fn.create(u,"and"))})(e.filters);i&&(t.structuredQuery.where=i);const s=(function(u){if(u.length!==0)return u.map((l=>(function(f){return{field:os(f.field),direction:XH(f.dir)}})(l)))})(e.orderBy);s&&(t.structuredQuery.orderBy=s);const a=bm(r,e.limit);return a!==null&&(t.structuredQuery.limit=a),e.startAt&&(t.structuredQuery.startAt=(function(u){return{before:u.inclusive,values:u.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(u){return{before:!u.inclusive,values:u.position}})(e.endAt)),{_t:t,parent:A}}function WH(r){let e=HH(r.parent);const t=r.structuredQuery,n=t.from?t.from.length:0;let A=null;if(n>0){Le(n===1);const l=t.from[0];l.allDescendants?A=l.collectionId:e=e.child(l.collectionId)}let i=[];t.where&&(i=(function(h){const f=$S(h);return f instanceof fn&&_S(f)?f.getFilters():[f]})(t.where));let s=[];t.orderBy&&(s=(function(h){return h.map((f=>(function(g){return new Xl(us(g.field),(function(C){switch(C){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(g.direction))})(f)))})(t.orderBy));let a=null;t.limit&&(a=(function(h){let f;return f=typeof h=="object"?h.value:h,Fc(f)?null:f})(t.limit));let o=null;t.startAt&&(o=(function(h){const f=!!h.before,d=h.values||[];return new $l(d,f)})(t.startAt));let u=null;return t.endAt&&(u=(function(h){const f=!h.before,d=h.values||[];return new $l(d,f)})(t.endAt)),cH(e,A,s,i,a,"F",o,u)}function $H(r,e){const t=(function(A){switch(A){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ve()}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function $S(r){return r.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":const n=us(t.unaryFilter.field);return Et.create(n,"==",{doubleValue:NaN});case"IS_NULL":const A=us(t.unaryFilter.field);return Et.create(A,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=us(t.unaryFilter.field);return Et.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=us(t.unaryFilter.field);return Et.create(s,"!=",{nullValue:"NULL_VALUE"});default:return ve()}})(r):r.fieldFilter!==void 0?(function(t){return Et.create(us(t.fieldFilter.field),(function(A){switch(A){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ve()}})(t.fieldFilter.op),t.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(t){return fn.create(t.compositeFilter.filters.map((n=>$S(n))),(function(A){switch(A){case"AND":return"and";case"OR":return"or";default:return ve()}})(t.compositeFilter.op))})(r):ve()}function XH(r){return DH[r]}function zH(r){return LH[r]}function YH(r){return MH[r]}function os(r){return{fieldPath:r.canonicalString()}}function us(r){return Vt.fromServerFormat(r.fieldPath)}function XS(r){return r instanceof Et?(function(t){if(t.op==="=="){if(Z0(t.value))return{unaryFilter:{field:os(t.field),op:"IS_NAN"}};if(J0(t.value))return{unaryFilter:{field:os(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(Z0(t.value))return{unaryFilter:{field:os(t.field),op:"IS_NOT_NAN"}};if(J0(t.value))return{unaryFilter:{field:os(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:os(t.field),op:zH(t.op),value:t.value}}})(r):r instanceof fn?(function(t){const n=t.getFilters().map((A=>XS(A)));return n.length===1?n[0]:{compositeFilter:{op:YH(t.op),filters:n}}})(r):ve()}function JH(r){const e=[];return r.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function zS(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OA{constructor(e,t,n,A,i=we.min(),s=we.min(),a=jt.EMPTY_BYTE_STRING,o=null){this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=A,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=o}withSequenceNumber(e){return new OA(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new OA(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new OA(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new OA(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZH{constructor(e){this.ct=e}}function eV(r){const e=WH({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?zl(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tV{constructor(){this.un=new rV}addToCollectionParentIndex(e,t){return this.un.add(t),J.resolve()}getCollectionParents(e,t){return J.resolve(this.un.getEntries(t))}addFieldIndex(e,t){return J.resolve()}deleteFieldIndex(e,t){return J.resolve()}deleteAllFieldIndexes(e){return J.resolve()}createTargetIndexes(e,t){return J.resolve()}getDocumentsMatchingTarget(e,t){return J.resolve(null)}getIndexType(e,t){return J.resolve(0)}getFieldIndexes(e,t){return J.resolve([])}getNextCollectionGroupToUpdate(e){return J.resolve(null)}getMinOffset(e,t){return J.resolve(GA.min())}getMinOffsetFromCollectionGroup(e,t){return J.resolve(GA.min())}updateCollectionGroup(e,t,n){return J.resolve()}updateIndexEntries(e,t){return J.resolve()}}class rV{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),A=this.index[t]||new Gt(je.comparator),i=!A.has(n);return this.index[t]=A.add(n),i}has(e){const t=e.lastSegment(),n=e.popLast(),A=this.index[t];return A&&A.has(n)}getEntries(e){return(this.index[e]||new Gt(je.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rs{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new Rs(0)}static kn(){return new Rs(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nV{constructor(){this.changes=new Hs((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Ar.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return n!==void 0?J.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AV{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iV{constructor(e,t,n,A){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=A}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next((A=>(n=A,this.remoteDocumentCache.getEntry(e,t)))).next((A=>(n!==null&&qa(n.mutation,A,xr.empty(),bt.now()),A)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((n=>this.getLocalViewOfDocuments(e,n,Ue()).next((()=>n))))}getLocalViewOfDocuments(e,t,n=Ue()){const A=mi();return this.populateOverlays(e,A,t).next((()=>this.computeViews(e,t,A,n).next((i=>{let s=Qa();return i.forEach(((a,o)=>{s=s.insert(a,o.overlayedDocument)})),s}))))}getOverlayedDocuments(e,t){const n=mi();return this.populateOverlays(e,n,t).next((()=>this.computeViews(e,t,n,Ue())))}populateOverlays(e,t,n){const A=[];return n.forEach((i=>{t.has(i)||A.push(i)})),this.documentOverlayCache.getOverlays(e,A).next((i=>{i.forEach(((s,a)=>{t.set(s,a)}))}))}computeViews(e,t,n,A){let i=oA();const s=ja(),a=(function(){return ja()})();return t.forEach(((o,u)=>{const l=n.get(u.key);A.has(u.key)&&(l===void 0||l.mutation instanceof JA)?i=i.insert(u.key,u):l!==void 0?(s.set(u.key,l.mutation.getFieldMask()),qa(l.mutation,u,l.mutation.getFieldMask(),bt.now())):s.set(u.key,xr.empty())})),this.recalculateAndSaveOverlays(e,i).next((o=>(o.forEach(((u,l)=>s.set(u,l))),t.forEach(((u,l)=>{var h;return a.set(u,new AV(l,(h=s.get(u))!==null&&h!==void 0?h:null))})),a)))}recalculateAndSaveOverlays(e,t){const n=ja();let A=new tt(((s,a)=>s-a)),i=Ue();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((s=>{for(const a of s)a.keys().forEach((o=>{const u=t.get(o);if(u===null)return;let l=n.get(o)||xr.empty();l=a.applyToLocalView(u,l),n.set(o,l);const h=(A.get(a.batchId)||Ue()).add(o);A=A.insert(a.batchId,h)}))})).next((()=>{const s=[],a=A.getReverseIterator();for(;a.hasNext();){const o=a.getNext(),u=o.key,l=o.value,h=xS();l.forEach((f=>{if(!i.has(f)){const d=NS(t.get(f),n.get(f));d!==null&&h.set(f,d),i=i.add(f)}})),s.push(this.documentOverlayCache.saveOverlays(e,u,h))}return J.waitFor(s)})).next((()=>n))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((n=>this.recalculateAndSaveOverlays(e,n)))}getDocumentsMatchingQuery(e,t,n,A){return(function(s){return de.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0})(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):US(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,A):this.getDocumentsMatchingCollectionQuery(e,t,n,A)}getNextDocuments(e,t,n,A){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,A).next((i=>{const s=A-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,A-i.size):J.resolve(mi());let a=-1,o=i;return s.next((u=>J.forEach(u,((l,h)=>(a<h.largestBatchId&&(a=h.largestBatchId),i.get(l)?J.resolve():this.remoteDocumentCache.getEntry(e,l).next((f=>{o=o.insert(l,f)}))))).next((()=>this.populateOverlays(e,u,i))).next((()=>this.computeViews(e,o,u,Ue()))).next((l=>({batchId:a,changes:RS(l)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new de(t)).next((n=>{let A=Qa();return n.isFoundDocument()&&(A=A.insert(n.key,n)),A}))}getDocumentsMatchingCollectionGroupQuery(e,t,n,A){const i=t.collectionGroup;let s=Qa();return this.indexManager.getCollectionParents(e,i).next((a=>J.forEach(a,(o=>{const u=(function(h,f){return new No(f,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)})(t,o.child(i));return this.getDocumentsMatchingCollectionQuery(e,u,n,A).next((l=>{l.forEach(((h,f)=>{s=s.insert(h,f)}))}))})).next((()=>s))))}getDocumentsMatchingCollectionQuery(e,t,n,A){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next((s=>(i=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,i,A)))).next((s=>{i.forEach(((o,u)=>{const l=u.getKey();s.get(l)===null&&(s=s.insert(l,Ar.newInvalidDocument(l)))}));let a=Qa();return s.forEach(((o,u)=>{const l=i.get(o);l!==void 0&&qa(l.mutation,u,xr.empty(),bt.now()),Rc(t,u)&&(a=a.insert(o,u))})),a}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sV{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,t){return J.resolve(this.hr.get(t))}saveBundleMetadata(e,t){return this.hr.set(t.id,(function(A){return{id:A.id,version:A.version,createTime:Tn(A.createTime)}})(t)),J.resolve()}getNamedQuery(e,t){return J.resolve(this.Pr.get(t))}saveNamedQuery(e,t){return this.Pr.set(t.name,(function(A){return{name:A.name,query:eV(A.bundledQuery),readTime:Tn(A.readTime)}})(t)),J.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aV{constructor(){this.overlays=new tt(de.comparator),this.Ir=new Map}getOverlay(e,t){return J.resolve(this.overlays.get(t))}getOverlays(e,t){const n=mi();return J.forEach(t,(A=>this.getOverlay(e,A).next((i=>{i!==null&&n.set(A,i)})))).next((()=>n))}saveOverlays(e,t,n){return n.forEach(((A,i)=>{this.ht(e,t,i)})),J.resolve()}removeOverlaysForBatchId(e,t,n){const A=this.Ir.get(n);return A!==void 0&&(A.forEach((i=>this.overlays=this.overlays.remove(i))),this.Ir.delete(n)),J.resolve()}getOverlaysForCollection(e,t,n){const A=mi(),i=t.length+1,s=new de(t.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){const o=a.getNext().value,u=o.getKey();if(!t.isPrefixOf(u.path))break;u.path.length===i&&o.largestBatchId>n&&A.set(o.getKey(),o)}return J.resolve(A)}getOverlaysForCollectionGroup(e,t,n,A){let i=new tt(((u,l)=>u-l));const s=this.overlays.getIterator();for(;s.hasNext();){const u=s.getNext().value;if(u.getKey().getCollectionGroup()===t&&u.largestBatchId>n){let l=i.get(u.largestBatchId);l===null&&(l=mi(),i=i.insert(u.largestBatchId,l)),l.set(u.getKey(),u)}}const a=mi(),o=i.getIterator();for(;o.hasNext()&&(o.getNext().value.forEach(((u,l)=>a.set(u,l))),!(a.size()>=A)););return J.resolve(a)}ht(e,t,n){const A=this.overlays.get(n.key);if(A!==null){const s=this.Ir.get(A.largestBatchId).delete(n.key);this.Ir.set(A.largestBatchId,s)}this.overlays=this.overlays.insert(n.key,new SH(t,n));let i=this.Ir.get(t);i===void 0&&(i=Ue(),this.Ir.set(t,i)),this.Ir.set(t,i.add(n.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oV{constructor(){this.sessionToken=jt.EMPTY_BYTE_STRING}getSessionToken(e){return J.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,J.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class by{constructor(){this.Tr=new Gt(Pt.Er),this.dr=new Gt(Pt.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,t){const n=new Pt(e,t);this.Tr=this.Tr.add(n),this.dr=this.dr.add(n)}Rr(e,t){e.forEach((n=>this.addReference(n,t)))}removeReference(e,t){this.Vr(new Pt(e,t))}mr(e,t){e.forEach((n=>this.removeReference(n,t)))}gr(e){const t=new de(new je([])),n=new Pt(t,e),A=new Pt(t,e+1),i=[];return this.dr.forEachInRange([n,A],(s=>{this.Vr(s),i.push(s.key)})),i}pr(){this.Tr.forEach((e=>this.Vr(e)))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const t=new de(new je([])),n=new Pt(t,e),A=new Pt(t,e+1);let i=Ue();return this.dr.forEachInRange([n,A],(s=>{i=i.add(s.key)})),i}containsKey(e){const t=new Pt(e,0),n=this.Tr.firstAfterOrEqual(t);return n!==null&&e.isEqual(n.key)}}class Pt{constructor(e,t){this.key=e,this.wr=t}static Er(e,t){return de.comparator(e.key,t.key)||Re(e.wr,t.wr)}static Ar(e,t){return Re(e.wr,t.wr)||de.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uV{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Sr=1,this.br=new Gt(Pt.Er)}checkEmpty(e){return J.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,n,A){const i=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new FH(i,t,n,A);this.mutationQueue.push(s);for(const a of A)this.br=this.br.add(new Pt(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return J.resolve(s)}lookupMutationBatch(e,t){return J.resolve(this.Dr(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,A=this.vr(n),i=A<0?0:A;return J.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return J.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return J.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new Pt(t,0),A=new Pt(t,Number.POSITIVE_INFINITY),i=[];return this.br.forEachInRange([n,A],(s=>{const a=this.Dr(s.wr);i.push(a)})),J.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new Gt(Re);return t.forEach((A=>{const i=new Pt(A,0),s=new Pt(A,Number.POSITIVE_INFINITY);this.br.forEachInRange([i,s],(a=>{n=n.add(a.wr)}))})),J.resolve(this.Cr(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,A=n.length+1;let i=n;de.isDocumentKey(i)||(i=i.child(""));const s=new Pt(new de(i),0);let a=new Gt(Re);return this.br.forEachWhile((o=>{const u=o.key.path;return!!n.isPrefixOf(u)&&(u.length===A&&(a=a.add(o.wr)),!0)}),s),J.resolve(this.Cr(a))}Cr(e){const t=[];return e.forEach((n=>{const A=this.Dr(n);A!==null&&t.push(A)})),t}removeMutationBatch(e,t){Le(this.Fr(t.batchId,"removed")===0),this.mutationQueue.shift();let n=this.br;return J.forEach(t.mutations,(A=>{const i=new Pt(A.key,t.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,A.key)})).next((()=>{this.br=n}))}On(e){}containsKey(e,t){const n=new Pt(t,0),A=this.br.firstAfterOrEqual(n);return J.resolve(t.isEqual(A&&A.key))}performConsistencyCheck(e){return this.mutationQueue.length,J.resolve()}Fr(e,t){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const t=this.vr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lV{constructor(e){this.Mr=e,this.docs=(function(){return new tt(de.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,A=this.docs.get(n),i=A?A.size:0,s=this.Mr(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:s}),this.size+=s-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return J.resolve(n?n.document.mutableCopy():Ar.newInvalidDocument(t))}getEntries(e,t){let n=oA();return t.forEach((A=>{const i=this.docs.get(A);n=n.insert(A,i?i.document.mutableCopy():Ar.newInvalidDocument(A))})),J.resolve(n)}getDocumentsMatchingQuery(e,t,n,A){let i=oA();const s=t.path,a=new de(s.child("")),o=this.docs.getIteratorFrom(a);for(;o.hasNext();){const{key:u,value:{document:l}}=o.getNext();if(!s.isPrefixOf(u.path))break;u.path.length>s.length+1||qk(jk(l),n)<=0||(A.has(l.key)||Rc(t,l))&&(i=i.insert(l.key,l.mutableCopy()))}return J.resolve(i)}getAllFromCollectionGroup(e,t,n,A){ve()}Or(e,t){return J.forEach(this.docs,(n=>t(n)))}newChangeBuffer(e){return new cV(this)}getSize(e){return J.resolve(this.size)}}class cV extends nV{constructor(e){super(),this.cr=e}applyChanges(e){const t=[];return this.changes.forEach(((n,A)=>{A.isValidDocument()?t.push(this.cr.addEntry(e,A)):this.cr.removeEntry(n)})),J.waitFor(t)}getFromCache(e,t){return this.cr.getEntry(e,t)}getAllFromCache(e,t){return this.cr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hV{constructor(e){this.persistence=e,this.Nr=new Hs((t=>wy(t)),By),this.lastRemoteSnapshotVersion=we.min(),this.highestTargetId=0,this.Lr=0,this.Br=new by,this.targetCount=0,this.kr=Rs.Bn()}forEachTarget(e,t){return this.Nr.forEach(((n,A)=>t(A))),J.resolve()}getLastRemoteSnapshotVersion(e){return J.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return J.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),J.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Lr&&(this.Lr=t),J.resolve()}Kn(e){this.Nr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.kr=new Rs(t),this.highestTargetId=t),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,t){return this.Kn(t),this.targetCount+=1,J.resolve()}updateTargetData(e,t){return this.Kn(t),J.resolve()}removeTargetData(e,t){return this.Nr.delete(t.target),this.Br.gr(t.targetId),this.targetCount-=1,J.resolve()}removeTargets(e,t,n){let A=0;const i=[];return this.Nr.forEach(((s,a)=>{a.sequenceNumber<=t&&n.get(a.targetId)===null&&(this.Nr.delete(s),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),A++)})),J.waitFor(i).next((()=>A))}getTargetCount(e){return J.resolve(this.targetCount)}getTargetData(e,t){const n=this.Nr.get(t)||null;return J.resolve(n)}addMatchingKeys(e,t,n){return this.Br.Rr(t,n),J.resolve()}removeMatchingKeys(e,t,n){this.Br.mr(t,n);const A=this.persistence.referenceDelegate,i=[];return A&&t.forEach((s=>{i.push(A.markPotentiallyOrphaned(e,s))})),J.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this.Br.gr(t),J.resolve()}getMatchingKeysForTargetId(e,t){const n=this.Br.yr(t);return J.resolve(n)}containsKey(e,t){return J.resolve(this.Br.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fV{constructor(e,t){this.qr={},this.overlays={},this.Qr=new py(0),this.Kr=!1,this.Kr=!0,this.$r=new oV,this.referenceDelegate=e(this),this.Ur=new hV(this),this.indexManager=new tV,this.remoteDocumentCache=(function(A){return new lV(A)})((n=>this.referenceDelegate.Wr(n))),this.serializer=new ZH(t),this.Gr=new sV(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new aV,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.qr[e.toKey()];return n||(n=new uV(t,this.referenceDelegate),this.qr[e.toKey()]=n),n}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,t,n){ue("MemoryPersistence","Starting transaction:",e);const A=new dV(this.Qr.next());return this.referenceDelegate.zr(),n(A).next((i=>this.referenceDelegate.jr(A).next((()=>i)))).toPromise().then((i=>(A.raiseOnCommittedEvent(),i)))}Hr(e,t){return J.or(Object.values(this.qr).map((n=>()=>n.containsKey(e,t))))}}class dV extends $k{constructor(e){super(),this.currentSequenceNumber=e}}class Uy{constructor(e){this.persistence=e,this.Jr=new by,this.Yr=null}static Zr(e){return new Uy(e)}get Xr(){if(this.Yr)return this.Yr;throw ve()}addReference(e,t,n){return this.Jr.addReference(n,t),this.Xr.delete(n.toString()),J.resolve()}removeReference(e,t,n){return this.Jr.removeReference(n,t),this.Xr.add(n.toString()),J.resolve()}markPotentiallyOrphaned(e,t){return this.Xr.add(t.toString()),J.resolve()}removeTarget(e,t){this.Jr.gr(t.targetId).forEach((A=>this.Xr.add(A.toString())));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next((A=>{A.forEach((i=>this.Xr.add(i.toString())))})).next((()=>n.removeTargetData(e,t)))}zr(){this.Yr=new Set}jr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return J.forEach(this.Xr,(n=>{const A=de.fromPath(n);return this.ei(e,A).next((i=>{i||t.removeEntry(A,we.min())}))})).next((()=>(this.Yr=null,t.apply(e))))}updateLimboDocument(e,t){return this.ei(e,t).next((n=>{n?this.Xr.delete(t.toString()):this.Xr.add(t.toString())}))}Wr(e){return 0}ei(e,t){return J.or([()=>J.resolve(this.Jr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Hr(e,t)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fy{constructor(e,t,n,A){this.targetId=e,this.fromCache=t,this.$i=n,this.Ui=A}static Wi(e,t){let n=Ue(),A=Ue();for(const i of t.docChanges)switch(i.type){case 0:n=n.add(i.doc.key);break;case 1:A=A.add(i.doc.key)}return new Fy(e,t.fromCache,n,A)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gV{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pV{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=(function(){return iL()?8:Xk(or())>0?6:4})()}initialize(e,t){this.Ji=e,this.indexManager=t,this.Gi=!0}getDocumentsMatchingQuery(e,t,n,A){const i={result:null};return this.Yi(e,t).next((s=>{i.result=s})).next((()=>{if(!i.result)return this.Zi(e,t,A,n).next((s=>{i.result=s}))})).next((()=>{if(i.result)return;const s=new gV;return this.Xi(e,t,s).next((a=>{if(i.result=a,this.zi)return this.es(e,t,s,a.size)}))})).next((()=>i.result))}es(e,t,n,A){return n.documentReadCount<this.ji?(la()<=Fe.DEBUG&&ue("QueryEngine","SDK will not create cache indexes for query:",as(t),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),J.resolve()):(la()<=Fe.DEBUG&&ue("QueryEngine","Query:",as(t),"scans",n.documentReadCount,"local documents and returns",A,"documents as results."),n.documentReadCount>this.Hi*A?(la()<=Fe.DEBUG&&ue("QueryEngine","The SDK decides to create cache indexes for query:",as(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,_n(t))):J.resolve())}Yi(e,t){if(nC(t))return J.resolve(null);let n=_n(t);return this.indexManager.getIndexType(e,n).next((A=>A===0?null:(t.limit!==null&&A===1&&(t=zl(t,null,"F"),n=_n(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next((i=>{const s=Ue(...i);return this.Ji.getDocuments(e,s).next((a=>this.indexManager.getMinOffset(e,n).next((o=>{const u=this.ts(t,a);return this.ns(t,u,s,o.readTime)?this.Yi(e,zl(t,null,"F")):this.rs(e,u,t,o)}))))})))))}Zi(e,t,n,A){return nC(t)||A.isEqual(we.min())?J.resolve(null):this.Ji.getDocuments(e,n).next((i=>{const s=this.ts(t,i);return this.ns(t,s,n,A)?J.resolve(null):(la()<=Fe.DEBUG&&ue("QueryEngine","Re-using previous result from %s to execute query: %s",A.toString(),as(t)),this.rs(e,s,t,Gk(A,-1)).next((a=>a)))}))}ts(e,t){let n=new Gt(SS(e));return t.forEach(((A,i)=>{Rc(e,i)&&(n=n.add(i))})),n}ns(e,t,n,A){if(e.limit===null)return!1;if(n.size!==t.size)return!0;const i=e.limitType==="F"?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(A)>0)}Xi(e,t,n){return la()<=Fe.DEBUG&&ue("QueryEngine","Using full collection scan to execute query:",as(t)),this.Ji.getDocumentsMatchingQuery(e,t,GA.min(),n)}rs(e,t,n,A){return this.Ji.getDocumentsMatchingQuery(e,n,A).next((i=>(t.forEach((s=>{i=i.insert(s.key,s)})),i)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mV{constructor(e,t,n,A){this.persistence=e,this.ss=t,this.serializer=A,this.os=new tt(Re),this._s=new Hs((i=>wy(i)),By),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(n)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new iV(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.os)))}}function vV(r,e,t,n){return new mV(r,e,t,n)}async function YS(r,e){const t=Be(r);return await t.persistence.runTransaction("Handle user change","readonly",(n=>{let A;return t.mutationQueue.getAllMutationBatches(n).next((i=>(A=i,t.ls(e),t.mutationQueue.getAllMutationBatches(n)))).next((i=>{const s=[],a=[];let o=Ue();for(const u of A){s.push(u.batchId);for(const l of u.mutations)o=o.add(l.key)}for(const u of i){a.push(u.batchId);for(const l of u.mutations)o=o.add(l.key)}return t.localDocuments.getDocuments(n,o).next((u=>({hs:u,removedBatchIds:s,addedBatchIds:a})))}))}))}function yV(r,e){const t=Be(r);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",(n=>{const A=e.batch.keys(),i=t.cs.newChangeBuffer({trackRemovals:!0});return(function(a,o,u,l){const h=u.batch,f=h.keys();let d=J.resolve();return f.forEach((g=>{d=d.next((()=>l.getEntry(o,g))).next((m=>{const C=u.docVersions.get(g);Le(C!==null),m.version.compareTo(C)<0&&(h.applyToRemoteDocument(m,u),m.isValidDocument()&&(m.setReadTime(u.commitVersion),l.addEntry(m)))}))})),d.next((()=>a.mutationQueue.removeMutationBatch(o,h)))})(t,n,e,i).next((()=>i.apply(n))).next((()=>t.mutationQueue.performConsistencyCheck(n))).next((()=>t.documentOverlayCache.removeOverlaysForBatchId(n,A,e.batch.batchId))).next((()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(n,(function(a){let o=Ue();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(o=o.add(a.batch.mutations[u].key));return o})(e)))).next((()=>t.localDocuments.getDocuments(n,A)))}))}function JS(r){const e=Be(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.Ur.getLastRemoteSnapshotVersion(t)))}function wV(r,e){const t=Be(r),n=e.snapshotVersion;let A=t.os;return t.persistence.runTransaction("Apply remote event","readwrite-primary",(i=>{const s=t.cs.newChangeBuffer({trackRemovals:!0});A=t.os;const a=[];e.targetChanges.forEach(((l,h)=>{const f=A.get(h);if(!f)return;a.push(t.Ur.removeMatchingKeys(i,l.removedDocuments,h).next((()=>t.Ur.addMatchingKeys(i,l.addedDocuments,h))));let d=f.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(h)!==null?d=d.withResumeToken(jt.EMPTY_BYTE_STRING,we.min()).withLastLimboFreeSnapshotVersion(we.min()):l.resumeToken.approximateByteSize()>0&&(d=d.withResumeToken(l.resumeToken,n)),A=A.insert(h,d),(function(m,C,E){return m.resumeToken.approximateByteSize()===0||C.snapshotVersion.toMicroseconds()-m.snapshotVersion.toMicroseconds()>=3e8?!0:E.addedDocuments.size+E.modifiedDocuments.size+E.removedDocuments.size>0})(f,d,l)&&a.push(t.Ur.updateTargetData(i,d))}));let o=oA(),u=Ue();if(e.documentUpdates.forEach((l=>{e.resolvedLimboDocuments.has(l)&&a.push(t.persistence.referenceDelegate.updateLimboDocument(i,l))})),a.push(BV(i,s,e.documentUpdates).next((l=>{o=l.Ps,u=l.Is}))),!n.isEqual(we.min())){const l=t.Ur.getLastRemoteSnapshotVersion(i).next((h=>t.Ur.setTargetsMetadata(i,i.currentSequenceNumber,n)));a.push(l)}return J.waitFor(a).next((()=>s.apply(i))).next((()=>t.localDocuments.getLocalViewOfDocuments(i,o,u))).next((()=>o))})).then((i=>(t.os=A,i)))}function BV(r,e,t){let n=Ue(),A=Ue();return t.forEach((i=>n=n.add(i))),e.getEntries(r,n).next((i=>{let s=oA();return t.forEach(((a,o)=>{const u=i.get(a);o.isFoundDocument()!==u.isFoundDocument()&&(A=A.add(a)),o.isNoDocument()&&o.version.isEqual(we.min())?(e.removeEntry(a,o.readTime),s=s.insert(a,o)):!u.isValidDocument()||o.version.compareTo(u.version)>0||o.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(o),s=s.insert(a,o)):ue("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",o.version)})),{Ps:s,Is:A}}))}function CV(r,e){const t=Be(r);return t.persistence.runTransaction("Get next mutation batch","readonly",(n=>(e===void 0&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(n,e))))}function EV(r,e){const t=Be(r);return t.persistence.runTransaction("Allocate target","readwrite",(n=>{let A;return t.Ur.getTargetData(n,e).next((i=>i?(A=i,J.resolve(A)):t.Ur.allocateTargetId(n).next((s=>(A=new OA(e,s,"TargetPurposeListen",n.currentSequenceNumber),t.Ur.addTargetData(n,A).next((()=>A)))))))})).then((n=>{const A=t.os.get(n.targetId);return(A===null||n.snapshotVersion.compareTo(A.snapshotVersion)>0)&&(t.os=t.os.insert(n.targetId,n),t._s.set(e,n.targetId)),n}))}async function Qm(r,e,t){const n=Be(r),A=n.os.get(e),i=t?"readwrite":"readwrite-primary";try{t||await n.persistence.runTransaction("Release target",i,(s=>n.persistence.referenceDelegate.removeTarget(s,A)))}catch(s){if(!Mo(s))throw s;ue("LocalStore",`Failed to update sequence numbers for target ${e}: ${s}`)}n.os=n.os.remove(e),n._s.delete(A.target)}function dC(r,e,t){const n=Be(r);let A=we.min(),i=Ue();return n.persistence.runTransaction("Execute query","readwrite",(s=>(function(o,u,l){const h=Be(o),f=h._s.get(l);return f!==void 0?J.resolve(h.os.get(f)):h.Ur.getTargetData(u,l)})(n,s,_n(e)).next((a=>{if(a)return A=a.lastLimboFreeSnapshotVersion,n.Ur.getMatchingKeysForTargetId(s,a.targetId).next((o=>{i=o}))})).next((()=>n.ss.getDocumentsMatchingQuery(s,e,t?A:we.min(),t?i:Ue()))).next((a=>(_V(n,fH(e),a),{documents:a,Ts:i})))))}function _V(r,e,t){let n=r.us.get(e)||we.min();t.forEach(((A,i)=>{i.readTime.compareTo(n)>0&&(n=i.readTime)})),r.us.set(e,n)}class gC{constructor(){this.activeTargetIds=yH()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class TV{constructor(){this.so=new gC,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e,t=!0){return t&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,t,n){this.oo[e]=t}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new gC,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IV{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pC{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){ue("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){ue("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Fu=null;function Wh(){return Fu===null?Fu=(function(){return 268435456+Math.round(2147483648*Math.random())})():Fu++,"0x"+Fu.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bV={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UV{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const er="WebChannelConnection";class FV extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http",A=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Do=n+"://"+t.host,this.vo=`projects/${A}/databases/${i}`,this.Co=this.databaseId.database==="(default)"?`project_id=${A}`:`project_id=${A}&database_id=${i}`}get Fo(){return!1}Mo(t,n,A,i,s){const a=Wh(),o=this.xo(t,n.toUriEncodedString());ue("RestConnection",`Sending RPC '${t}' ${a}:`,o,A);const u={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(u,i,s),this.No(t,o,u,A).then((l=>(ue("RestConnection",`Received RPC '${t}' ${a}: `,l),l)),(l=>{throw Us("RestConnection",`RPC '${t}' ${a} failed with error: `,l,"url: ",o,"request:",A),l}))}Lo(t,n,A,i,s,a){return this.Mo(t,n,A,i,s)}Oo(t,n,A){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+ks})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((i,s)=>t[s]=i)),A&&A.headers.forEach(((i,s)=>t[s]=i))}xo(t,n){const A=bV[t];return`${this.Do}/v1/${n}:${A}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,t,n,A){const i=Wh();return new Promise(((s,a)=>{const o=new hS;o.setWithCredentials(!0),o.listenOnce(fS.COMPLETE,(()=>{try{switch(o.getLastErrorCode()){case Bl.NO_ERROR:const l=o.getResponseJson();ue(er,`XHR for RPC '${e}' ${i} received:`,JSON.stringify(l)),s(l);break;case Bl.TIMEOUT:ue(er,`RPC '${e}' ${i} timed out`),a(new ie(X.DEADLINE_EXCEEDED,"Request time out"));break;case Bl.HTTP_ERROR:const h=o.getStatus();if(ue(er,`RPC '${e}' ${i} failed with status:`,h,"response text:",o.getResponseText()),h>0){let f=o.getResponseJson();Array.isArray(f)&&(f=f[0]);const d=f?.error;if(d&&d.status&&d.message){const g=(function(C){const E=C.toLowerCase().replace(/_/g,"-");return Object.values(X).indexOf(E)>=0?E:X.UNKNOWN})(d.status);a(new ie(g,d.message))}else a(new ie(X.UNKNOWN,"Server responded with status "+o.getStatus()))}else a(new ie(X.UNAVAILABLE,"Connection failed."));break;default:ve()}}finally{ue(er,`RPC '${e}' ${i} completed.`)}}));const u=JSON.stringify(A);ue(er,`RPC '${e}' ${i} sending request:`,A),o.send(t,"POST",u,n,15)}))}Bo(e,t,n){const A=Wh(),i=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=pS(),a=gS(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(o.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(o.useFetchStreams=!0),this.Oo(o.initMessageHeaders,t,n),o.encodeInitMessageHeaders=!0;const l=i.join("");ue(er,`Creating RPC '${e}' stream ${A}: ${l}`,o);const h=s.createWebChannel(l,o);let f=!1,d=!1;const g=new UV({Io:C=>{d?ue(er,`Not sending because RPC '${e}' stream ${A} is closed:`,C):(f||(ue(er,`Opening RPC '${e}' stream ${A} transport.`),h.open(),f=!0),ue(er,`RPC '${e}' stream ${A} sending:`,C),h.send(C))},To:()=>h.close()}),m=(C,E,T)=>{C.listen(E,(I=>{try{T(I)}catch(b){setTimeout((()=>{throw b}),0)}}))};return m(h,Sa.EventType.OPEN,(()=>{d||(ue(er,`RPC '${e}' stream ${A} transport opened.`),g.yo())})),m(h,Sa.EventType.CLOSE,(()=>{d||(d=!0,ue(er,`RPC '${e}' stream ${A} transport closed`),g.So())})),m(h,Sa.EventType.ERROR,(C=>{d||(d=!0,Us(er,`RPC '${e}' stream ${A} transport errored:`,C),g.So(new ie(X.UNAVAILABLE,"The operation could not be completed")))})),m(h,Sa.EventType.MESSAGE,(C=>{var E;if(!d){const T=C.data[0];Le(!!T);const I=T,b=I.error||((E=I[0])===null||E===void 0?void 0:E.error);if(b){ue(er,`RPC '${e}' stream ${A} received error:`,b);const P=b.status;let Q=(function(w){const U=yt[w];if(U!==void 0)return HS(U)})(P),v=b.message;Q===void 0&&(Q=X.INTERNAL,v="Unknown error status: "+P+" with message "+b.message),d=!0,g.So(new ie(Q,v)),h.close()}else ue(er,`RPC '${e}' stream ${A} received:`,T),g.bo(T)}})),m(a,dS.STAT_EVENT,(C=>{C.stat===Bm.PROXY?ue(er,`RPC '${e}' stream ${A} detected buffering proxy`):C.stat===Bm.NOPROXY&&ue(er,`RPC '${e}' stream ${A} detected no buffering proxy`)})),setTimeout((()=>{g.wo()}),0),g}}function $h(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dc(r){return new NH(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZS{constructor(e,t,n=1e3,A=1.5,i=6e4){this.ui=e,this.timerId=t,this.ko=n,this.qo=A,this.Qo=i,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const t=Math.floor(this.Ko+this.zo()),n=Math.max(0,Date.now()-this.Uo),A=Math.max(0,t-n);A>0&&ue("ExponentialBackoff",`Backing off for ${A} ms (base delay: ${this.Ko} ms, delay with jitter: ${t} ms, last attempt: ${n} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,A,(()=>(this.Uo=Date.now(),e()))),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eQ{constructor(e,t,n,A,i,s,a,o){this.ui=e,this.Ho=n,this.Jo=A,this.connection=i,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=o,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new ZS(e,t)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,(()=>this.__())))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,t){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():t&&t.code===X.RESOURCE_EXHAUSTED?(aA(t.toString()),aA("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):t&&t.code===X.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(t)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),t=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([n,A])=>{this.Yo===t&&this.P_(n,A)}),(n=>{e((()=>{const A=new ie(X.UNKNOWN,"Fetching auth token failed: "+n.message);return this.I_(A)}))}))}P_(e,t){const n=this.h_(this.Yo);this.stream=this.T_(e,t),this.stream.Eo((()=>{n((()=>this.listener.Eo()))})),this.stream.Ro((()=>{n((()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,(()=>(this.r_()&&(this.state=3),Promise.resolve()))),this.listener.Ro())))})),this.stream.mo((A=>{n((()=>this.I_(A)))})),this.stream.onMessage((A=>{n((()=>++this.e_==1?this.E_(A):this.onNext(A)))}))}i_(){this.state=5,this.t_.Go((async()=>{this.state=0,this.start()}))}I_(e){return ue("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return t=>{this.ui.enqueueAndForget((()=>this.Yo===e?t():(ue("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class SV extends eQ{constructor(e,t,n,A,i,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,A,s),this.serializer=i}T_(e,t){return this.connection.Bo("Listen",e,t)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const t=VH(this.serializer,e),n=(function(i){if(!("targetChange"in i))return we.min();const s=i.targetChange;return s.targetIds&&s.targetIds.length?we.min():s.readTime?Tn(s.readTime):we.min()})(e);return this.listener.d_(t,n)}A_(e){const t={};t.database=Sm(this.serializer),t.addTarget=(function(i,s){let a;const o=s.target;if(a=Tm(o)?{documents:jH(i,o)}:{query:qH(i,o)._t},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=GS(i,s.resumeToken);const u=bm(i,s.expectedCount);u!==null&&(a.expectedCount=u)}else if(s.snapshotVersion.compareTo(we.min())>0){a.readTime=Jl(i,s.snapshotVersion.toTimestamp());const u=bm(i,s.expectedCount);u!==null&&(a.expectedCount=u)}return a})(this.serializer,e);const n=$H(this.serializer,e);n&&(t.labels=n),this.a_(t)}R_(e){const t={};t.database=Sm(this.serializer),t.removeTarget=e,this.a_(t)}}class QV extends eQ{constructor(e,t,n,A,i,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,A,s),this.serializer=i}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,t){return this.connection.Bo("Write",e,t)}E_(e){return Le(!!e.streamToken),this.lastStreamToken=e.streamToken,Le(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){Le(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const t=GH(e.writeResults,e.commitTime),n=Tn(e.commitTime);return this.listener.g_(n,t)}p_(){const e={};e.database=Sm(this.serializer),this.a_(e)}m_(e){const t={streamToken:this.lastStreamToken,writes:e.map((n=>KH(this.serializer,n)))};this.a_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RV extends class{}{constructor(e,t,n,A){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=A,this.y_=!1}w_(){if(this.y_)throw new ie(X.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,t,n,A){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([i,s])=>this.connection.Mo(e,Um(t,n),A,i,s))).catch((i=>{throw i.name==="FirebaseError"?(i.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new ie(X.UNKNOWN,i.toString())}))}Lo(e,t,n,A,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([s,a])=>this.connection.Lo(e,Um(t,n),A,s,a,i))).catch((s=>{throw s.name==="FirebaseError"?(s.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new ie(X.UNKNOWN,s.toString())}))}terminate(){this.y_=!0,this.connection.terminate()}}class xV{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve()))))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(aA(t),this.D_=!1):ue("OnlineStateTracker",t)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PV{constructor(e,t,n,A,i){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=i,this.k_._o((s=>{n.enqueueAndForget((async()=>{ki(this)&&(ue("RemoteStore","Restarting streams for network reachability change."),await(async function(o){const u=Be(o);u.L_.add(4),await Vo(u),u.q_.set("Unknown"),u.L_.delete(4),await Lc(u)})(this))}))})),this.q_=new xV(n,A)}}async function Lc(r){if(ki(r))for(const e of r.B_)await e(!0)}async function Vo(r){for(const e of r.B_)await e(!1)}function tQ(r,e){const t=Be(r);t.N_.has(e.targetId)||(t.N_.set(e.targetId,e),xy(t)?Ry(t):Vs(t).r_()&&Qy(t,e))}function Sy(r,e){const t=Be(r),n=Vs(t);t.N_.delete(e),n.r_()&&rQ(t,e),t.N_.size===0&&(n.r_()?n.o_():ki(t)&&t.q_.set("Unknown"))}function Qy(r,e){if(r.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(we.min())>0){const t=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Vs(r).A_(e)}function rQ(r,e){r.Q_.xe(e),Vs(r).R_(e)}function Ry(r){r.Q_=new OH({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>r.N_.get(e)||null,tt:()=>r.datastore.serializer.databaseId}),Vs(r).start(),r.q_.v_()}function xy(r){return ki(r)&&!Vs(r).n_()&&r.N_.size>0}function ki(r){return Be(r).L_.size===0}function nQ(r){r.Q_=void 0}async function OV(r){r.q_.set("Online")}async function DV(r){r.N_.forEach(((e,t)=>{Qy(r,e)}))}async function LV(r,e){nQ(r),xy(r)?(r.q_.M_(e),Ry(r)):r.q_.set("Unknown")}async function MV(r,e,t){if(r.q_.set("Online"),e instanceof KS&&e.state===2&&e.cause)try{await(async function(A,i){const s=i.cause;for(const a of i.targetIds)A.N_.has(a)&&(await A.remoteSyncer.rejectListen(a,s),A.N_.delete(a),A.Q_.removeTarget(a))})(r,e)}catch(n){ue("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),n),await Zl(r,n)}else if(e instanceof _l?r.Q_.Ke(e):e instanceof VS?r.Q_.He(e):r.Q_.We(e),!t.isEqual(we.min()))try{const n=await JS(r.localStore);t.compareTo(n)>=0&&await(function(i,s){const a=i.Q_.rt(s);return a.targetChanges.forEach(((o,u)=>{if(o.resumeToken.approximateByteSize()>0){const l=i.N_.get(u);l&&i.N_.set(u,l.withResumeToken(o.resumeToken,s))}})),a.targetMismatches.forEach(((o,u)=>{const l=i.N_.get(o);if(!l)return;i.N_.set(o,l.withResumeToken(jt.EMPTY_BYTE_STRING,l.snapshotVersion)),rQ(i,o);const h=new OA(l.target,o,u,l.sequenceNumber);Qy(i,h)})),i.remoteSyncer.applyRemoteEvent(a)})(r,t)}catch(n){ue("RemoteStore","Failed to raise snapshot:",n),await Zl(r,n)}}async function Zl(r,e,t){if(!Mo(e))throw e;r.L_.add(1),await Vo(r),r.q_.set("Offline"),t||(t=()=>JS(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{ue("RemoteStore","Retrying IndexedDB access"),await t(),r.L_.delete(1),await Lc(r)}))}function AQ(r,e){return e().catch((t=>Zl(r,t,e)))}async function Mc(r){const e=Be(r),t=qA(e);let n=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;NV(e);)try{const A=await CV(e.localStore,n);if(A===null){e.O_.length===0&&t.o_();break}n=A.batchId,kV(e,A)}catch(A){await Zl(e,A)}iQ(e)&&sQ(e)}function NV(r){return ki(r)&&r.O_.length<10}function kV(r,e){r.O_.push(e);const t=qA(r);t.r_()&&t.V_&&t.m_(e.mutations)}function iQ(r){return ki(r)&&!qA(r).n_()&&r.O_.length>0}function sQ(r){qA(r).start()}async function HV(r){qA(r).p_()}async function VV(r){const e=qA(r);for(const t of r.O_)e.m_(t.mutations)}async function KV(r,e,t){const n=r.O_.shift(),A=_y.from(n,e,t);await AQ(r,(()=>r.remoteSyncer.applySuccessfulWrite(A))),await Mc(r)}async function GV(r,e){e&&qA(r).V_&&await(async function(n,A){if((function(s){return RH(s)&&s!==X.ABORTED})(A.code)){const i=n.O_.shift();qA(n).s_(),await AQ(n,(()=>n.remoteSyncer.rejectFailedWrite(i.batchId,A))),await Mc(n)}})(r,e),iQ(r)&&sQ(r)}async function mC(r,e){const t=Be(r);t.asyncQueue.verifyOperationInProgress(),ue("RemoteStore","RemoteStore received new credentials");const n=ki(t);t.L_.add(3),await Vo(t),n&&t.q_.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.L_.delete(3),await Lc(t)}async function jV(r,e){const t=Be(r);e?(t.L_.delete(2),await Lc(t)):e||(t.L_.add(2),await Vo(t),t.q_.set("Unknown"))}function Vs(r){return r.K_||(r.K_=(function(t,n,A){const i=Be(t);return i.w_(),new SV(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,A)})(r.datastore,r.asyncQueue,{Eo:OV.bind(null,r),Ro:DV.bind(null,r),mo:LV.bind(null,r),d_:MV.bind(null,r)}),r.B_.push((async e=>{e?(r.K_.s_(),xy(r)?Ry(r):r.q_.set("Unknown")):(await r.K_.stop(),nQ(r))}))),r.K_}function qA(r){return r.U_||(r.U_=(function(t,n,A){const i=Be(t);return i.w_(),new QV(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,A)})(r.datastore,r.asyncQueue,{Eo:()=>Promise.resolve(),Ro:HV.bind(null,r),mo:GV.bind(null,r),f_:VV.bind(null,r),g_:KV.bind(null,r)}),r.B_.push((async e=>{e?(r.U_.s_(),await Mc(r)):(await r.U_.stop(),r.O_.length>0&&(ue("RemoteStore",`Stopping write stream with ${r.O_.length} pending writes`),r.O_=[]))}))),r.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Py{constructor(e,t,n,A,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=A,this.removalCallback=i,this.deferred=new rA,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((s=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,n,A,i){const s=Date.now()+n,a=new Py(e,t,s,A,i);return a.start(n),a}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ie(X.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Oy(r,e){if(aA("AsyncQueue",`${e}: ${r}`),Mo(r))return new ie(X.UNAVAILABLE,`${e}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _s{constructor(e){this.comparator=e?(t,n)=>e(t,n)||de.comparator(t.key,n.key):(t,n)=>de.comparator(t.key,n.key),this.keyedMap=Qa(),this.sortedSet=new tt(this.comparator)}static emptySet(e){return new _s(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,n)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof _s)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const A=t.getNext().key,i=n.getNext().key;if(!A.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const n=new _s;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vC{constructor(){this.W_=new tt(de.comparator)}track(e){const t=e.doc.key,n=this.W_.get(t);n?e.type!==0&&n.type===3?this.W_=this.W_.insert(t,e):e.type===3&&n.type!==1?this.W_=this.W_.insert(t,{type:n.type,doc:e.doc}):e.type===2&&n.type===2?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):e.type===2&&n.type===0?this.W_=this.W_.insert(t,{type:0,doc:e.doc}):e.type===1&&n.type===0?this.W_=this.W_.remove(t):e.type===1&&n.type===2?this.W_=this.W_.insert(t,{type:1,doc:n.doc}):e.type===0&&n.type===1?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):ve():this.W_=this.W_.insert(t,e)}G_(){const e=[];return this.W_.inorderTraversal(((t,n)=>{e.push(n)})),e}}class xs{constructor(e,t,n,A,i,s,a,o,u){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=A,this.mutatedKeys=i,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=o,this.hasCachedResults=u}static fromInitialDocuments(e,t,n,A,i){const s=[];return t.forEach((a=>{s.push({type:0,doc:a})})),new xs(e,t,_s.emptySet(t),s,n,A,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Qc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let A=0;A<t.length;A++)if(t[A].type!==n[A].type||!t[A].doc.isEqual(n[A].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qV{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some((e=>e.J_()))}}class WV{constructor(){this.queries=yC(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(t,n){const A=Be(t),i=A.queries;A.queries=yC(),i.forEach(((s,a)=>{for(const o of a.j_)o.onError(n)}))})(this,new ie(X.ABORTED,"Firestore shutting down"))}}function yC(){return new Hs((r=>FS(r)),Qc)}async function Dy(r,e){const t=Be(r);let n=3;const A=e.query;let i=t.queries.get(A);i?!i.H_()&&e.J_()&&(n=2):(i=new qV,n=e.J_()?0:1);try{switch(n){case 0:i.z_=await t.onListen(A,!0);break;case 1:i.z_=await t.onListen(A,!1);break;case 2:await t.onFirstRemoteStoreListen(A)}}catch(s){const a=Oy(s,`Initialization of query '${as(e.query)}' failed`);return void e.onError(a)}t.queries.set(A,i),i.j_.push(e),e.Z_(t.onlineState),i.z_&&e.X_(i.z_)&&My(t)}async function Ly(r,e){const t=Be(r),n=e.query;let A=3;const i=t.queries.get(n);if(i){const s=i.j_.indexOf(e);s>=0&&(i.j_.splice(s,1),i.j_.length===0?A=e.J_()?0:1:!i.H_()&&e.J_()&&(A=2))}switch(A){case 0:return t.queries.delete(n),t.onUnlisten(n,!0);case 1:return t.queries.delete(n),t.onUnlisten(n,!1);case 2:return t.onLastRemoteStoreUnlisten(n);default:return}}function $V(r,e){const t=Be(r);let n=!1;for(const A of e){const i=A.query,s=t.queries.get(i);if(s){for(const a of s.j_)a.X_(A)&&(n=!0);s.z_=A}}n&&My(t)}function XV(r,e,t){const n=Be(r),A=n.queries.get(e);if(A)for(const i of A.j_)i.onError(t);n.queries.delete(e)}function My(r){r.Y_.forEach((e=>{e.next()}))}var Rm,wC;(wC=Rm||(Rm={})).ea="default",wC.Cache="cache";class Ny{constructor(e,t,n){this.query=e,this.ta=t,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=n||{}}X_(e){if(!this.options.includeMetadataChanges){const n=[];for(const A of e.docChanges)A.type!==3&&n.push(A);e=new xs(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.na?this.ia(e)&&(this.ta.next(e),t=!0):this.sa(e,this.onlineState)&&(this.oa(e),t=!0),this.ra=e,t}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let t=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),t=!0),t}sa(e,t){if(!e.fromCache||!this.J_())return!0;const n=t!=="Offline";return(!this.options._a||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const t=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}oa(e){e=xs.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==Rm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aQ{constructor(e){this.key=e}}class oQ{constructor(e){this.key=e}}class zV{constructor(e,t){this.query=e,this.Ta=t,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=Ue(),this.mutatedKeys=Ue(),this.Aa=SS(e),this.Ra=new _s(this.Aa)}get Va(){return this.Ta}ma(e,t){const n=t?t.fa:new vC,A=t?t.Ra:this.Ra;let i=t?t.mutatedKeys:this.mutatedKeys,s=A,a=!1;const o=this.query.limitType==="F"&&A.size===this.query.limit?A.last():null,u=this.query.limitType==="L"&&A.size===this.query.limit?A.first():null;if(e.inorderTraversal(((l,h)=>{const f=A.get(l),d=Rc(this.query,h)?h:null,g=!!f&&this.mutatedKeys.has(f.key),m=!!d&&(d.hasLocalMutations||this.mutatedKeys.has(d.key)&&d.hasCommittedMutations);let C=!1;f&&d?f.data.isEqual(d.data)?g!==m&&(n.track({type:3,doc:d}),C=!0):this.ga(f,d)||(n.track({type:2,doc:d}),C=!0,(o&&this.Aa(d,o)>0||u&&this.Aa(d,u)<0)&&(a=!0)):!f&&d?(n.track({type:0,doc:d}),C=!0):f&&!d&&(n.track({type:1,doc:f}),C=!0,(o||u)&&(a=!0)),C&&(d?(s=s.add(d),i=m?i.add(l):i.delete(l)):(s=s.delete(l),i=i.delete(l)))})),this.query.limit!==null)for(;s.size>this.query.limit;){const l=this.query.limitType==="F"?s.last():s.first();s=s.delete(l.key),i=i.delete(l.key),n.track({type:1,doc:l})}return{Ra:s,fa:n,ns:a,mutatedKeys:i}}ga(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n,A){const i=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const s=e.fa.G_();s.sort(((l,h)=>(function(d,g){const m=C=>{switch(C){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ve()}};return m(d)-m(g)})(l.type,h.type)||this.Aa(l.doc,h.doc))),this.pa(n),A=A!=null&&A;const a=t&&!A?this.ya():[],o=this.da.size===0&&this.current&&!A?1:0,u=o!==this.Ea;return this.Ea=o,s.length!==0||u?{snapshot:new xs(this.query,e.Ra,i,s,e.mutatedKeys,o===0,u,!1,!!n&&n.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new vC,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach((t=>this.Ta=this.Ta.add(t))),e.modifiedDocuments.forEach((t=>{})),e.removedDocuments.forEach((t=>this.Ta=this.Ta.delete(t))),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=Ue(),this.Ra.forEach((n=>{this.Sa(n.key)&&(this.da=this.da.add(n.key))}));const t=[];return e.forEach((n=>{this.da.has(n)||t.push(new oQ(n))})),this.da.forEach((n=>{e.has(n)||t.push(new aQ(n))})),t}ba(e){this.Ta=e.Ts,this.da=Ue();const t=this.ma(e.documents);return this.applyChanges(t,!0)}Da(){return xs.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class YV{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class JV{constructor(e){this.key=e,this.va=!1}}class ZV{constructor(e,t,n,A,i,s){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=A,this.currentUser=i,this.maxConcurrentLimboResolutions=s,this.Ca={},this.Fa=new Hs((a=>FS(a)),Qc),this.Ma=new Map,this.xa=new Set,this.Oa=new tt(de.comparator),this.Na=new Map,this.La=new by,this.Ba={},this.ka=new Map,this.qa=Rs.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function e4(r,e,t=!0){const n=dQ(r);let A;const i=n.Fa.get(e);return i?(n.sharedClientState.addLocalQueryTarget(i.targetId),A=i.view.Da()):A=await uQ(n,e,t,!0),A}async function t4(r,e){const t=dQ(r);await uQ(t,e,!0,!1)}async function uQ(r,e,t,n){const A=await EV(r.localStore,_n(e)),i=A.targetId,s=r.sharedClientState.addLocalQueryTarget(i,t);let a;return n&&(a=await r4(r,e,i,s==="current",A.resumeToken)),r.isPrimaryClient&&t&&tQ(r.remoteStore,A),a}async function r4(r,e,t,n,A){r.Ka=(h,f,d)=>(async function(m,C,E,T){let I=C.view.ma(E);I.ns&&(I=await dC(m.localStore,C.query,!1).then((({documents:v})=>C.view.ma(v,I))));const b=T&&T.targetChanges.get(C.targetId),P=T&&T.targetMismatches.get(C.targetId)!=null,Q=C.view.applyChanges(I,m.isPrimaryClient,b,P);return CC(m,C.targetId,Q.wa),Q.snapshot})(r,h,f,d);const i=await dC(r.localStore,e,!0),s=new zV(e,i.Ts),a=s.ma(i.documents),o=Ho.createSynthesizedTargetChangeForCurrentChange(t,n&&r.onlineState!=="Offline",A),u=s.applyChanges(a,r.isPrimaryClient,o);CC(r,t,u.wa);const l=new YV(e,t,s);return r.Fa.set(e,l),r.Ma.has(t)?r.Ma.get(t).push(e):r.Ma.set(t,[e]),u.snapshot}async function n4(r,e,t){const n=Be(r),A=n.Fa.get(e),i=n.Ma.get(A.targetId);if(i.length>1)return n.Ma.set(A.targetId,i.filter((s=>!Qc(s,e)))),void n.Fa.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(A.targetId),n.sharedClientState.isActiveQueryTarget(A.targetId)||await Qm(n.localStore,A.targetId,!1).then((()=>{n.sharedClientState.clearQueryState(A.targetId),t&&Sy(n.remoteStore,A.targetId),xm(n,A.targetId)})).catch(Lo)):(xm(n,A.targetId),await Qm(n.localStore,A.targetId,!0))}async function A4(r,e){const t=Be(r),n=t.Fa.get(e),A=t.Ma.get(n.targetId);t.isPrimaryClient&&A.length===1&&(t.sharedClientState.removeLocalQueryTarget(n.targetId),Sy(t.remoteStore,n.targetId))}async function i4(r,e,t){const n=h4(r);try{const A=await(function(s,a){const o=Be(s),u=bt.now(),l=a.reduce(((d,g)=>d.add(g.key)),Ue());let h,f;return o.persistence.runTransaction("Locally write mutations","readwrite",(d=>{let g=oA(),m=Ue();return o.cs.getEntries(d,l).next((C=>{g=C,g.forEach(((E,T)=>{T.isValidDocument()||(m=m.add(E))}))})).next((()=>o.localDocuments.getOverlayedDocuments(d,g))).next((C=>{h=C;const E=[];for(const T of a){const I=bH(T,h.get(T.key).overlayedDocument);I!=null&&E.push(new JA(T.key,I,BS(I.value.mapValue),qr.exists(!0)))}return o.mutationQueue.addMutationBatch(d,u,E,a)})).next((C=>{f=C;const E=C.applyToLocalDocumentSet(h,m);return o.documentOverlayCache.saveOverlays(d,C.batchId,E)}))})).then((()=>({batchId:f.batchId,changes:RS(h)})))})(n.localStore,e);n.sharedClientState.addPendingMutation(A.batchId),(function(s,a,o){let u=s.Ba[s.currentUser.toKey()];u||(u=new tt(Re)),u=u.insert(a,o),s.Ba[s.currentUser.toKey()]=u})(n,A.batchId,t),await Ko(n,A.changes),await Mc(n.remoteStore)}catch(A){const i=Oy(A,"Failed to persist write");t.reject(i)}}async function lQ(r,e){const t=Be(r);try{const n=await wV(t.localStore,e);e.targetChanges.forEach(((A,i)=>{const s=t.Na.get(i);s&&(Le(A.addedDocuments.size+A.modifiedDocuments.size+A.removedDocuments.size<=1),A.addedDocuments.size>0?s.va=!0:A.modifiedDocuments.size>0?Le(s.va):A.removedDocuments.size>0&&(Le(s.va),s.va=!1))})),await Ko(t,n,e)}catch(n){await Lo(n)}}function BC(r,e,t){const n=Be(r);if(n.isPrimaryClient&&t===0||!n.isPrimaryClient&&t===1){const A=[];n.Fa.forEach(((i,s)=>{const a=s.view.Z_(e);a.snapshot&&A.push(a.snapshot)})),(function(s,a){const o=Be(s);o.onlineState=a;let u=!1;o.queries.forEach(((l,h)=>{for(const f of h.j_)f.Z_(a)&&(u=!0)})),u&&My(o)})(n.eventManager,e),A.length&&n.Ca.d_(A),n.onlineState=e,n.isPrimaryClient&&n.sharedClientState.setOnlineState(e)}}async function s4(r,e,t){const n=Be(r);n.sharedClientState.updateQueryState(e,"rejected",t);const A=n.Na.get(e),i=A&&A.key;if(i){let s=new tt(de.comparator);s=s.insert(i,Ar.newNoDocument(i,we.min()));const a=Ue().add(i),o=new Oc(we.min(),new Map,new tt(Re),s,a);await lQ(n,o),n.Oa=n.Oa.remove(i),n.Na.delete(e),ky(n)}else await Qm(n.localStore,e,!1).then((()=>xm(n,e,t))).catch(Lo)}async function a4(r,e){const t=Be(r),n=e.batch.batchId;try{const A=await yV(t.localStore,e);hQ(t,n,null),cQ(t,n),t.sharedClientState.updateMutationState(n,"acknowledged"),await Ko(t,A)}catch(A){await Lo(A)}}async function o4(r,e,t){const n=Be(r);try{const A=await(function(s,a){const o=Be(s);return o.persistence.runTransaction("Reject batch","readwrite-primary",(u=>{let l;return o.mutationQueue.lookupMutationBatch(u,a).next((h=>(Le(h!==null),l=h.keys(),o.mutationQueue.removeMutationBatch(u,h)))).next((()=>o.mutationQueue.performConsistencyCheck(u))).next((()=>o.documentOverlayCache.removeOverlaysForBatchId(u,l,a))).next((()=>o.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,l))).next((()=>o.localDocuments.getDocuments(u,l)))}))})(n.localStore,e);hQ(n,e,t),cQ(n,e),n.sharedClientState.updateMutationState(e,"rejected",t),await Ko(n,A)}catch(A){await Lo(A)}}function cQ(r,e){(r.ka.get(e)||[]).forEach((t=>{t.resolve()})),r.ka.delete(e)}function hQ(r,e,t){const n=Be(r);let A=n.Ba[n.currentUser.toKey()];if(A){const i=A.get(e);i&&(t?i.reject(t):i.resolve(),A=A.remove(e)),n.Ba[n.currentUser.toKey()]=A}}function xm(r,e,t=null){r.sharedClientState.removeLocalQueryTarget(e);for(const n of r.Ma.get(e))r.Fa.delete(n),t&&r.Ca.$a(n,t);r.Ma.delete(e),r.isPrimaryClient&&r.La.gr(e).forEach((n=>{r.La.containsKey(n)||fQ(r,n)}))}function fQ(r,e){r.xa.delete(e.path.canonicalString());const t=r.Oa.get(e);t!==null&&(Sy(r.remoteStore,t),r.Oa=r.Oa.remove(e),r.Na.delete(t),ky(r))}function CC(r,e,t){for(const n of t)n instanceof aQ?(r.La.addReference(n.key,e),u4(r,n)):n instanceof oQ?(ue("SyncEngine","Document no longer in limbo: "+n.key),r.La.removeReference(n.key,e),r.La.containsKey(n.key)||fQ(r,n.key)):ve()}function u4(r,e){const t=e.key,n=t.path.canonicalString();r.Oa.get(t)||r.xa.has(n)||(ue("SyncEngine","New document in limbo: "+t),r.xa.add(n),ky(r))}function ky(r){for(;r.xa.size>0&&r.Oa.size<r.maxConcurrentLimboResolutions;){const e=r.xa.values().next().value;r.xa.delete(e);const t=new de(je.fromString(e)),n=r.qa.next();r.Na.set(n,new JV(t)),r.Oa=r.Oa.insert(t,n),tQ(r.remoteStore,new OA(_n(Sc(t.path)),n,"TargetPurposeLimboResolution",py.oe))}}async function Ko(r,e,t){const n=Be(r),A=[],i=[],s=[];n.Fa.isEmpty()||(n.Fa.forEach(((a,o)=>{s.push(n.Ka(o,e,t).then((u=>{var l;if((u||t)&&n.isPrimaryClient){const h=u?!u.fromCache:(l=t?.targetChanges.get(o.targetId))===null||l===void 0?void 0:l.current;n.sharedClientState.updateQueryState(o.targetId,h?"current":"not-current")}if(u){A.push(u);const h=Fy.Wi(o.targetId,u);i.push(h)}})))})),await Promise.all(s),n.Ca.d_(A),await(async function(o,u){const l=Be(o);try{await l.persistence.runTransaction("notifyLocalViewChanges","readwrite",(h=>J.forEach(u,(f=>J.forEach(f.$i,(d=>l.persistence.referenceDelegate.addReference(h,f.targetId,d))).next((()=>J.forEach(f.Ui,(d=>l.persistence.referenceDelegate.removeReference(h,f.targetId,d)))))))))}catch(h){if(!Mo(h))throw h;ue("LocalStore","Failed to update sequence numbers: "+h)}for(const h of u){const f=h.targetId;if(!h.fromCache){const d=l.os.get(f),g=d.snapshotVersion,m=d.withLastLimboFreeSnapshotVersion(g);l.os=l.os.insert(f,m)}}})(n.localStore,i))}async function l4(r,e){const t=Be(r);if(!t.currentUser.isEqual(e)){ue("SyncEngine","User change. New user:",e.toKey());const n=await YS(t.localStore,e);t.currentUser=e,(function(i,s){i.ka.forEach((a=>{a.forEach((o=>{o.reject(new ie(X.CANCELLED,s))}))})),i.ka.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,n.removedBatchIds,n.addedBatchIds),await Ko(t,n.hs)}}function c4(r,e){const t=Be(r),n=t.Na.get(e);if(n&&n.va)return Ue().add(n.key);{let A=Ue();const i=t.Ma.get(e);if(!i)return A;for(const s of i){const a=t.Fa.get(s);A=A.unionWith(a.view.Va)}return A}}function dQ(r){const e=Be(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=lQ.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=c4.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=s4.bind(null,e),e.Ca.d_=$V.bind(null,e.eventManager),e.Ca.$a=XV.bind(null,e.eventManager),e}function h4(r){const e=Be(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=a4.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=o4.bind(null,e),e}class ec{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Dc(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,t){return null}Ha(e,t){return null}za(e){return vV(this.persistence,new pV,e.initialUser,this.serializer)}Ga(e){return new fV(Uy.Zr,this.serializer)}Wa(e){return new TV}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}ec.provider={build:()=>new ec};class Pm{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=n=>BC(this.syncEngine,n,1),this.remoteStore.remoteSyncer.handleCredentialChange=l4.bind(null,this.syncEngine),await jV(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new WV})()}createDatastore(e){const t=Dc(e.databaseInfo.databaseId),n=(function(i){return new FV(i)})(e.databaseInfo);return(function(i,s,a,o){return new RV(i,s,a,o)})(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return(function(n,A,i,s,a){return new PV(n,A,i,s,a)})(this.localStore,this.datastore,e.asyncQueue,(t=>BC(this.syncEngine,t,0)),(function(){return pC.D()?new pC:new IV})())}createSyncEngine(e,t){return(function(A,i,s,a,o,u,l){const h=new ZV(A,i,s,a,o,u);return l&&(h.Qa=!0),h})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await(async function(A){const i=Be(A);ue("RemoteStore","RemoteStore shutting down."),i.L_.add(5),await Vo(i),i.k_.shutdown(),i.q_.set("Unknown")})(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}Pm.provider={build:()=>new Pm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hy{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):aA("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f4{constructor(e,t,n,A,i){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=A,this.user=rr.UNAUTHENTICATED,this.clientId=vS.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(n,(async s=>{ue("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s})),this.appCheckCredentials.start(n,(s=>(ue("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new rA;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const n=Oy(t,"Failed to shutdown persistence");e.reject(n)}})),e.promise}}async function Xh(r,e){r.asyncQueue.verifyOperationInProgress(),ue("FirestoreClient","Initializing OfflineComponentProvider");const t=r.configuration;await e.initialize(t);let n=t.initialUser;r.setCredentialChangeListener((async A=>{n.isEqual(A)||(await YS(e.localStore,A),n=A)})),e.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=e}async function EC(r,e){r.asyncQueue.verifyOperationInProgress();const t=await d4(r);ue("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(t,r.configuration),r.setCredentialChangeListener((n=>mC(e.remoteStore,n))),r.setAppCheckTokenChangeListener(((n,A)=>mC(e.remoteStore,A))),r._onlineComponents=e}async function d4(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){ue("FirestoreClient","Using user provided OfflineComponentProvider");try{await Xh(r,r._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!(function(A){return A.name==="FirebaseError"?A.code===X.FAILED_PRECONDITION||A.code===X.UNIMPLEMENTED:!(typeof DOMException<"u"&&A instanceof DOMException)||A.code===22||A.code===20||A.code===11})(t))throw t;Us("Error using user provided cache. Falling back to memory cache: "+t),await Xh(r,new ec)}}else ue("FirestoreClient","Using default OfflineComponentProvider"),await Xh(r,new ec);return r._offlineComponents}async function gQ(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(ue("FirestoreClient","Using user provided OnlineComponentProvider"),await EC(r,r._uninitializedComponentsProvider._online)):(ue("FirestoreClient","Using default OnlineComponentProvider"),await EC(r,new Pm))),r._onlineComponents}function g4(r){return gQ(r).then((e=>e.syncEngine))}async function tc(r){const e=await gQ(r),t=e.eventManager;return t.onListen=e4.bind(null,e.syncEngine),t.onUnlisten=n4.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=t4.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=A4.bind(null,e.syncEngine),t}function p4(r,e,t={}){const n=new rA;return r.asyncQueue.enqueueAndForget((async()=>(function(i,s,a,o,u){const l=new Hy({next:f=>{l.Za(),s.enqueueAndForget((()=>Ly(i,h)));const d=f.docs.has(a);!d&&f.fromCache?u.reject(new ie(X.UNAVAILABLE,"Failed to get document because the client is offline.")):d&&f.fromCache&&o&&o.source==="server"?u.reject(new ie(X.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(f)},error:f=>u.reject(f)}),h=new Ny(Sc(a.path),l,{includeMetadataChanges:!0,_a:!0});return Dy(i,h)})(await tc(r),r.asyncQueue,e,t,n))),n.promise}function m4(r,e,t={}){const n=new rA;return r.asyncQueue.enqueueAndForget((async()=>(function(i,s,a,o,u){const l=new Hy({next:f=>{l.Za(),s.enqueueAndForget((()=>Ly(i,h))),f.fromCache&&o.source==="server"?u.reject(new ie(X.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(f)},error:f=>u.reject(f)}),h=new Ny(a,l,{includeMetadataChanges:!0,_a:!0});return Dy(i,h)})(await tc(r),r.asyncQueue,e,t,n))),n.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pQ(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _C=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mQ(r,e,t){if(!t)throw new ie(X.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function v4(r,e,t,n){if(e===!0&&n===!0)throw new ie(X.INVALID_ARGUMENT,`${r} and ${t} cannot be used together.`)}function TC(r){if(!de.isDocumentKey(r))throw new ie(X.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function IC(r){if(de.isDocumentKey(r))throw new ie(X.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function Nc(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=(function(n){return n.constructor?n.constructor.name:null})(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":ve()}function Er(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new ie(X.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Nc(r);throw new ie(X.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return r}function y4(r,e){if(e<=0)throw new ie(X.INVALID_ARGUMENT,`Function ${r}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bC{constructor(e){var t,n;if(e.host===void 0){if(e.ssl!==void 0)throw new ie(X.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(t=e.ssl)===null||t===void 0||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new ie(X.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}v4("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=pQ((n=e.experimentalLongPollingOptions)!==null&&n!==void 0?n:{}),(function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new ie(X.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new ie(X.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new ie(X.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(n,A){return n.timeoutSeconds===A.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class kc{constructor(e,t,n,A){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=A,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new bC({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ie(X.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ie(X.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new bC(e),e.credentials!==void 0&&(this._authCredentials=(function(n){if(!n)return new Ok;switch(n.type){case"firstParty":return new Nk(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new ie(X.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){const n=_C.get(t);n&&(ue("ComponentProvider","Removing Datastore"),_C.delete(t),n.terminate())})(this),Promise.resolve()}}function w4(r,e,t,n={}){var A;const i=(r=Er(r,kc))._getSettings(),s=`${e}:${t}`;if(i.host!=="firestore.googleapis.com"&&i.host!==s&&Us("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),r._setSettings(Object.assign(Object.assign({},i),{host:s,ssl:!1})),n.mockUserToken){let a,o;if(typeof n.mockUserToken=="string")a=n.mockUserToken,o=rr.MOCK_USER;else{a=Z2(n.mockUserToken,(A=r._app)===null||A===void 0?void 0:A.options.projectId);const u=n.mockUserToken.sub||n.mockUserToken.user_id;if(!u)throw new ie(X.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");o=new rr(u)}r._authCredentials=new Dk(new mS(a,o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZA{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new ZA(this.firestore,e,this._query)}}class ar{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new HA(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ar(this.firestore,e,this._key)}}class HA extends ZA{constructor(e,t,n){super(e,t,Sc(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ar(this.firestore,null,new de(e))}withConverter(e){return new HA(this.firestore,e,this._path)}}function nee(r,e,...t){if(r=Je(r),mQ("collection","path",e),r instanceof kc){const n=je.fromString(e,...t);return IC(n),new HA(r,null,n)}{if(!(r instanceof ar||r instanceof HA))throw new ie(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=r._path.child(je.fromString(e,...t));return IC(n),new HA(r.firestore,null,n)}}function B4(r,e,...t){if(r=Je(r),arguments.length===1&&(e=vS.newId()),mQ("doc","path",e),r instanceof kc){const n=je.fromString(e,...t);return TC(n),new ar(r,null,new de(n))}{if(!(r instanceof ar||r instanceof HA))throw new ie(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=r._path.child(je.fromString(e,...t));return TC(n),new ar(r.firestore,r instanceof HA?r.converter:null,new de(n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UC{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new ZS(this,"async_queue_retry"),this.Vu=()=>{const n=$h();n&&ue("AsyncQueue","Visibility state changed to "+n.visibilityState),this.t_.jo()},this.mu=e;const t=$h();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const t=$h();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise((()=>{}));const t=new rA;return this.gu((()=>this.Iu&&this.Au?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Pu.push(e),this.pu())))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!Mo(e))throw e;ue("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go((()=>this.pu()))}}gu(e){const t=this.mu.then((()=>(this.du=!0,e().catch((n=>{this.Eu=n,this.du=!1;const A=(function(s){let a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),a})(n);throw aA("INTERNAL UNHANDLED ERROR: ",A),n})).then((n=>(this.du=!1,n))))));return this.mu=t,t}enqueueAfterDelay(e,t,n){this.fu(),this.Ru.indexOf(e)>-1&&(t=0);const A=Py.createAndSchedule(this,e,t,n,(i=>this.yu(i)));return this.Tu.push(A),A}fu(){this.Eu&&ve()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const t of this.Tu)if(t.timerId===e)return!0;return!1}bu(e){return this.wu().then((()=>{this.Tu.sort(((t,n)=>t.targetTimeMs-n.targetTimeMs));for(const t of this.Tu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.wu()}))}Du(e){this.Ru.push(e)}yu(e){const t=this.Tu.indexOf(e);this.Tu.splice(t,1)}}function FC(r){return(function(t,n){if(typeof t!="object"||t===null)return!1;const A=t;for(const i of n)if(i in A&&typeof A[i]=="function")return!0;return!1})(r,["next","error","complete"])}class uA extends kc{constructor(e,t,n,A){super(e,t,n,A),this.type="firestore",this._queue=new UC,this._persistenceKey=A?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new UC(e),this._firestoreClient=void 0,await e}}}function Aee(r,e){const t=typeof r=="object"?r:Tc(),n=typeof r=="string"?r:"(default)",A=YA(t,"firestore").getImmediate({identifier:n});if(!A._initialized){const i=E1("firestore");i&&w4(A,...i)}return A}function Hc(r){if(r._terminated)throw new ie(X.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||C4(r),r._firestoreClient}function C4(r){var e,t,n;const A=r._freezeSettings(),i=(function(a,o,u,l){return new Jk(a,o,u,l.host,l.ssl,l.experimentalForceLongPolling,l.experimentalAutoDetectLongPolling,pQ(l.experimentalLongPollingOptions),l.useFetchStreams)})(r._databaseId,((e=r._app)===null||e===void 0?void 0:e.options.appId)||"",r._persistenceKey,A);r._componentsProvider||!((t=A.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((n=A.localCache)===null||n===void 0)&&n._onlineComponentProvider)&&(r._componentsProvider={_offline:A.localCache._offlineComponentProvider,_online:A.localCache._onlineComponentProvider}),r._firestoreClient=new f4(r._authCredentials,r._appCheckCredentials,r._queue,i,r._componentsProvider&&(function(a){const o=a?._online.build();return{_offline:a?._offline.build(o),_online:o}})(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ps{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ps(jt.fromBase64String(e))}catch(t){throw new ie(X.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Ps(jt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vc{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new ie(X.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Vt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kc{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vy{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new ie(X.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new ie(X.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Re(this._lat,e._lat)||Re(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ky{constructor(e){this._values=(e||[]).map((t=>t))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(n,A){if(n.length!==A.length)return!1;for(let i=0;i<n.length;++i)if(n[i]!==A[i])return!1;return!0})(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E4=/^__.*__$/;class _4{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return this.fieldMask!==null?new JA(e,this.data,this.fieldMask,t,this.fieldTransforms):new ko(e,this.data,t,this.fieldTransforms)}}class vQ{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new JA(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function yQ(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ve()}}class Gy{constructor(e,t,n,A,i,s){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=A,i===void 0&&this.vu(),this.fieldTransforms=i||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new Gy(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var t;const n=(t=this.path)===null||t===void 0?void 0:t.child(e),A=this.Fu({path:n,xu:!1});return A.Ou(e),A}Nu(e){var t;const n=(t=this.path)===null||t===void 0?void 0:t.child(e),A=this.Fu({path:n,xu:!1});return A.vu(),A}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return rc(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(yQ(this.Cu)&&E4.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class T4{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||Dc(e)}Qu(e,t,n,A=!1){return new Gy({Cu:e,methodName:t,qu:n,path:Vt.emptyPath(),xu:!1,ku:A},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Gc(r){const e=r._freezeSettings(),t=Dc(r._databaseId);return new T4(r._databaseId,!!e.ignoreUndefinedProperties,t)}function wQ(r,e,t,n,A,i={}){const s=r.Qu(i.merge||i.mergeFields?2:0,e,t,A);qy("Data must be an object, but it was:",s,n);const a=BQ(n,s);let o,u;if(i.merge)o=new xr(s.fieldMask),u=s.fieldTransforms;else if(i.mergeFields){const l=[];for(const h of i.mergeFields){const f=Om(e,h,t);if(!s.contains(f))throw new ie(X.INVALID_ARGUMENT,`Field '${f}' is specified in your field mask but missing from your input data.`);EQ(l,f)||l.push(f)}o=new xr(l),u=s.fieldTransforms.filter((h=>o.covers(h.field)))}else o=null,u=s.fieldTransforms;return new _4(new wr(a),o,u)}class jc extends Kc{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof jc}}class jy extends Kc{_toFieldTransform(e){return new EH(e.path,new go)}isEqual(e){return e instanceof jy}}function I4(r,e,t,n){const A=r.Qu(1,e,t);qy("Data must be an object, but it was:",A,n);const i=[],s=wr.empty();Ni(n,((o,u)=>{const l=Wy(e,o,t);u=Je(u);const h=A.Nu(l);if(u instanceof jc)i.push(l);else{const f=Go(u,h);f!=null&&(i.push(l),s.set(l,f))}}));const a=new xr(i);return new vQ(s,a,A.fieldTransforms)}function b4(r,e,t,n,A,i){const s=r.Qu(1,e,t),a=[Om(e,n,t)],o=[A];if(i.length%2!=0)throw new ie(X.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let f=0;f<i.length;f+=2)a.push(Om(e,i[f])),o.push(i[f+1]);const u=[],l=wr.empty();for(let f=a.length-1;f>=0;--f)if(!EQ(u,a[f])){const d=a[f];let g=o[f];g=Je(g);const m=s.Nu(d);if(g instanceof jc)u.push(d);else{const C=Go(g,m);C!=null&&(u.push(d),l.set(d,C))}}const h=new xr(u);return new vQ(l,h,s.fieldTransforms)}function U4(r,e,t,n=!1){return Go(t,r.Qu(n?4:3,e))}function Go(r,e){if(CQ(r=Je(r)))return qy("Unsupported field value:",e,r),BQ(r,e);if(r instanceof Kc)return(function(n,A){if(!yQ(A.Cu))throw A.Bu(`${n._methodName}() can only be used with update() and set()`);if(!A.path)throw A.Bu(`${n._methodName}() is not currently supported inside arrays`);const i=n._toFieldTransform(A);i&&A.fieldTransforms.push(i)})(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return(function(n,A){const i=[];let s=0;for(const a of n){let o=Go(a,A.Lu(s));o==null&&(o={nullValue:"NULL_VALUE"}),i.push(o),s++}return{arrayValue:{values:i}}})(r,e)}return(function(n,A){if((n=Je(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return wH(A.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const i=bt.fromDate(n);return{timestampValue:Jl(A.serializer,i)}}if(n instanceof bt){const i=new bt(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:Jl(A.serializer,i)}}if(n instanceof Vy)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Ps)return{bytesValue:GS(A.serializer,n._byteString)};if(n instanceof ar){const i=A.databaseId,s=n.firestore._databaseId;if(!s.isEqual(i))throw A.Bu(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:Iy(n.firestore._databaseId||A.databaseId,n._key.path)}}if(n instanceof Ky)return(function(s,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:s.toArray().map((o=>{if(typeof o!="number")throw a.Bu("VectorValues must only contain numeric values.");return Cy(a.serializer,o)}))}}}}}})(n,A);throw A.Bu(`Unsupported field value: ${Nc(n)}`)})(r,e)}function BQ(r,e){const t={};return yS(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ni(r,((n,A)=>{const i=Go(A,e.Mu(n));i!=null&&(t[n]=i)})),{mapValue:{fields:t}}}function CQ(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof bt||r instanceof Vy||r instanceof Ps||r instanceof ar||r instanceof Kc||r instanceof Ky)}function qy(r,e,t){if(!CQ(t)||!(function(A){return typeof A=="object"&&A!==null&&(Object.getPrototypeOf(A)===Object.prototype||Object.getPrototypeOf(A)===null)})(t)){const n=Nc(t);throw n==="an object"?e.Bu(r+" a custom object"):e.Bu(r+" "+n)}}function Om(r,e,t){if((e=Je(e))instanceof Vc)return e._internalPath;if(typeof e=="string")return Wy(r,e);throw rc("Field path arguments must be of type string or ",r,!1,void 0,t)}const F4=new RegExp("[~\\*/\\[\\]]");function Wy(r,e,t){if(e.search(F4)>=0)throw rc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,t);try{return new Vc(...e.split("."))._internalPath}catch{throw rc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,t)}}function rc(r,e,t,n,A){const i=n&&!n.isEmpty(),s=A!==void 0;let a=`Function ${e}() called with invalid data`;t&&(a+=" (via `toFirestore()`)"),a+=". ";let o="";return(i||s)&&(o+=" (found",i&&(o+=` in field ${n}`),s&&(o+=` in document ${A}`),o+=")"),new ie(X.INVALID_ARGUMENT,a+r+o)}function EQ(r,e){return r.some((t=>t.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _Q{constructor(e,t,n,A,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=A,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new ar(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new S4(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field($y("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class S4 extends _Q{data(){return super.data()}}function $y(r,e){return typeof e=="string"?Wy(r,e):e instanceof Vc?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TQ(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new ie(X.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Xy{}class IQ extends Xy{}function iee(r,e,...t){let n=[];e instanceof Xy&&n.push(e),n=n.concat(t),(function(i){const s=i.filter((o=>o instanceof zy)).length,a=i.filter((o=>o instanceof qc)).length;if(s>1||s>0&&a>0)throw new ie(X.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(n);for(const A of n)r=A._apply(r);return r}class qc extends IQ{constructor(e,t,n){super(),this._field=e,this._op=t,this._value=n,this.type="where"}static _create(e,t,n){return new qc(e,t,n)}_apply(e){const t=this._parse(e);return bQ(e._query,t),new ZA(e.firestore,e.converter,Im(e._query,t))}_parse(e){const t=Gc(e.firestore);return(function(i,s,a,o,u,l,h){let f;if(u.isKeyField()){if(l==="array-contains"||l==="array-contains-any")throw new ie(X.INVALID_ARGUMENT,`Invalid Query. You can't perform '${l}' queries on documentId().`);if(l==="in"||l==="not-in"){QC(h,l);const d=[];for(const g of h)d.push(SC(o,i,g));f={arrayValue:{values:d}}}else f=SC(o,i,h)}else l!=="in"&&l!=="not-in"&&l!=="array-contains-any"||QC(h,l),f=U4(a,s,h,l==="in"||l==="not-in");return Et.create(u,l,f)})(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function see(r,e,t){const n=e,A=$y("where",r);return qc._create(A,n,t)}class zy extends Xy{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new zy(e,t)}_parse(e){const t=this._queryConstraints.map((n=>n._parse(e))).filter((n=>n.getFilters().length>0));return t.length===1?t[0]:fn.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:((function(A,i){let s=A;const a=i.getFlattenedFilters();for(const o of a)bQ(s,o),s=Im(s,o)})(e._query,t),new ZA(e.firestore,e.converter,Im(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Yy extends IQ{constructor(e,t,n){super(),this.type=e,this._limit=t,this._limitType=n}static _create(e,t,n){return new Yy(e,t,n)}_apply(e){return new ZA(e.firestore,e.converter,zl(e._query,this._limit,this._limitType))}}function aee(r){return y4("limit",r),Yy._create("limit",r,"F")}function SC(r,e,t){if(typeof(t=Je(t))=="string"){if(t==="")throw new ie(X.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!US(e)&&t.indexOf("/")!==-1)throw new ie(X.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const n=e.path.child(je.fromString(t));if(!de.isDocumentKey(n))throw new ie(X.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${n}' is not because it has an odd number of segments (${n.length}).`);return Y0(r,new de(n))}if(t instanceof ar)return Y0(r,t._key);throw new ie(X.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Nc(t)}.`)}function QC(r,e){if(!Array.isArray(r)||r.length===0)throw new ie(X.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function bQ(r,e){const t=(function(A,i){for(const s of A)for(const a of s.getFlattenedFilters())if(i.indexOf(a.op)>=0)return a.op;return null})(r.filters,(function(A){switch(A){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(t!==null)throw t===e.op?new ie(X.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ie(X.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class Q4{convertValue(e,t="none"){switch(xi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return gt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Ri(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw ve()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const n={};return Ni(e,((A,i)=>{n[A]=this.convertValue(i,t)})),n}convertVectorValue(e){var t,n,A;const i=(A=(n=(t=e.fields)===null||t===void 0?void 0:t.value.arrayValue)===null||n===void 0?void 0:n.values)===null||A===void 0?void 0:A.map((s=>gt(s.doubleValue)));return new Ky(i)}convertGeoPoint(e){return new Vy(gt(e.latitude),gt(e.longitude))}convertArray(e,t){return(e.values||[]).map((n=>this.convertValue(n,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const n=vy(e);return n==null?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(co(e));default:return null}}convertTimestamp(e){const t=jA(e);return new bt(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=je.fromString(e);Le(zS(n));const A=new ho(n.get(1),n.get(3)),i=new de(n.popFirst(5));return A.isEqual(t)||aA(`Document ${i} contains a document reference within a different database (${A.projectId}/${A.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UQ(r,e,t){let n;return n=r?r.toFirestore(e):e,n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xa{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class FQ extends _Q{constructor(e,t,n,A,i,s){super(e,t,n,A,s),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Tl(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const n=this._document.data.field($y("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}class Tl extends FQ{data(e={}){return super.data(e)}}class SQ{constructor(e,t,n,A){this._firestore=e,this._userDataWriter=t,this._snapshot=A,this.metadata=new xa(A.hasPendingWrites,A.fromCache),this.query=n}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((n=>{e.call(t,new Tl(this._firestore,this._userDataWriter,n.key,n,new xa(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new ie(X.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(A,i){if(A._snapshot.oldDocs.isEmpty()){let s=0;return A._snapshot.docChanges.map((a=>{const o=new Tl(A._firestore,A._userDataWriter,a.doc.key,a.doc,new xa(A._snapshot.mutatedKeys.has(a.doc.key),A._snapshot.fromCache),A.query.converter);return a.doc,{type:"added",doc:o,oldIndex:-1,newIndex:s++}}))}{let s=A._snapshot.oldDocs;return A._snapshot.docChanges.filter((a=>i||a.type!==3)).map((a=>{const o=new Tl(A._firestore,A._userDataWriter,a.doc.key,a.doc,new xa(A._snapshot.mutatedKeys.has(a.doc.key),A._snapshot.fromCache),A.query.converter);let u=-1,l=-1;return a.type!==0&&(u=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),l=s.indexOf(a.doc.key)),{type:R4(a.type),doc:o,oldIndex:u,newIndex:l}}))}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function R4(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oee(r){r=Er(r,ar);const e=Er(r.firestore,uA);return p4(Hc(e),r._key).then((t=>QQ(e,r,t)))}class Jy extends Q4{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ps(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new ar(this.firestore,null,t)}}function uee(r){r=Er(r,ZA);const e=Er(r.firestore,uA),t=Hc(e),n=new Jy(e);return TQ(r._query),m4(t,r._query).then((A=>new SQ(e,n,r,A)))}function lee(r,e,t){r=Er(r,ar);const n=Er(r.firestore,uA),A=UQ(r.converter,e);return Wc(n,[wQ(Gc(n),"setDoc",r._key,A,r.converter!==null,t).toMutation(r._key,qr.none())])}function cee(r,e,t,...n){r=Er(r,ar);const A=Er(r.firestore,uA),i=Gc(A);let s;return s=typeof(e=Je(e))=="string"||e instanceof Vc?b4(i,"updateDoc",r._key,e,t,n):I4(i,"updateDoc",r._key,e),Wc(A,[s.toMutation(r._key,qr.exists(!0))])}function hee(r){return Wc(Er(r.firestore,uA),[new Ey(r._key,qr.none())])}function fee(r,e){const t=Er(r.firestore,uA),n=B4(r),A=UQ(r.converter,e);return Wc(t,[wQ(Gc(r.firestore),"addDoc",n._key,A,r.converter!==null,{}).toMutation(n._key,qr.exists(!1))]).then((()=>n))}function dee(r,...e){var t,n,A;r=Je(r);let i={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||FC(e[s])||(i=e[s],s++);const a={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(FC(e[s])){const h=e[s];e[s]=(t=h.next)===null||t===void 0?void 0:t.bind(h),e[s+1]=(n=h.error)===null||n===void 0?void 0:n.bind(h),e[s+2]=(A=h.complete)===null||A===void 0?void 0:A.bind(h)}let o,u,l;if(r instanceof ar)u=Er(r.firestore,uA),l=Sc(r._key.path),o={next:h=>{e[s]&&e[s](QQ(u,r,h))},error:e[s+1],complete:e[s+2]};else{const h=Er(r,ZA);u=Er(h.firestore,uA),l=h._query;const f=new Jy(u);o={next:d=>{e[s]&&e[s](new SQ(u,f,h,d))},error:e[s+1],complete:e[s+2]},TQ(r._query)}return(function(f,d,g,m){const C=new Hy(m),E=new Ny(d,C,g);return f.asyncQueue.enqueueAndForget((async()=>Dy(await tc(f),E))),()=>{C.Za(),f.asyncQueue.enqueueAndForget((async()=>Ly(await tc(f),E)))}})(Hc(u),l,a,o)}function Wc(r,e){return(function(n,A){const i=new rA;return n.asyncQueue.enqueueAndForget((async()=>i4(await g4(n),A,i))),i.promise})(Hc(r),e)}function QQ(r,e,t){const n=t.docs.get(e._key),A=new Jy(r);return new FQ(r,A,e._key,n,new xa(t.hasPendingWrites,t.fromCache),e.converter)}function gee(){return new jy("serverTimestamp")}(function(e,t=!0){(function(A){ks=A})(Ms),hn(new $r("firestore",((n,{instanceIdentifier:A,options:i})=>{const s=n.getProvider("app").getImmediate(),a=new uA(new Lk(n.getProvider("auth-internal")),new Hk(n.getProvider("app-check-internal")),(function(u,l){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new ie(X.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ho(u.options.projectId,l)})(s,A),s);return i=Object.assign({useFetchStreams:t},i),a._setSettings(i),a}),"PUBLIC").setMultipleInstances(!0)),Cr(q0,"4.7.3",e),Cr(q0,"4.7.3","esm2017")})();var x4="firebase",P4="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Cr(x4,P4,"app");/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RQ="functions";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O4{constructor(e,t,n){this.auth=null,this.messaging=null,this.appCheck=null,this.auth=e.getImmediate({optional:!0}),this.messaging=t.getImmediate({optional:!0}),this.auth||e.get().then(A=>this.auth=A,()=>{}),this.messaging||t.get().then(A=>this.messaging=A,()=>{}),this.appCheck||n.get().then(A=>this.appCheck=A,()=>{})}async getAuthToken(){if(this.auth)try{const e=await this.auth.getToken();return e?.accessToken}catch{return}}async getMessagingToken(){if(!(!this.messaging||!("Notification"in self)||Notification.permission!=="granted"))try{return await this.messaging.getToken()}catch{return}}async getAppCheckToken(e){if(this.appCheck){const t=e?await this.appCheck.getLimitedUseToken():await this.appCheck.getToken();return t.error?null:t.token}return null}async getContext(e){const t=await this.getAuthToken(),n=await this.getMessagingToken(),A=await this.getAppCheckToken(e);return{authToken:t,messagingToken:n,appCheckToken:A}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dm="us-central1";class D4{constructor(e,t,n,A,i=Dm,s){this.app=e,this.fetchImpl=s,this.emulatorOrigin=null,this.contextProvider=new O4(t,n,A),this.cancelAllRequests=new Promise(a=>{this.deleteService=()=>Promise.resolve(a())});try{const a=new URL(i);this.customDomain=a.origin+(a.pathname==="/"?"":a.pathname),this.region=Dm}catch{this.customDomain=null,this.region=i}}_delete(){return this.deleteService()}_url(e){const t=this.app.options.projectId;return this.emulatorOrigin!==null?`${this.emulatorOrigin}/${t}/${this.region}/${e}`:this.customDomain!==null?`${this.customDomain}/${e}`:`https://${this.region}-${t}.cloudfunctions.net/${e}`}}function L4(r,e,t){r.emulatorOrigin=`http://${e}:${t}`}const RC="@firebase/functions",xC="0.11.8";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M4="auth-internal",N4="app-check-internal",k4="messaging-internal";function H4(r,e){const t=(n,{instanceIdentifier:A})=>{const i=n.getProvider("app").getImmediate(),s=n.getProvider(M4),a=n.getProvider(k4),o=n.getProvider(N4);return new D4(i,s,a,o,A,r)};hn(new $r(RQ,t,"PUBLIC").setMultipleInstances(!0)),Cr(RC,xC,e),Cr(RC,xC,"esm2017")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pee(r=Tc(),e=Dm){const n=YA(Je(r),RQ).getImmediate({identifier:e}),A=E1("functions");return A&&V4(n,...A),n}function V4(r,e,t){L4(Je(r),e,t)}H4(fetch.bind(self));const xQ="@firebase/installations",Zy="0.6.9";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PQ=1e4,OQ=`w:${Zy}`,DQ="FIS_v2",K4="https://firebaseinstallations.googleapis.com/v1",G4=3600*1e3,j4="installations",q4="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W4={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Pi=new Mi(j4,q4,W4);function LQ(r){return r instanceof gn&&r.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MQ({projectId:r}){return`${K4}/projects/${r}/installations`}function NQ(r){return{token:r.token,requestStatus:2,expiresIn:X4(r.expiresIn),creationTime:Date.now()}}async function kQ(r,e){const n=(await e.json()).error;return Pi.create("request-failed",{requestName:r,serverCode:n.code,serverMessage:n.message,serverStatus:n.status})}function HQ({apiKey:r}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":r})}function $4(r,{refreshToken:e}){const t=HQ(r);return t.append("Authorization",z4(e)),t}async function VQ(r){const e=await r();return e.status>=500&&e.status<600?r():e}function X4(r){return Number(r.replace("s","000"))}function z4(r){return`${DQ} ${r}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Y4({appConfig:r,heartbeatServiceProvider:e},{fid:t}){const n=MQ(r),A=HQ(r),i=e.getImmediate({optional:!0});if(i){const u=await i.getHeartbeatsHeader();u&&A.append("x-firebase-client",u)}const s={fid:t,authVersion:DQ,appId:r.appId,sdkVersion:OQ},a={method:"POST",headers:A,body:JSON.stringify(s)},o=await VQ(()=>fetch(n,a));if(o.ok){const u=await o.json();return{fid:u.fid||t,registrationStatus:2,refreshToken:u.refreshToken,authToken:NQ(u.authToken)}}else throw await kQ("Create Installation",o)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KQ(r){return new Promise(e=>{setTimeout(e,r)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J4(r){return btoa(String.fromCharCode(...r)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z4=/^[cdef][\w-]{21}$/,Lm="";function eK(){try{const r=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(r),r[0]=112+r[0]%16;const t=tK(r);return Z4.test(t)?t:Lm}catch{return Lm}}function tK(r){return J4(r).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $c(r){return`${r.appName}!${r.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GQ=new Map;function jQ(r,e){const t=$c(r);qQ(t,e),rK(t,e)}function qQ(r,e){const t=GQ.get(r);if(t)for(const n of t)n(e)}function rK(r,e){const t=nK();t&&t.postMessage({key:r,fid:e}),AK()}let vi=null;function nK(){return!vi&&"BroadcastChannel"in self&&(vi=new BroadcastChannel("[Firebase] FID Change"),vi.onmessage=r=>{qQ(r.data.key,r.data.fid)}),vi}function AK(){GQ.size===0&&vi&&(vi.close(),vi=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iK="firebase-installations-database",sK=1,Oi="firebase-installations-store";let zh=null;function ew(){return zh||(zh=F1(iK,sK,{upgrade:(r,e)=>{switch(e){case 0:r.createObjectStore(Oi)}}})),zh}async function nc(r,e){const t=$c(r),A=(await ew()).transaction(Oi,"readwrite"),i=A.objectStore(Oi),s=await i.get(t);return await i.put(e,t),await A.done,(!s||s.fid!==e.fid)&&jQ(r,e.fid),e}async function WQ(r){const e=$c(r),n=(await ew()).transaction(Oi,"readwrite");await n.objectStore(Oi).delete(e),await n.done}async function Xc(r,e){const t=$c(r),A=(await ew()).transaction(Oi,"readwrite"),i=A.objectStore(Oi),s=await i.get(t),a=e(s);return a===void 0?await i.delete(t):await i.put(a,t),await A.done,a&&(!s||s.fid!==a.fid)&&jQ(r,a.fid),a}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tw(r){let e;const t=await Xc(r.appConfig,n=>{const A=aK(n),i=oK(r,A);return e=i.registrationPromise,i.installationEntry});return t.fid===Lm?{installationEntry:await e}:{installationEntry:t,registrationPromise:e}}function aK(r){const e=r||{fid:eK(),registrationStatus:0};return $Q(e)}function oK(r,e){if(e.registrationStatus===0){if(!navigator.onLine){const A=Promise.reject(Pi.create("app-offline"));return{installationEntry:e,registrationPromise:A}}const t={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},n=uK(r,t);return{installationEntry:t,registrationPromise:n}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:lK(r)}:{installationEntry:e}}async function uK(r,e){try{const t=await Y4(r,e);return nc(r.appConfig,t)}catch(t){throw LQ(t)&&t.customData.serverCode===409?await WQ(r.appConfig):await nc(r.appConfig,{fid:e.fid,registrationStatus:0}),t}}async function lK(r){let e=await PC(r.appConfig);for(;e.registrationStatus===1;)await KQ(100),e=await PC(r.appConfig);if(e.registrationStatus===0){const{installationEntry:t,registrationPromise:n}=await tw(r);return n||t}return e}function PC(r){return Xc(r,e=>{if(!e)throw Pi.create("installation-not-found");return $Q(e)})}function $Q(r){return cK(r)?{fid:r.fid,registrationStatus:0}:r}function cK(r){return r.registrationStatus===1&&r.registrationTime+PQ<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hK({appConfig:r,heartbeatServiceProvider:e},t){const n=fK(r,t),A=$4(r,t),i=e.getImmediate({optional:!0});if(i){const u=await i.getHeartbeatsHeader();u&&A.append("x-firebase-client",u)}const s={installation:{sdkVersion:OQ,appId:r.appId}},a={method:"POST",headers:A,body:JSON.stringify(s)},o=await VQ(()=>fetch(n,a));if(o.ok){const u=await o.json();return NQ(u)}else throw await kQ("Generate Auth Token",o)}function fK(r,{fid:e}){return`${MQ(r)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rw(r,e=!1){let t;const n=await Xc(r.appConfig,i=>{if(!XQ(i))throw Pi.create("not-registered");const s=i.authToken;if(!e&&pK(s))return i;if(s.requestStatus===1)return t=dK(r,e),i;{if(!navigator.onLine)throw Pi.create("app-offline");const a=vK(i);return t=gK(r,a),a}});return t?await t:n.authToken}async function dK(r,e){let t=await OC(r.appConfig);for(;t.authToken.requestStatus===1;)await KQ(100),t=await OC(r.appConfig);const n=t.authToken;return n.requestStatus===0?rw(r,e):n}function OC(r){return Xc(r,e=>{if(!XQ(e))throw Pi.create("not-registered");const t=e.authToken;return yK(t)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function gK(r,e){try{const t=await hK(r,e),n=Object.assign(Object.assign({},e),{authToken:t});return await nc(r.appConfig,n),t}catch(t){if(LQ(t)&&(t.customData.serverCode===401||t.customData.serverCode===404))await WQ(r.appConfig);else{const n=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await nc(r.appConfig,n)}throw t}}function XQ(r){return r!==void 0&&r.registrationStatus===2}function pK(r){return r.requestStatus===2&&!mK(r)}function mK(r){const e=Date.now();return e<r.creationTime||r.creationTime+r.expiresIn<e+G4}function vK(r){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},r),{authToken:e})}function yK(r){return r.requestStatus===1&&r.requestTime+PQ<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wK(r){const e=r,{installationEntry:t,registrationPromise:n}=await tw(e);return n?n.catch(console.error):rw(e).catch(console.error),t.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BK(r,e=!1){const t=r;return await CK(t),(await rw(t,e)).token}async function CK(r){const{registrationPromise:e}=await tw(r);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EK(r){if(!r||!r.options)throw Yh("App Configuration");if(!r.name)throw Yh("App Name");const e=["projectId","apiKey","appId"];for(const t of e)if(!r.options[t])throw Yh(t);return{appName:r.name,projectId:r.options.projectId,apiKey:r.options.apiKey,appId:r.options.appId}}function Yh(r){return Pi.create("missing-app-config-values",{valueName:r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zQ="installations",_K="installations-internal",TK=r=>{const e=r.getProvider("app").getImmediate(),t=EK(e),n=YA(e,"heartbeat");return{app:e,appConfig:t,heartbeatServiceProvider:n,_delete:()=>Promise.resolve()}},IK=r=>{const e=r.getProvider("app").getImmediate(),t=YA(e,zQ).getImmediate();return{getId:()=>wK(t),getToken:A=>BK(t,A)}};function bK(){hn(new $r(zQ,TK,"PUBLIC")),hn(new $r(_K,IK,"PRIVATE"))}bK();Cr(xQ,Zy);Cr(xQ,Zy,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ac="analytics",UK="firebase_id",FK="origin",SK=60*1e3,QK="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",nw="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _r=new _c("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RK={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Or=new Mi("analytics","Analytics",RK);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xK(r){if(!r.startsWith(nw)){const e=Or.create("invalid-gtag-resource",{gtagURL:r});return _r.warn(e.message),""}return r}function YQ(r){return Promise.all(r.map(e=>e.catch(t=>t)))}function PK(r,e){let t;return window.trustedTypes&&(t=window.trustedTypes.createPolicy(r,e)),t}function OK(r,e){const t=PK("firebase-js-sdk-policy",{createScriptURL:xK}),n=document.createElement("script"),A=`${nw}?l=${r}&id=${e}`;n.src=t?t?.createScriptURL(A):A,n.async=!0,document.head.appendChild(n)}function DK(r){let e=[];return Array.isArray(window[r])?e=window[r]:window[r]=e,e}async function LK(r,e,t,n,A,i){const s=n[A];try{if(s)await e[s];else{const o=(await YQ(t)).find(u=>u.measurementId===A);o&&await e[o.appId]}}catch(a){_r.error(a)}r("config",A,i)}async function MK(r,e,t,n,A){try{let i=[];if(A&&A.send_to){let s=A.send_to;Array.isArray(s)||(s=[s]);const a=await YQ(t);for(const o of s){const u=a.find(h=>h.measurementId===o),l=u&&e[u.appId];if(l)i.push(l);else{i=[];break}}}i.length===0&&(i=Object.values(e)),await Promise.all(i),r("event",n,A||{})}catch(i){_r.error(i)}}function NK(r,e,t,n){async function A(i,...s){try{if(i==="event"){const[a,o]=s;await MK(r,e,t,a,o)}else if(i==="config"){const[a,o]=s;await LK(r,e,t,n,a,o)}else if(i==="consent"){const[a,o]=s;r("consent",a,o)}else if(i==="get"){const[a,o,u]=s;r("get",a,o,u)}else if(i==="set"){const[a]=s;r("set",a)}else r(i,...s)}catch(a){_r.error(a)}}return A}function kK(r,e,t,n,A){let i=function(...s){window[n].push(arguments)};return window[A]&&typeof window[A]=="function"&&(i=window[A]),window[A]=NK(i,r,e,t),{gtagCore:i,wrappedGtag:window[A]}}function HK(r){const e=window.document.getElementsByTagName("script");for(const t of Object.values(e))if(t.src&&t.src.includes(nw)&&t.src.includes(r))return t;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VK=30,KK=1e3;class GK{constructor(e={},t=KK){this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const JQ=new GK;function jK(r){return new Headers({Accept:"application/json","x-goog-api-key":r})}async function qK(r){var e;const{appId:t,apiKey:n}=r,A={method:"GET",headers:jK(n)},i=QK.replace("{app-id}",t),s=await fetch(i,A);if(s.status!==200&&s.status!==304){let a="";try{const o=await s.json();!((e=o.error)===null||e===void 0)&&e.message&&(a=o.error.message)}catch{}throw Or.create("config-fetch-failed",{httpStatus:s.status,responseMessage:a})}return s.json()}async function WK(r,e=JQ,t){const{appId:n,apiKey:A,measurementId:i}=r.options;if(!n)throw Or.create("no-app-id");if(!A){if(i)return{measurementId:i,appId:n};throw Or.create("no-api-key")}const s=e.getThrottleMetadata(n)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new zK;return setTimeout(async()=>{a.abort()},SK),ZQ({appId:n,apiKey:A,measurementId:i},s,a,e)}async function ZQ(r,{throttleEndTimeMillis:e,backoffCount:t},n,A=JQ){var i;const{appId:s,measurementId:a}=r;try{await $K(n,e)}catch(o){if(a)return _r.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${o?.message}]`),{appId:s,measurementId:a};throw o}try{const o=await qK(r);return A.deleteThrottleMetadata(s),o}catch(o){const u=o;if(!XK(u)){if(A.deleteThrottleMetadata(s),a)return _r.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${u?.message}]`),{appId:s,measurementId:a};throw o}const l=Number((i=u?.customData)===null||i===void 0?void 0:i.httpStatus)===503?m0(t,A.intervalMillis,VK):m0(t,A.intervalMillis),h={throttleEndTimeMillis:Date.now()+l,backoffCount:t+1};return A.setThrottleMetadata(s,h),_r.debug(`Calling attemptFetch again in ${l} millis`),ZQ(r,h,n,A)}}function $K(r,e){return new Promise((t,n)=>{const A=Math.max(e-Date.now(),0),i=setTimeout(t,A);r.addEventListener(()=>{clearTimeout(i),n(Or.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function XK(r){if(!(r instanceof gn)||!r.customData)return!1;const e=Number(r.customData.httpStatus);return e===429||e===500||e===503||e===504}class zK{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function YK(r,e,t,n,A){if(A&&A.global){r("event",t,n);return}else{const i=await e,s=Object.assign(Object.assign({},n),{send_to:i});r("event",t,s)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JK(){if(ty())try{await ry()}catch(r){return _r.warn(Or.create("indexeddb-unavailable",{errorInfo:r?.toString()}).message),!1}else return _r.warn(Or.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function ZK(r,e,t,n,A,i,s){var a;const o=WK(r);o.then(d=>{t[d.measurementId]=d.appId,r.options.measurementId&&d.measurementId!==r.options.measurementId&&_r.warn(`The measurement ID in the local Firebase config (${r.options.measurementId}) does not match the measurement ID fetched from the server (${d.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(d=>_r.error(d)),e.push(o);const u=JK().then(d=>{if(d)return n.getId()}),[l,h]=await Promise.all([o,u]);HK(i)||OK(i,l.measurementId),A("js",new Date);const f=(a=s?.config)!==null&&a!==void 0?a:{};return f[FK]="firebase",f.update=!0,h!=null&&(f[UK]=h),A("config",l.measurementId,f),l.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e3{constructor(e){this.app=e}_delete(){return delete Wa[this.app.options.appId],Promise.resolve()}}let Wa={},DC=[];const LC={};let Jh="dataLayer",t3="gtag",MC,eR,NC=!1;function r3(){const r=[];if(ey()&&r.push("This is a browser extension environment."),I1()||r.push("Cookies are not available."),r.length>0){const e=r.map((n,A)=>`(${A+1}) ${n}`).join(" "),t=Or.create("invalid-analytics-context",{errorInfo:e});_r.warn(t.message)}}function n3(r,e,t){r3();const n=r.options.appId;if(!n)throw Or.create("no-app-id");if(!r.options.apiKey)if(r.options.measurementId)_r.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${r.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Or.create("no-api-key");if(Wa[n]!=null)throw Or.create("already-exists",{id:n});if(!NC){DK(Jh);const{wrappedGtag:i,gtagCore:s}=kK(Wa,DC,LC,Jh,t3);eR=i,MC=s,NC=!0}return Wa[n]=ZK(r,DC,LC,e,MC,Jh,t),new e3(r)}function mee(r=Tc()){r=Je(r);const e=YA(r,Ac);return e.isInitialized()?e.getImmediate():A3(r)}function A3(r,e={}){const t=YA(r,Ac);if(t.isInitialized()){const A=t.getImmediate();if(ao(e,t.getOptions()))return A;throw Or.create("already-initialized")}return t.initialize({options:e})}async function vee(){if(ey()||!I1()||!ty())return!1;try{return await ry()}catch{return!1}}function i3(r,e,t,n){r=Je(r),YK(eR,Wa[r.app.options.appId],e,t,n).catch(A=>_r.error(A))}const kC="@firebase/analytics",HC="0.10.8";function s3(){hn(new $r(Ac,(e,{options:t})=>{const n=e.getProvider("app").getImmediate(),A=e.getProvider("installations-internal").getImmediate();return n3(n,A,t)},"PUBLIC")),hn(new $r("analytics-internal",r,"PRIVATE")),Cr(kC,HC),Cr(kC,HC,"esm2017");function r(e){try{const t=e.getProvider(Ac).getImmediate();return{logEvent:(n,A,i)=>i3(t,n,A,i)}}catch(t){throw Or.create("interop-component-reg-failed",{reason:t})}}}s3();const Aw=oe.createContext({});function iw(r){const e=oe.useRef(null);return e.current===null&&(e.current=r()),e.current}const sw=typeof window<"u",tR=sw?oe.useLayoutEffect:oe.useEffect,zc=oe.createContext(null);function aw(r,e){r.indexOf(e)===-1&&r.push(e)}function ow(r,e){const t=r.indexOf(e);t>-1&&r.splice(t,1)}const lA=(r,e,t)=>t>e?e:t<r?r:t;let uw=()=>{};const cA={},rR=r=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(r);function nR(r){return typeof r=="object"&&r!==null}const AR=r=>/^0[^.\s]+$/u.test(r);function lw(r){let e;return()=>(e===void 0&&(e=r()),e)}const Wr=r=>r,a3=(r,e)=>t=>e(r(t)),jo=(...r)=>r.reduce(a3),vo=(r,e,t)=>{const n=e-r;return n===0?1:(t-r)/n};class cw{constructor(){this.subscriptions=[]}add(e){return aw(this.subscriptions,e),()=>ow(this.subscriptions,e)}notify(e,t,n){const A=this.subscriptions.length;if(A)if(A===1)this.subscriptions[0](e,t,n);else for(let i=0;i<A;i++){const s=this.subscriptions[i];s&&s(e,t,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const In=r=>r*1e3,Kr=r=>r/1e3;function iR(r,e){return e?r*(1e3/e):0}const sR=(r,e,t)=>(((1-3*t+3*e)*r+(3*t-6*e))*r+3*e)*r,o3=1e-7,u3=12;function l3(r,e,t,n,A){let i,s,a=0;do s=e+(t-e)/2,i=sR(s,n,A)-r,i>0?t=s:e=s;while(Math.abs(i)>o3&&++a<u3);return s}function qo(r,e,t,n){if(r===e&&t===n)return Wr;const A=i=>l3(i,0,1,r,t);return i=>i===0||i===1?i:sR(A(i),e,n)}const aR=r=>e=>e<=.5?r(2*e)/2:(2-r(2*(1-e)))/2,oR=r=>e=>1-r(1-e),uR=qo(.33,1.53,.69,.99),hw=oR(uR),lR=aR(hw),cR=r=>(r*=2)<1?.5*hw(r):.5*(2-Math.pow(2,-10*(r-1))),fw=r=>1-Math.sin(Math.acos(r)),hR=oR(fw),fR=aR(fw),c3=qo(.42,0,1,1),h3=qo(0,0,.58,1),dR=qo(.42,0,.58,1),f3=r=>Array.isArray(r)&&typeof r[0]!="number",gR=r=>Array.isArray(r)&&typeof r[0]=="number",d3={linear:Wr,easeIn:c3,easeInOut:dR,easeOut:h3,circIn:fw,circInOut:fR,circOut:hR,backIn:hw,backInOut:lR,backOut:uR,anticipate:cR},g3=r=>typeof r=="string",VC=r=>{if(gR(r)){uw(r.length===4);const[e,t,n,A]=r;return qo(e,t,n,A)}else if(g3(r))return d3[r];return r},Su=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function p3(r,e){let t=new Set,n=new Set,A=!1,i=!1;const s=new WeakSet;let a={delta:0,timestamp:0,isProcessing:!1};function o(l){s.has(l)&&(u.schedule(l),r()),l(a)}const u={schedule:(l,h=!1,f=!1)=>{const g=f&&A?t:n;return h&&s.add(l),g.has(l)||g.add(l),l},cancel:l=>{n.delete(l),s.delete(l)},process:l=>{if(a=l,A){i=!0;return}A=!0,[t,n]=[n,t],t.forEach(o),t.clear(),A=!1,i&&(i=!1,u.process(l))}};return u}const m3=40;function pR(r,e){let t=!1,n=!0;const A={delta:0,timestamp:0,isProcessing:!1},i=()=>t=!0,s=Su.reduce((I,b)=>(I[b]=p3(i),I),{}),{setup:a,read:o,resolveKeyframes:u,preUpdate:l,update:h,preRender:f,render:d,postRender:g}=s,m=()=>{const I=cA.useManualTiming?A.timestamp:performance.now();t=!1,cA.useManualTiming||(A.delta=n?1e3/60:Math.max(Math.min(I-A.timestamp,m3),1)),A.timestamp=I,A.isProcessing=!0,a.process(A),o.process(A),u.process(A),l.process(A),h.process(A),f.process(A),d.process(A),g.process(A),A.isProcessing=!1,t&&e&&(n=!1,r(m))},C=()=>{t=!0,n=!0,A.isProcessing||r(m)};return{schedule:Su.reduce((I,b)=>{const P=s[b];return I[b]=(Q,v=!1,y=!1)=>(t||C(),P.schedule(Q,v,y)),I},{}),cancel:I=>{for(let b=0;b<Su.length;b++)s[Su[b]].cancel(I)},state:A,steps:s}}const{schedule:Ye,cancel:WA,state:Nt,steps:Zh}=pR(typeof requestAnimationFrame<"u"?requestAnimationFrame:Wr,!0);let Il;function v3(){Il=void 0}const Br={now:()=>(Il===void 0&&Br.set(Nt.isProcessing||cA.useManualTiming?Nt.timestamp:performance.now()),Il),set:r=>{Il=r,queueMicrotask(v3)}},mR=r=>e=>typeof e=="string"&&e.startsWith(r),dw=mR("--"),y3=mR("var(--"),gw=r=>y3(r)?w3.test(r.split("/*")[0].trim()):!1,w3=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Ks={test:r=>typeof r=="number",parse:parseFloat,transform:r=>r},yo={...Ks,transform:r=>lA(0,1,r)},Qu={...Ks,default:1},$a=r=>Math.round(r*1e5)/1e5,pw=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function B3(r){return r==null}const C3=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,mw=(r,e)=>t=>!!(typeof t=="string"&&C3.test(t)&&t.startsWith(r)||e&&!B3(t)&&Object.prototype.hasOwnProperty.call(t,e)),vR=(r,e,t)=>n=>{if(typeof n!="string")return n;const[A,i,s,a]=n.match(pw);return{[r]:parseFloat(A),[e]:parseFloat(i),[t]:parseFloat(s),alpha:a!==void 0?parseFloat(a):1}},E3=r=>lA(0,255,r),ef={...Ks,transform:r=>Math.round(E3(r))},yi={test:mw("rgb","red"),parse:vR("red","green","blue"),transform:({red:r,green:e,blue:t,alpha:n=1})=>"rgba("+ef.transform(r)+", "+ef.transform(e)+", "+ef.transform(t)+", "+$a(yo.transform(n))+")"};function _3(r){let e="",t="",n="",A="";return r.length>5?(e=r.substring(1,3),t=r.substring(3,5),n=r.substring(5,7),A=r.substring(7,9)):(e=r.substring(1,2),t=r.substring(2,3),n=r.substring(3,4),A=r.substring(4,5),e+=e,t+=t,n+=n,A+=A),{red:parseInt(e,16),green:parseInt(t,16),blue:parseInt(n,16),alpha:A?parseInt(A,16)/255:1}}const Mm={test:mw("#"),parse:_3,transform:yi.transform},Wo=r=>({test:e=>typeof e=="string"&&e.endsWith(r)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${r}`}),TA=Wo("deg"),bn=Wo("%"),pe=Wo("px"),T3=Wo("vh"),I3=Wo("vw"),KC={...bn,parse:r=>bn.parse(r)/100,transform:r=>bn.transform(r*100)},ds={test:mw("hsl","hue"),parse:vR("hue","saturation","lightness"),transform:({hue:r,saturation:e,lightness:t,alpha:n=1})=>"hsla("+Math.round(r)+", "+bn.transform($a(e))+", "+bn.transform($a(t))+", "+$a(yo.transform(n))+")"},Bt={test:r=>yi.test(r)||Mm.test(r)||ds.test(r),parse:r=>yi.test(r)?yi.parse(r):ds.test(r)?ds.parse(r):Mm.parse(r),transform:r=>typeof r=="string"?r:r.hasOwnProperty("red")?yi.transform(r):ds.transform(r),getAnimatableNone:r=>{const e=Bt.parse(r);return e.alpha=0,Bt.transform(e)}},b3=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function U3(r){return isNaN(r)&&typeof r=="string"&&(r.match(pw)?.length||0)+(r.match(b3)?.length||0)>0}const yR="number",wR="color",F3="var",S3="var(",GC="${}",Q3=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function wo(r){const e=r.toString(),t=[],n={color:[],number:[],var:[]},A=[];let i=0;const a=e.replace(Q3,o=>(Bt.test(o)?(n.color.push(i),A.push(wR),t.push(Bt.parse(o))):o.startsWith(S3)?(n.var.push(i),A.push(F3),t.push(o)):(n.number.push(i),A.push(yR),t.push(parseFloat(o))),++i,GC)).split(GC);return{values:t,split:a,indexes:n,types:A}}function BR(r){return wo(r).values}function CR(r){const{split:e,types:t}=wo(r),n=e.length;return A=>{let i="";for(let s=0;s<n;s++)if(i+=e[s],A[s]!==void 0){const a=t[s];a===yR?i+=$a(A[s]):a===wR?i+=Bt.transform(A[s]):i+=A[s]}return i}}const R3=r=>typeof r=="number"?0:Bt.test(r)?Bt.getAnimatableNone(r):r;function x3(r){const e=BR(r);return CR(r)(e.map(R3))}const $A={test:U3,parse:BR,createTransformer:CR,getAnimatableNone:x3};function tf(r,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?r+(e-r)*6*t:t<1/2?e:t<2/3?r+(e-r)*(2/3-t)*6:r}function P3({hue:r,saturation:e,lightness:t,alpha:n}){r/=360,e/=100,t/=100;let A=0,i=0,s=0;if(!e)A=i=s=t;else{const a=t<.5?t*(1+e):t+e-t*e,o=2*t-a;A=tf(o,a,r+1/3),i=tf(o,a,r),s=tf(o,a,r-1/3)}return{red:Math.round(A*255),green:Math.round(i*255),blue:Math.round(s*255),alpha:n}}function ic(r,e){return t=>t>0?e:r}const et=(r,e,t)=>r+(e-r)*t,rf=(r,e,t)=>{const n=r*r,A=t*(e*e-n)+n;return A<0?0:Math.sqrt(A)},O3=[Mm,yi,ds],D3=r=>O3.find(e=>e.test(r));function jC(r){const e=D3(r);if(!e)return!1;let t=e.parse(r);return e===ds&&(t=P3(t)),t}const qC=(r,e)=>{const t=jC(r),n=jC(e);if(!t||!n)return ic(r,e);const A={...t};return i=>(A.red=rf(t.red,n.red,i),A.green=rf(t.green,n.green,i),A.blue=rf(t.blue,n.blue,i),A.alpha=et(t.alpha,n.alpha,i),yi.transform(A))},Nm=new Set(["none","hidden"]);function L3(r,e){return Nm.has(r)?t=>t<=0?r:e:t=>t>=1?e:r}function M3(r,e){return t=>et(r,e,t)}function vw(r){return typeof r=="number"?M3:typeof r=="string"?gw(r)?ic:Bt.test(r)?qC:H3:Array.isArray(r)?ER:typeof r=="object"?Bt.test(r)?qC:N3:ic}function ER(r,e){const t=[...r],n=t.length,A=r.map((i,s)=>vw(i)(i,e[s]));return i=>{for(let s=0;s<n;s++)t[s]=A[s](i);return t}}function N3(r,e){const t={...r,...e},n={};for(const A in t)r[A]!==void 0&&e[A]!==void 0&&(n[A]=vw(r[A])(r[A],e[A]));return A=>{for(const i in n)t[i]=n[i](A);return t}}function k3(r,e){const t=[],n={color:0,var:0,number:0};for(let A=0;A<e.values.length;A++){const i=e.types[A],s=r.indexes[i][n[i]],a=r.values[s]??0;t[A]=a,n[i]++}return t}const H3=(r,e)=>{const t=$A.createTransformer(e),n=wo(r),A=wo(e);return n.indexes.var.length===A.indexes.var.length&&n.indexes.color.length===A.indexes.color.length&&n.indexes.number.length>=A.indexes.number.length?Nm.has(r)&&!A.values.length||Nm.has(e)&&!n.values.length?L3(r,e):jo(ER(k3(n,A),A.values),t):ic(r,e)};function _R(r,e,t){return typeof r=="number"&&typeof e=="number"&&typeof t=="number"?et(r,e,t):vw(r)(r,e)}const V3=r=>{const e=({timestamp:t})=>r(t);return{start:(t=!0)=>Ye.update(e,t),stop:()=>WA(e),now:()=>Nt.isProcessing?Nt.timestamp:Br.now()}},TR=(r,e,t=10)=>{let n="";const A=Math.max(Math.round(e/t),2);for(let i=0;i<A;i++)n+=Math.round(r(i/(A-1))*1e4)/1e4+", ";return`linear(${n.substring(0,n.length-2)})`},sc=2e4;function yw(r){let e=0;const t=50;let n=r.next(e);for(;!n.done&&e<sc;)e+=t,n=r.next(e);return e>=sc?1/0:e}function K3(r,e=100,t){const n=t({...r,keyframes:[0,e]}),A=Math.min(yw(n),sc);return{type:"keyframes",ease:i=>n.next(A*i).value/e,duration:Kr(A)}}const G3=5;function IR(r,e,t){const n=Math.max(e-G3,0);return iR(t-r(n),e-n)}const it={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},nf=.001;function j3({duration:r=it.duration,bounce:e=it.bounce,velocity:t=it.velocity,mass:n=it.mass}){let A,i,s=1-e;s=lA(it.minDamping,it.maxDamping,s),r=lA(it.minDuration,it.maxDuration,Kr(r)),s<1?(A=u=>{const l=u*s,h=l*r,f=l-t,d=km(u,s),g=Math.exp(-h);return nf-f/d*g},i=u=>{const h=u*s*r,f=h*t+t,d=Math.pow(s,2)*Math.pow(u,2)*r,g=Math.exp(-h),m=km(Math.pow(u,2),s);return(-A(u)+nf>0?-1:1)*((f-d)*g)/m}):(A=u=>{const l=Math.exp(-u*r),h=(u-t)*r+1;return-nf+l*h},i=u=>{const l=Math.exp(-u*r),h=(t-u)*(r*r);return l*h});const a=5/r,o=W3(A,i,a);if(r=In(r),isNaN(o))return{stiffness:it.stiffness,damping:it.damping,duration:r};{const u=Math.pow(o,2)*n;return{stiffness:u,damping:s*2*Math.sqrt(n*u),duration:r}}}const q3=12;function W3(r,e,t){let n=t;for(let A=1;A<q3;A++)n=n-r(n)/e(n);return n}function km(r,e){return r*Math.sqrt(1-e*e)}const $3=["duration","bounce"],X3=["stiffness","damping","mass"];function WC(r,e){return e.some(t=>r[t]!==void 0)}function z3(r){let e={velocity:it.velocity,stiffness:it.stiffness,damping:it.damping,mass:it.mass,isResolvedFromDuration:!1,...r};if(!WC(r,X3)&&WC(r,$3))if(r.visualDuration){const t=r.visualDuration,n=2*Math.PI/(t*1.2),A=n*n,i=2*lA(.05,1,1-(r.bounce||0))*Math.sqrt(A);e={...e,mass:it.mass,stiffness:A,damping:i}}else{const t=j3(r);e={...e,...t,mass:it.mass},e.isResolvedFromDuration=!0}return e}function ac(r=it.visualDuration,e=it.bounce){const t=typeof r!="object"?{visualDuration:r,keyframes:[0,1],bounce:e}:r;let{restSpeed:n,restDelta:A}=t;const i=t.keyframes[0],s=t.keyframes[t.keyframes.length-1],a={done:!1,value:i},{stiffness:o,damping:u,mass:l,duration:h,velocity:f,isResolvedFromDuration:d}=z3({...t,velocity:-Kr(t.velocity||0)}),g=f||0,m=u/(2*Math.sqrt(o*l)),C=s-i,E=Kr(Math.sqrt(o/l)),T=Math.abs(C)<5;n||(n=T?it.restSpeed.granular:it.restSpeed.default),A||(A=T?it.restDelta.granular:it.restDelta.default);let I;if(m<1){const P=km(E,m);I=Q=>{const v=Math.exp(-m*E*Q);return s-v*((g+m*E*C)/P*Math.sin(P*Q)+C*Math.cos(P*Q))}}else if(m===1)I=P=>s-Math.exp(-E*P)*(C+(g+E*C)*P);else{const P=E*Math.sqrt(m*m-1);I=Q=>{const v=Math.exp(-m*E*Q),y=Math.min(P*Q,300);return s-v*((g+m*E*C)*Math.sinh(y)+P*C*Math.cosh(y))/P}}const b={calculatedDuration:d&&h||null,next:P=>{const Q=I(P);if(d)a.done=P>=h;else{let v=P===0?g:0;m<1&&(v=P===0?In(g):IR(I,P,Q));const y=Math.abs(v)<=n,w=Math.abs(s-Q)<=A;a.done=y&&w}return a.value=a.done?s:Q,a},toString:()=>{const P=Math.min(yw(b),sc),Q=TR(v=>b.next(P*v).value,P,30);return P+"ms "+Q},toTransition:()=>{}};return b}ac.applyToOptions=r=>{const e=K3(r,100,ac);return r.ease=e.ease,r.duration=In(e.duration),r.type="keyframes",r};function Hm({keyframes:r,velocity:e=0,power:t=.8,timeConstant:n=325,bounceDamping:A=10,bounceStiffness:i=500,modifyTarget:s,min:a,max:o,restDelta:u=.5,restSpeed:l}){const h=r[0],f={done:!1,value:h},d=y=>a!==void 0&&y<a||o!==void 0&&y>o,g=y=>a===void 0?o:o===void 0||Math.abs(a-y)<Math.abs(o-y)?a:o;let m=t*e;const C=h+m,E=s===void 0?C:s(C);E!==C&&(m=E-h);const T=y=>-m*Math.exp(-y/n),I=y=>E+T(y),b=y=>{const w=T(y),U=I(y);f.done=Math.abs(w)<=u,f.value=f.done?E:U};let P,Q;const v=y=>{d(f.value)&&(P=y,Q=ac({keyframes:[f.value,g(f.value)],velocity:IR(I,y,f.value),damping:A,stiffness:i,restDelta:u,restSpeed:l}))};return v(0),{calculatedDuration:null,next:y=>{let w=!1;return!Q&&P===void 0&&(w=!0,b(y),v(y)),P!==void 0&&y>=P?Q.next(y-P):(!w&&b(y),f)}}}function Y3(r,e,t){const n=[],A=t||cA.mix||_R,i=r.length-1;for(let s=0;s<i;s++){let a=A(r[s],r[s+1]);if(e){const o=Array.isArray(e)?e[s]||Wr:e;a=jo(o,a)}n.push(a)}return n}function J3(r,e,{clamp:t=!0,ease:n,mixer:A}={}){const i=r.length;if(uw(i===e.length),i===1)return()=>e[0];if(i===2&&e[0]===e[1])return()=>e[1];const s=r[0]===r[1];r[0]>r[i-1]&&(r=[...r].reverse(),e=[...e].reverse());const a=Y3(e,n,A),o=a.length,u=l=>{if(s&&l<r[0])return e[0];let h=0;if(o>1)for(;h<r.length-2&&!(l<r[h+1]);h++);const f=vo(r[h],r[h+1],l);return a[h](f)};return t?l=>u(lA(r[0],r[i-1],l)):u}function Z3(r,e){const t=r[r.length-1];for(let n=1;n<=e;n++){const A=vo(0,e,n);r.push(et(t,1,A))}}function eG(r){const e=[0];return Z3(e,r.length-1),e}function tG(r,e){return r.map(t=>t*e)}function rG(r,e){return r.map(()=>e||dR).splice(0,r.length-1)}function Xa({duration:r=300,keyframes:e,times:t,ease:n="easeInOut"}){const A=f3(n)?n.map(VC):VC(n),i={done:!1,value:e[0]},s=tG(t&&t.length===e.length?t:eG(e),r),a=J3(s,e,{ease:Array.isArray(A)?A:rG(e,A)});return{calculatedDuration:r,next:o=>(i.value=a(o),i.done=o>=r,i)}}const nG=r=>r!==null;function ww(r,{repeat:e,repeatType:t="loop"},n,A=1){const i=r.filter(nG),a=A<0||e&&t!=="loop"&&e%2===1?0:i.length-1;return!a||n===void 0?i[a]:n}const AG={decay:Hm,inertia:Hm,tween:Xa,keyframes:Xa,spring:ac};function bR(r){typeof r.type=="string"&&(r.type=AG[r.type])}class Bw{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,t){return this.finished.then(e,t)}}const iG=r=>r/100;class Cw extends Bw{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:t}=this.options;t&&t.updatedAt!==Br.now()&&this.tick(Br.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;bR(e);const{type:t=Xa,repeat:n=0,repeatDelay:A=0,repeatType:i,velocity:s=0}=e;let{keyframes:a}=e;const o=t||Xa;o!==Xa&&typeof a[0]!="number"&&(this.mixKeyframes=jo(iG,_R(a[0],a[1])),a=[0,100]);const u=o({...e,keyframes:a});i==="mirror"&&(this.mirroredGenerator=o({...e,keyframes:[...a].reverse(),velocity:-s})),u.calculatedDuration===null&&(u.calculatedDuration=yw(u));const{calculatedDuration:l}=u;this.calculatedDuration=l,this.resolvedDuration=l+A,this.totalDuration=this.resolvedDuration*(n+1)-A,this.generator=u}updateTime(e){const t=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=t}tick(e,t=!1){const{generator:n,totalDuration:A,mixKeyframes:i,mirroredGenerator:s,resolvedDuration:a,calculatedDuration:o}=this;if(this.startTime===null)return n.next(0);const{delay:u=0,keyframes:l,repeat:h,repeatType:f,repeatDelay:d,type:g,onUpdate:m,finalKeyframe:C}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-A/this.speed,this.startTime)),t?this.currentTime=e:this.updateTime(e);const E=this.currentTime-u*(this.playbackSpeed>=0?1:-1),T=this.playbackSpeed>=0?E<0:E>A;this.currentTime=Math.max(E,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=A);let I=this.currentTime,b=n;if(h){const y=Math.min(this.currentTime,A)/a;let w=Math.floor(y),U=y%1;!U&&y>=1&&(U=1),U===1&&w--,w=Math.min(w,h+1),!!(w%2)&&(f==="reverse"?(U=1-U,d&&(U-=d/a)):f==="mirror"&&(b=s)),I=lA(0,1,U)*a}const P=T?{done:!1,value:l[0]}:b.next(I);i&&(P.value=i(P.value));let{done:Q}=P;!T&&o!==null&&(Q=this.playbackSpeed>=0?this.currentTime>=A:this.currentTime<=0);const v=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&Q);return v&&g!==Hm&&(P.value=ww(l,this.options,C,this.speed)),m&&m(P.value),v&&this.finish(),P}then(e,t){return this.finished.then(e,t)}get duration(){return Kr(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Kr(e)}get time(){return Kr(this.currentTime)}set time(e){e=In(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(Br.now());const t=this.playbackSpeed!==e;this.playbackSpeed=e,t&&(this.time=Kr(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=V3,startTime:t}=this.options;this.driver||(this.driver=e(A=>this.tick(A))),this.options.onPlay?.();const n=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=n):this.holdTime!==null?this.startTime=n-this.holdTime:this.startTime||(this.startTime=t??n),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Br.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),e.observe(this)}}function sG(r){for(let e=1;e<r.length;e++)r[e]??(r[e]=r[e-1])}const wi=r=>r*180/Math.PI,Vm=r=>{const e=wi(Math.atan2(r[1],r[0]));return Km(e)},aG={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:r=>(Math.abs(r[0])+Math.abs(r[3]))/2,rotate:Vm,rotateZ:Vm,skewX:r=>wi(Math.atan(r[1])),skewY:r=>wi(Math.atan(r[2])),skew:r=>(Math.abs(r[1])+Math.abs(r[2]))/2},Km=r=>(r=r%360,r<0&&(r+=360),r),$C=Vm,XC=r=>Math.sqrt(r[0]*r[0]+r[1]*r[1]),zC=r=>Math.sqrt(r[4]*r[4]+r[5]*r[5]),oG={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:XC,scaleY:zC,scale:r=>(XC(r)+zC(r))/2,rotateX:r=>Km(wi(Math.atan2(r[6],r[5]))),rotateY:r=>Km(wi(Math.atan2(-r[2],r[0]))),rotateZ:$C,rotate:$C,skewX:r=>wi(Math.atan(r[4])),skewY:r=>wi(Math.atan(r[1])),skew:r=>(Math.abs(r[1])+Math.abs(r[4]))/2};function Gm(r){return r.includes("scale")?1:0}function jm(r,e){if(!r||r==="none")return Gm(e);const t=r.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let n,A;if(t)n=oG,A=t;else{const a=r.match(/^matrix\(([-\d.e\s,]+)\)$/u);n=aG,A=a}if(!A)return Gm(e);const i=n[e],s=A[1].split(",").map(lG);return typeof i=="function"?i(s):s[i]}const uG=(r,e)=>{const{transform:t="none"}=getComputedStyle(r);return jm(t,e)};function lG(r){return parseFloat(r.trim())}const Gs=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],js=new Set(Gs),YC=r=>r===Ks||r===pe,cG=new Set(["x","y","z"]),hG=Gs.filter(r=>!cG.has(r));function fG(r){const e=[];return hG.forEach(t=>{const n=r.getValue(t);n!==void 0&&(e.push([t,n.get()]),n.set(t.startsWith("scale")?1:0))}),e}const _i={width:({x:r},{paddingLeft:e="0",paddingRight:t="0"})=>r.max-r.min-parseFloat(e)-parseFloat(t),height:({y:r},{paddingTop:e="0",paddingBottom:t="0"})=>r.max-r.min-parseFloat(e)-parseFloat(t),top:(r,{top:e})=>parseFloat(e),left:(r,{left:e})=>parseFloat(e),bottom:({y:r},{top:e})=>parseFloat(e)+(r.max-r.min),right:({x:r},{left:e})=>parseFloat(e)+(r.max-r.min),x:(r,{transform:e})=>jm(e,"x"),y:(r,{transform:e})=>jm(e,"y")};_i.translateX=_i.x;_i.translateY=_i.y;const Ti=new Set;let qm=!1,Wm=!1,$m=!1;function UR(){if(Wm){const r=Array.from(Ti).filter(n=>n.needsMeasurement),e=new Set(r.map(n=>n.element)),t=new Map;e.forEach(n=>{const A=fG(n);A.length&&(t.set(n,A),n.render())}),r.forEach(n=>n.measureInitialState()),e.forEach(n=>{n.render();const A=t.get(n);A&&A.forEach(([i,s])=>{n.getValue(i)?.set(s)})}),r.forEach(n=>n.measureEndState()),r.forEach(n=>{n.suspendedScrollY!==void 0&&window.scrollTo(0,n.suspendedScrollY)})}Wm=!1,qm=!1,Ti.forEach(r=>r.complete($m)),Ti.clear()}function FR(){Ti.forEach(r=>{r.readKeyframes(),r.needsMeasurement&&(Wm=!0)})}function dG(){$m=!0,FR(),UR(),$m=!1}class Ew{constructor(e,t,n,A,i,s=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=t,this.name=n,this.motionValue=A,this.element=i,this.isAsync=s}scheduleResolve(){this.state="scheduled",this.isAsync?(Ti.add(this),qm||(qm=!0,Ye.read(FR),Ye.resolveKeyframes(UR))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:t,element:n,motionValue:A}=this;if(e[0]===null){const i=A?.get(),s=e[e.length-1];if(i!==void 0)e[0]=i;else if(n&&t){const a=n.readValue(t,s);a!=null&&(e[0]=a)}e[0]===void 0&&(e[0]=s),A&&i===void 0&&A.set(e[0])}sG(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Ti.delete(this)}cancel(){this.state==="scheduled"&&(Ti.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const gG=r=>r.startsWith("--");function pG(r,e,t){gG(e)?r.style.setProperty(e,t):r.style[e]=t}const mG=lw(()=>window.ScrollTimeline!==void 0),vG={};function yG(r,e){const t=lw(r);return()=>vG[e]??t()}const SR=yG(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Pa=([r,e,t,n])=>`cubic-bezier(${r}, ${e}, ${t}, ${n})`,JC={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Pa([0,.65,.55,1]),circOut:Pa([.55,0,1,.45]),backIn:Pa([.31,.01,.66,-.59]),backOut:Pa([.33,1.53,.69,.99])};function QR(r,e){if(r)return typeof r=="function"?SR()?TR(r,e):"ease-out":gR(r)?Pa(r):Array.isArray(r)?r.map(t=>QR(t,e)||JC.easeOut):JC[r]}function wG(r,e,t,{delay:n=0,duration:A=300,repeat:i=0,repeatType:s="loop",ease:a="easeOut",times:o}={},u=void 0){const l={[e]:t};o&&(l.offset=o);const h=QR(a,A);Array.isArray(h)&&(l.easing=h);const f={delay:n,duration:A,easing:Array.isArray(h)?"linear":h,fill:"both",iterations:i+1,direction:s==="reverse"?"alternate":"normal"};return u&&(f.pseudoElement=u),r.animate(l,f)}function RR(r){return typeof r=="function"&&"applyToOptions"in r}function BG({type:r,...e}){return RR(r)&&SR()?r.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class CG extends Bw{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:t,name:n,keyframes:A,pseudoElement:i,allowFlatten:s=!1,finalKeyframe:a,onComplete:o}=e;this.isPseudoElement=!!i,this.allowFlatten=s,this.options=e,uw(typeof e.type!="string");const u=BG(e);this.animation=wG(t,n,A,u,i),u.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!i){const l=ww(A,this.options,a,this.speed);this.updateMotionValue?this.updateMotionValue(l):pG(t,n,l),this.animation.cancel()}o?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const e=this.animation.effect?.getComputedTiming?.().duration||0;return Kr(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Kr(e)}get time(){return Kr(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=In(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:t}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,e&&mG()?(this.animation.timeline=e,Wr):t(this)}}const xR={anticipate:cR,backInOut:lR,circInOut:fR};function EG(r){return r in xR}function _G(r){typeof r.ease=="string"&&EG(r.ease)&&(r.ease=xR[r.ease])}const ZC=10;class TG extends CG{constructor(e){_G(e),bR(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:t,onUpdate:n,onComplete:A,element:i,...s}=this.options;if(!t)return;if(e!==void 0){t.set(e);return}const a=new Cw({...s,autoplay:!1}),o=In(this.finishedTime??this.time);t.setWithVelocity(a.sample(o-ZC).value,a.sample(o).value,ZC),a.stop()}}const eE=(r,e)=>e==="zIndex"?!1:!!(typeof r=="number"||Array.isArray(r)||typeof r=="string"&&($A.test(r)||r==="0")&&!r.startsWith("url("));function IG(r){const e=r[0];if(r.length===1)return!0;for(let t=0;t<r.length;t++)if(r[t]!==e)return!0}function bG(r,e,t,n){const A=r[0];if(A===null)return!1;if(e==="display"||e==="visibility")return!0;const i=r[r.length-1],s=eE(A,e),a=eE(i,e);return!s||!a?!1:IG(r)||(t==="spring"||RR(t))&&n}function Xm(r){r.duration=0,r.type="keyframes"}const UG=new Set(["opacity","clipPath","filter","transform"]),FG=lw(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function SG(r){const{motionValue:e,name:t,repeatDelay:n,repeatType:A,damping:i,type:s}=r;if(!(e?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:o,transformTemplate:u}=e.owner.getProps();return FG()&&t&&UG.has(t)&&(t!=="transform"||!u)&&!o&&!n&&A!=="mirror"&&i!==0&&s!=="inertia"}const QG=40;class RG extends Bw{constructor({autoplay:e=!0,delay:t=0,type:n="keyframes",repeat:A=0,repeatDelay:i=0,repeatType:s="loop",keyframes:a,name:o,motionValue:u,element:l,...h}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=Br.now();const f={autoplay:e,delay:t,type:n,repeat:A,repeatDelay:i,repeatType:s,name:o,motionValue:u,element:l,...h},d=l?.KeyframeResolver||Ew;this.keyframeResolver=new d(a,(g,m,C)=>this.onKeyframesResolved(g,m,f,!C),o,u,l),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(e,t,n,A){this.keyframeResolver=void 0;const{name:i,type:s,velocity:a,delay:o,isHandoff:u,onUpdate:l}=n;this.resolvedAt=Br.now(),bG(e,i,s,a)||((cA.instantAnimations||!o)&&l?.(ww(e,n,t)),e[0]=e[e.length-1],Xm(n),n.repeat=0);const f={startTime:A?this.resolvedAt?this.resolvedAt-this.createdAt>QG?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:t,...n,keyframes:e},d=!u&&SG(f)?new TG({...f,element:f.motionValue.owner.current}):new Cw(f);d.finished.then(()=>this.notifyFinished()).catch(Wr),this.pendingTimeline&&(this.stopTimeline=d.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=d}get finished(){return this._animation?this.animation.finished:this._finished}then(e,t){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),dG()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const xG=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function PG(r){const e=xG.exec(r);if(!e)return[,];const[,t,n,A]=e;return[`--${t??n}`,A]}function PR(r,e,t=1){const[n,A]=PG(r);if(!n)return;const i=window.getComputedStyle(e).getPropertyValue(n);if(i){const s=i.trim();return rR(s)?parseFloat(s):s}return gw(A)?PR(A,e,t+1):A}function _w(r,e){return r?.[e]??r?.default??r}const OR=new Set(["width","height","top","left","right","bottom",...Gs]),OG={test:r=>r==="auto",parse:r=>r},DR=r=>e=>e.test(r),LR=[Ks,pe,bn,TA,I3,T3,OG],tE=r=>LR.find(DR(r));function DG(r){return typeof r=="number"?r===0:r!==null?r==="none"||r==="0"||AR(r):!0}const LG=new Set(["brightness","contrast","saturate","opacity"]);function MG(r){const[e,t]=r.slice(0,-1).split("(");if(e==="drop-shadow")return r;const[n]=t.match(pw)||[];if(!n)return r;const A=t.replace(n,"");let i=LG.has(e)?1:0;return n!==t&&(i*=100),e+"("+i+A+")"}const NG=/\b([a-z-]*)\(.*?\)/gu,zm={...$A,getAnimatableNone:r=>{const e=r.match(NG);return e?e.map(MG).join(" "):r}},rE={...Ks,transform:Math.round},kG={rotate:TA,rotateX:TA,rotateY:TA,rotateZ:TA,scale:Qu,scaleX:Qu,scaleY:Qu,scaleZ:Qu,skew:TA,skewX:TA,skewY:TA,distance:pe,translateX:pe,translateY:pe,translateZ:pe,x:pe,y:pe,z:pe,perspective:pe,transformPerspective:pe,opacity:yo,originX:KC,originY:KC,originZ:pe},Tw={borderWidth:pe,borderTopWidth:pe,borderRightWidth:pe,borderBottomWidth:pe,borderLeftWidth:pe,borderRadius:pe,radius:pe,borderTopLeftRadius:pe,borderTopRightRadius:pe,borderBottomRightRadius:pe,borderBottomLeftRadius:pe,width:pe,maxWidth:pe,height:pe,maxHeight:pe,top:pe,right:pe,bottom:pe,left:pe,padding:pe,paddingTop:pe,paddingRight:pe,paddingBottom:pe,paddingLeft:pe,margin:pe,marginTop:pe,marginRight:pe,marginBottom:pe,marginLeft:pe,backgroundPositionX:pe,backgroundPositionY:pe,...kG,zIndex:rE,fillOpacity:yo,strokeOpacity:yo,numOctaves:rE},HG={...Tw,color:Bt,backgroundColor:Bt,outlineColor:Bt,fill:Bt,stroke:Bt,borderColor:Bt,borderTopColor:Bt,borderRightColor:Bt,borderBottomColor:Bt,borderLeftColor:Bt,filter:zm,WebkitFilter:zm},MR=r=>HG[r];function NR(r,e){let t=MR(r);return t!==zm&&(t=$A),t.getAnimatableNone?t.getAnimatableNone(e):void 0}const VG=new Set(["auto","none","0"]);function KG(r,e,t){let n=0,A;for(;n<r.length&&!A;){const i=r[n];typeof i=="string"&&!VG.has(i)&&wo(i).values.length&&(A=r[n]),n++}if(A&&t)for(const i of e)r[i]=NR(t,A)}class GG extends Ew{constructor(e,t,n,A,i){super(e,t,n,A,i,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:t,name:n}=this;if(!t||!t.current)return;super.readKeyframes();for(let o=0;o<e.length;o++){let u=e[o];if(typeof u=="string"&&(u=u.trim(),gw(u))){const l=PR(u,t.current);l!==void 0&&(e[o]=l),o===e.length-1&&(this.finalKeyframe=u)}}if(this.resolveNoneKeyframes(),!OR.has(n)||e.length!==2)return;const[A,i]=e,s=tE(A),a=tE(i);if(s!==a)if(YC(s)&&YC(a))for(let o=0;o<e.length;o++){const u=e[o];typeof u=="string"&&(e[o]=parseFloat(u))}else _i[n]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:t}=this,n=[];for(let A=0;A<e.length;A++)(e[A]===null||DG(e[A]))&&n.push(A);n.length&&KG(e,n,t)}measureInitialState(){const{element:e,unresolvedKeyframes:t,name:n}=this;if(!e||!e.current)return;n==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=_i[n](e.measureViewportBox(),window.getComputedStyle(e.current)),t[0]=this.measuredOrigin;const A=t[t.length-1];A!==void 0&&e.getValue(n,A).jump(A,!1)}measureEndState(){const{element:e,name:t,unresolvedKeyframes:n}=this;if(!e||!e.current)return;const A=e.getValue(t);A&&A.jump(this.measuredOrigin,!1);const i=n.length-1,s=n[i];n[i]=_i[t](e.measureViewportBox(),window.getComputedStyle(e.current)),s!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=s),this.removedTransforms?.length&&this.removedTransforms.forEach(([a,o])=>{e.getValue(a).set(o)}),this.resolveNoneKeyframes()}}function jG(r,e,t){if(r instanceof EventTarget)return[r];if(typeof r=="string"){let n=document;const A=t?.[r]??n.querySelectorAll(r);return A?Array.from(A):[]}return Array.from(r)}const kR=(r,e)=>e&&typeof r=="number"?e.transform(r):r;function HR(r){return nR(r)&&"offsetHeight"in r}const nE=30,qG=r=>!isNaN(parseFloat(r));class WG{constructor(e,t={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=n=>{const A=Br.now();if(this.updatedAt!==A&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(n),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const i of this.dependents)i.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=t.owner}setCurrent(e){this.current=e,this.updatedAt=Br.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=qG(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new cw);const n=this.events[e].add(t);return e==="change"?()=>{n(),Ye.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,t,n){this.set(t),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-n}jump(e,t=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,t&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Br.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>nE)return 0;const t=Math.min(this.updatedAt-this.prevUpdatedAt,nE);return iR(parseFloat(this.current)-parseFloat(this.prevFrameValue),t)}start(e){return this.stop(),new Promise(t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Os(r,e){return new WG(r,e)}const{schedule:Iw}=pR(queueMicrotask,!1),on={x:!1,y:!1};function VR(){return on.x||on.y}function $G(r){return r==="x"||r==="y"?on[r]?null:(on[r]=!0,()=>{on[r]=!1}):on.x||on.y?null:(on.x=on.y=!0,()=>{on.x=on.y=!1})}function KR(r,e){const t=jG(r),n=new AbortController,A={passive:!0,...e,signal:n.signal};return[t,A,()=>n.abort()]}function AE(r){return!(r.pointerType==="touch"||VR())}function XG(r,e,t={}){const[n,A,i]=KR(r,t),s=a=>{if(!AE(a))return;const{target:o}=a,u=e(o,a);if(typeof u!="function"||!o)return;const l=h=>{AE(h)&&(u(h),o.removeEventListener("pointerleave",l))};o.addEventListener("pointerleave",l,A)};return n.forEach(a=>{a.addEventListener("pointerenter",s,A)}),i}const GR=(r,e)=>e?r===e?!0:GR(r,e.parentElement):!1,bw=r=>r.pointerType==="mouse"?typeof r.button!="number"||r.button<=0:r.isPrimary!==!1,zG=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function YG(r){return zG.has(r.tagName)||r.tabIndex!==-1}const bl=new WeakSet;function iE(r){return e=>{e.key==="Enter"&&r(e)}}function Af(r,e){r.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const JG=(r,e)=>{const t=r.currentTarget;if(!t)return;const n=iE(()=>{if(bl.has(t))return;Af(t,"down");const A=iE(()=>{Af(t,"up")}),i=()=>Af(t,"cancel");t.addEventListener("keyup",A,e),t.addEventListener("blur",i,e)});t.addEventListener("keydown",n,e),t.addEventListener("blur",()=>t.removeEventListener("keydown",n),e)};function sE(r){return bw(r)&&!VR()}function ZG(r,e,t={}){const[n,A,i]=KR(r,t),s=a=>{const o=a.currentTarget;if(!sE(a))return;bl.add(o);const u=e(o,a),l=(d,g)=>{window.removeEventListener("pointerup",h),window.removeEventListener("pointercancel",f),bl.has(o)&&bl.delete(o),sE(d)&&typeof u=="function"&&u(d,{success:g})},h=d=>{l(d,o===window||o===document||t.useGlobalTarget||GR(o,d.target))},f=d=>{l(d,!1)};window.addEventListener("pointerup",h,A),window.addEventListener("pointercancel",f,A)};return n.forEach(a=>{(t.useGlobalTarget?window:a).addEventListener("pointerdown",s,A),HR(a)&&(a.addEventListener("focus",u=>JG(u,A)),!YG(a)&&!a.hasAttribute("tabindex")&&(a.tabIndex=0))}),i}function jR(r){return nR(r)&&"ownerSVGElement"in r}function e5(r){return jR(r)&&r.tagName==="svg"}const sr=r=>!!(r&&r.getVelocity),t5=[...LR,Bt,$A],r5=r=>t5.find(DR(r)),Uw=oe.createContext({transformPagePoint:r=>r,isStatic:!1,reducedMotion:"never"});function aE(r,e){if(typeof r=="function")return r(e);r!=null&&(r.current=e)}function n5(...r){return e=>{let t=!1;const n=r.map(A=>{const i=aE(A,e);return!t&&typeof i=="function"&&(t=!0),i});if(t)return()=>{for(let A=0;A<n.length;A++){const i=n[A];typeof i=="function"?i():aE(r[A],null)}}}}function A5(...r){return oe.useCallback(n5(...r),r)}class i5 extends oe.Component{getSnapshotBeforeUpdate(e){const t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){const n=t.offsetParent,A=HR(n)&&n.offsetWidth||0,i=this.props.sizeRef.current;i.height=t.offsetHeight||0,i.width=t.offsetWidth||0,i.top=t.offsetTop,i.left=t.offsetLeft,i.right=A-i.width-i.left}return null}componentDidUpdate(){}render(){return this.props.children}}function s5({children:r,isPresent:e,anchorX:t,root:n}){const A=oe.useId(),i=oe.useRef(null),s=oe.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:a}=oe.useContext(Uw),o=A5(i,r?.ref);return oe.useInsertionEffect(()=>{const{width:u,height:l,top:h,left:f,right:d}=s.current;if(e||!i.current||!u||!l)return;const g=t==="left"?`left: ${f}`:`right: ${d}`;i.current.dataset.motionPopId=A;const m=document.createElement("style");a&&(m.nonce=a);const C=n??document.head;return C.appendChild(m),m.sheet&&m.sheet.insertRule(`
          [data-motion-pop-id="${A}"] {
            position: absolute !important;
            width: ${u}px !important;
            height: ${l}px !important;
            ${g}px !important;
            top: ${h}px !important;
          }
        `),()=>{C.contains(m)&&C.removeChild(m)}},[e]),eA.jsx(i5,{isPresent:e,childRef:i,sizeRef:s,children:oe.cloneElement(r,{ref:o})})}const a5=({children:r,initial:e,isPresent:t,onExitComplete:n,custom:A,presenceAffectsLayout:i,mode:s,anchorX:a,root:o})=>{const u=iw(o5),l=oe.useId();let h=!0,f=oe.useMemo(()=>(h=!1,{id:l,initial:e,isPresent:t,custom:A,onExitComplete:d=>{u.set(d,!0);for(const g of u.values())if(!g)return;n&&n()},register:d=>(u.set(d,!1),()=>u.delete(d))}),[t,u,n]);return i&&h&&(f={...f}),oe.useMemo(()=>{u.forEach((d,g)=>u.set(g,!1))},[t]),oe.useEffect(()=>{!t&&!u.size&&n&&n()},[t]),s==="popLayout"&&(r=eA.jsx(s5,{isPresent:t,anchorX:a,root:o,children:r})),eA.jsx(zc.Provider,{value:f,children:r})};function o5(){return new Map}function qR(r=!0){const e=oe.useContext(zc);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:n,register:A}=e,i=oe.useId();oe.useEffect(()=>{if(r)return A(i)},[r]);const s=oe.useCallback(()=>r&&n&&n(i),[i,n,r]);return!t&&n?[!1,s]:[!0]}const Ru=r=>r.key||"";function oE(r){const e=[];return oe.Children.forEach(r,t=>{oe.isValidElement(t)&&e.push(t)}),e}const yee=({children:r,custom:e,initial:t=!0,onExitComplete:n,presenceAffectsLayout:A=!0,mode:i="sync",propagate:s=!1,anchorX:a="left",root:o})=>{const[u,l]=qR(s),h=oe.useMemo(()=>oE(r),[r]),f=s&&!u?[]:h.map(Ru),d=oe.useRef(!0),g=oe.useRef(h),m=iw(()=>new Map),[C,E]=oe.useState(h),[T,I]=oe.useState(h);tR(()=>{d.current=!1,g.current=h;for(let Q=0;Q<T.length;Q++){const v=Ru(T[Q]);f.includes(v)?m.delete(v):m.get(v)!==!0&&m.set(v,!1)}},[T,f.length,f.join("-")]);const b=[];if(h!==C){let Q=[...h];for(let v=0;v<T.length;v++){const y=T[v],w=Ru(y);f.includes(w)||(Q.splice(v,0,y),b.push(y))}return i==="wait"&&b.length&&(Q=b),I(oE(Q)),E(h),null}const{forceRender:P}=oe.useContext(Aw);return eA.jsx(eA.Fragment,{children:T.map(Q=>{const v=Ru(Q),y=s&&!u?!1:h===T||f.includes(v),w=()=>{if(m.has(v))m.set(v,!0);else return;let U=!0;m.forEach(F=>{F||(U=!1)}),U&&(P?.(),I(g.current),s&&l?.(),n&&n())};return eA.jsx(a5,{isPresent:y,initial:!d.current||t?void 0:!1,custom:e,presenceAffectsLayout:A,mode:i,root:o,onExitComplete:y?void 0:w,anchorX:a,children:Q},v)})})},WR=oe.createContext({strict:!1}),uE={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Ds={};for(const r in uE)Ds[r]={isEnabled:e=>uE[r].some(t=>!!e[t])};function u5(r){for(const e in r)Ds[e]={...Ds[e],...r[e]}}const l5=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function oc(r){return r.startsWith("while")||r.startsWith("drag")&&r!=="draggable"||r.startsWith("layout")||r.startsWith("onTap")||r.startsWith("onPan")||r.startsWith("onLayout")||l5.has(r)}let $R=r=>!oc(r);function c5(r){typeof r=="function"&&($R=e=>e.startsWith("on")?!oc(e):r(e))}try{c5(require("@emotion/is-prop-valid").default)}catch{}function h5(r,e,t){const n={};for(const A in r)A==="values"&&typeof r.values=="object"||($R(A)||t===!0&&oc(A)||!e&&!oc(A)||r.draggable&&A.startsWith("onDrag"))&&(n[A]=r[A]);return n}const Yc=oe.createContext({});function Jc(r){return r!==null&&typeof r=="object"&&typeof r.start=="function"}function Bo(r){return typeof r=="string"||Array.isArray(r)}const Fw=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Sw=["initial",...Fw];function Zc(r){return Jc(r.animate)||Sw.some(e=>Bo(r[e]))}function XR(r){return!!(Zc(r)||r.variants)}function f5(r,e){if(Zc(r)){const{initial:t,animate:n}=r;return{initial:t===!1||Bo(t)?t:void 0,animate:Bo(n)?n:void 0}}return r.inherit!==!1?e:{}}function d5(r){const{initial:e,animate:t}=f5(r,oe.useContext(Yc));return oe.useMemo(()=>({initial:e,animate:t}),[lE(e),lE(t)])}function lE(r){return Array.isArray(r)?r.join(" "):r}const Co={};function g5(r){for(const e in r)Co[e]=r[e],dw(e)&&(Co[e].isCSSVariable=!0)}function zR(r,{layout:e,layoutId:t}){return js.has(r)||r.startsWith("origin")||(e||t!==void 0)&&(!!Co[r]||r==="opacity")}const p5={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},m5=Gs.length;function v5(r,e,t){let n="",A=!0;for(let i=0;i<m5;i++){const s=Gs[i],a=r[s];if(a===void 0)continue;let o=!0;if(typeof a=="number"?o=a===(s.startsWith("scale")?1:0):o=parseFloat(a)===0,!o||t){const u=kR(a,Tw[s]);if(!o){A=!1;const l=p5[s]||s;n+=`${l}(${u}) `}t&&(e[s]=u)}}return n=n.trim(),t?n=t(e,A?"":n):A&&(n="none"),n}function Qw(r,e,t){const{style:n,vars:A,transformOrigin:i}=r;let s=!1,a=!1;for(const o in e){const u=e[o];if(js.has(o)){s=!0;continue}else if(dw(o)){A[o]=u;continue}else{const l=kR(u,Tw[o]);o.startsWith("origin")?(a=!0,i[o]=l):n[o]=l}}if(e.transform||(s||t?n.transform=v5(e,r.transform,t):n.transform&&(n.transform="none")),a){const{originX:o="50%",originY:u="50%",originZ:l=0}=i;n.transformOrigin=`${o} ${u} ${l}`}}const Rw=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function YR(r,e,t){for(const n in e)!sr(e[n])&&!zR(n,t)&&(r[n]=e[n])}function y5({transformTemplate:r},e){return oe.useMemo(()=>{const t=Rw();return Qw(t,e,r),Object.assign({},t.vars,t.style)},[e])}function w5(r,e){const t=r.style||{},n={};return YR(n,t,r),Object.assign(n,y5(r,e)),n}function B5(r,e){const t={},n=w5(r,e);return r.drag&&r.dragListener!==!1&&(t.draggable=!1,n.userSelect=n.WebkitUserSelect=n.WebkitTouchCallout="none",n.touchAction=r.drag===!0?"none":`pan-${r.drag==="x"?"y":"x"}`),r.tabIndex===void 0&&(r.onTap||r.onTapStart||r.whileTap)&&(t.tabIndex=0),t.style=n,t}const C5={offset:"stroke-dashoffset",array:"stroke-dasharray"},E5={offset:"strokeDashoffset",array:"strokeDasharray"};function _5(r,e,t=1,n=0,A=!0){r.pathLength=1;const i=A?C5:E5;r[i.offset]=pe.transform(-n);const s=pe.transform(e),a=pe.transform(t);r[i.array]=`${s} ${a}`}function JR(r,{attrX:e,attrY:t,attrScale:n,pathLength:A,pathSpacing:i=1,pathOffset:s=0,...a},o,u,l){if(Qw(r,a,u),o){r.style.viewBox&&(r.attrs.viewBox=r.style.viewBox);return}r.attrs=r.style,r.style={};const{attrs:h,style:f}=r;h.transform&&(f.transform=h.transform,delete h.transform),(f.transform||h.transformOrigin)&&(f.transformOrigin=h.transformOrigin??"50% 50%",delete h.transformOrigin),f.transform&&(f.transformBox=l?.transformBox??"fill-box",delete h.transformBox),e!==void 0&&(h.x=e),t!==void 0&&(h.y=t),n!==void 0&&(h.scale=n),A!==void 0&&_5(h,A,i,s,!1)}const ZR=()=>({...Rw(),attrs:{}}),ex=r=>typeof r=="string"&&r.toLowerCase()==="svg";function T5(r,e,t,n){const A=oe.useMemo(()=>{const i=ZR();return JR(i,e,ex(n),r.transformTemplate,r.style),{...i.attrs,style:{...i.style}}},[e]);if(r.style){const i={};YR(i,r.style,r),A.style={...i,...A.style}}return A}const I5=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function xw(r){return typeof r!="string"||r.includes("-")?!1:!!(I5.indexOf(r)>-1||/[A-Z]/u.test(r))}function b5(r,e,t,{latestValues:n},A,i=!1){const a=(xw(r)?T5:B5)(e,n,A,r),o=h5(e,typeof r=="string",i),u=r!==oe.Fragment?{...o,...a,ref:t}:{},{children:l}=e,h=oe.useMemo(()=>sr(l)?l.get():l,[l]);return oe.createElement(r,{...u,children:h})}function cE(r){const e=[{},{}];return r?.values.forEach((t,n)=>{e[0][n]=t.get(),e[1][n]=t.getVelocity()}),e}function Pw(r,e,t,n){if(typeof e=="function"){const[A,i]=cE(n);e=e(t!==void 0?t:r.custom,A,i)}if(typeof e=="string"&&(e=r.variants&&r.variants[e]),typeof e=="function"){const[A,i]=cE(n);e=e(t!==void 0?t:r.custom,A,i)}return e}function Ul(r){return sr(r)?r.get():r}function U5({scrapeMotionValuesFromProps:r,createRenderState:e},t,n,A){return{latestValues:F5(t,n,A,r),renderState:e()}}function F5(r,e,t,n){const A={},i=n(r,{});for(const f in i)A[f]=Ul(i[f]);let{initial:s,animate:a}=r;const o=Zc(r),u=XR(r);e&&u&&!o&&r.inherit!==!1&&(s===void 0&&(s=e.initial),a===void 0&&(a=e.animate));let l=t?t.initial===!1:!1;l=l||s===!1;const h=l?a:s;if(h&&typeof h!="boolean"&&!Jc(h)){const f=Array.isArray(h)?h:[h];for(let d=0;d<f.length;d++){const g=Pw(r,f[d]);if(g){const{transitionEnd:m,transition:C,...E}=g;for(const T in E){let I=E[T];if(Array.isArray(I)){const b=l?I.length-1:0;I=I[b]}I!==null&&(A[T]=I)}for(const T in m)A[T]=m[T]}}}return A}const tx=r=>(e,t)=>{const n=oe.useContext(Yc),A=oe.useContext(zc),i=()=>U5(r,e,n,A);return t?i():iw(i)};function Ow(r,e,t){const{style:n}=r,A={};for(const i in n)(sr(n[i])||e.style&&sr(e.style[i])||zR(i,r)||t?.getValue(i)?.liveStyle!==void 0)&&(A[i]=n[i]);return A}const S5=tx({scrapeMotionValuesFromProps:Ow,createRenderState:Rw});function rx(r,e,t){const n=Ow(r,e,t);for(const A in r)if(sr(r[A])||sr(e[A])){const i=Gs.indexOf(A)!==-1?"attr"+A.charAt(0).toUpperCase()+A.substring(1):A;n[i]=r[A]}return n}const Q5=tx({scrapeMotionValuesFromProps:rx,createRenderState:ZR}),R5=Symbol.for("motionComponentSymbol");function gs(r){return r&&typeof r=="object"&&Object.prototype.hasOwnProperty.call(r,"current")}function x5(r,e,t){return oe.useCallback(n=>{n&&r.onMount&&r.onMount(n),e&&(n?e.mount(n):e.unmount()),t&&(typeof t=="function"?t(n):gs(t)&&(t.current=n))},[e])}const Dw=r=>r.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),P5="framerAppearId",nx="data-"+Dw(P5),Ax=oe.createContext({});function O5(r,e,t,n,A){const{visualElement:i}=oe.useContext(Yc),s=oe.useContext(WR),a=oe.useContext(zc),o=oe.useContext(Uw).reducedMotion,u=oe.useRef(null);n=n||s.renderer,!u.current&&n&&(u.current=n(r,{visualState:e,parent:i,props:t,presenceContext:a,blockInitialAnimation:a?a.initial===!1:!1,reducedMotionConfig:o}));const l=u.current,h=oe.useContext(Ax);l&&!l.projection&&A&&(l.type==="html"||l.type==="svg")&&D5(u.current,t,A,h);const f=oe.useRef(!1);oe.useInsertionEffect(()=>{l&&f.current&&l.update(t,a)});const d=t[nx],g=oe.useRef(!!d&&!window.MotionHandoffIsComplete?.(d)&&window.MotionHasOptimisedAnimation?.(d));return tR(()=>{l&&(f.current=!0,window.MotionIsMounted=!0,l.updateFeatures(),l.scheduleRenderMicrotask(),g.current&&l.animationState&&l.animationState.animateChanges())}),oe.useEffect(()=>{l&&(!g.current&&l.animationState&&l.animationState.animateChanges(),g.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(d)}),g.current=!1),l.enteringChildren=void 0)}),l}function D5(r,e,t,n){const{layoutId:A,layout:i,drag:s,dragConstraints:a,layoutScroll:o,layoutRoot:u,layoutCrossfade:l}=e;r.projection=new t(r.latestValues,e["data-framer-portal-id"]?void 0:ix(r.parent)),r.projection.setOptions({layoutId:A,layout:i,alwaysMeasureLayout:!!s||a&&gs(a),visualElement:r,animationType:typeof i=="string"?i:"both",initialPromotionConfig:n,crossfade:l,layoutScroll:o,layoutRoot:u})}function ix(r){if(r)return r.options.allowProjection!==!1?r.projection:ix(r.parent)}function sf(r,{forwardMotionProps:e=!1}={},t,n){t&&u5(t);const A=xw(r)?Q5:S5;function i(a,o){let u;const l={...oe.useContext(Uw),...a,layoutId:L5(a)},{isStatic:h}=l,f=d5(a),d=A(a,h);if(!h&&sw){M5();const g=N5(l);u=g.MeasureLayout,f.visualElement=O5(r,d,l,n,g.ProjectionNode)}return eA.jsxs(Yc.Provider,{value:f,children:[u&&f.visualElement?eA.jsx(u,{visualElement:f.visualElement,...l}):null,b5(r,a,x5(d,f.visualElement,o),d,h,e)]})}i.displayName=`motion.${typeof r=="string"?r:`create(${r.displayName??r.name??""})`}`;const s=oe.forwardRef(i);return s[R5]=r,s}function L5({layoutId:r}){const e=oe.useContext(Aw).id;return e&&r!==void 0?e+"-"+r:r}function M5(r,e){oe.useContext(WR).strict}function N5(r){const{drag:e,layout:t}=Ds;if(!e&&!t)return{};const n={...e,...t};return{MeasureLayout:e?.isEnabled(r)||t?.isEnabled(r)?n.MeasureLayout:void 0,ProjectionNode:n.ProjectionNode}}function k5(r,e){if(typeof Proxy>"u")return sf;const t=new Map,n=(i,s)=>sf(i,s,r,e),A=(i,s)=>n(i,s);return new Proxy(A,{get:(i,s)=>s==="create"?n:(t.has(s)||t.set(s,sf(s,void 0,r,e)),t.get(s))})}function sx({top:r,left:e,right:t,bottom:n}){return{x:{min:e,max:t},y:{min:r,max:n}}}function H5({x:r,y:e}){return{top:e.min,right:r.max,bottom:e.max,left:r.min}}function V5(r,e){if(!e)return r;const t=e({x:r.left,y:r.top}),n=e({x:r.right,y:r.bottom});return{top:t.y,left:t.x,bottom:n.y,right:n.x}}function af(r){return r===void 0||r===1}function Ym({scale:r,scaleX:e,scaleY:t}){return!af(r)||!af(e)||!af(t)}function hi(r){return Ym(r)||ax(r)||r.z||r.rotate||r.rotateX||r.rotateY||r.skewX||r.skewY}function ax(r){return hE(r.x)||hE(r.y)}function hE(r){return r&&r!=="0%"}function uc(r,e,t){const n=r-t,A=e*n;return t+A}function fE(r,e,t,n,A){return A!==void 0&&(r=uc(r,A,n)),uc(r,t,n)+e}function Jm(r,e=0,t=1,n,A){r.min=fE(r.min,e,t,n,A),r.max=fE(r.max,e,t,n,A)}function ox(r,{x:e,y:t}){Jm(r.x,e.translate,e.scale,e.originPoint),Jm(r.y,t.translate,t.scale,t.originPoint)}const dE=.999999999999,gE=1.0000000000001;function K5(r,e,t,n=!1){const A=t.length;if(!A)return;e.x=e.y=1;let i,s;for(let a=0;a<A;a++){i=t[a],s=i.projectionDelta;const{visualElement:o}=i.options;o&&o.props.style&&o.props.style.display==="contents"||(n&&i.options.layoutScroll&&i.scroll&&i!==i.root&&ms(r,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),s&&(e.x*=s.x.scale,e.y*=s.y.scale,ox(r,s)),n&&hi(i.latestValues)&&ms(r,i.latestValues))}e.x<gE&&e.x>dE&&(e.x=1),e.y<gE&&e.y>dE&&(e.y=1)}function ps(r,e){r.min=r.min+e,r.max=r.max+e}function pE(r,e,t,n,A=.5){const i=et(r.min,r.max,A);Jm(r,e,t,i,n)}function ms(r,e){pE(r.x,e.x,e.scaleX,e.scale,e.originX),pE(r.y,e.y,e.scaleY,e.scale,e.originY)}function ux(r,e){return sx(V5(r.getBoundingClientRect(),e))}function G5(r,e,t){const n=ux(r,t),{scroll:A}=e;return A&&(ps(n.x,A.offset.x),ps(n.y,A.offset.y)),n}const mE=()=>({translate:0,scale:1,origin:0,originPoint:0}),vs=()=>({x:mE(),y:mE()}),vE=()=>({min:0,max:0}),ft=()=>({x:vE(),y:vE()}),Zm={current:null},lx={current:!1};function j5(){if(lx.current=!0,!!sw)if(window.matchMedia){const r=window.matchMedia("(prefers-reduced-motion)"),e=()=>Zm.current=r.matches;r.addEventListener("change",e),e()}else Zm.current=!1}const q5=new WeakMap;function W5(r,e,t){for(const n in e){const A=e[n],i=t[n];if(sr(A))r.addValue(n,A);else if(sr(i))r.addValue(n,Os(A,{owner:r}));else if(i!==A)if(r.hasValue(n)){const s=r.getValue(n);s.liveStyle===!0?s.jump(A):s.hasAnimated||s.set(A)}else{const s=r.getStaticValue(n);r.addValue(n,Os(s!==void 0?s:A,{owner:r}))}}for(const n in t)e[n]===void 0&&r.removeValue(n);return e}const yE=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class $5{scrapeMotionValuesFromProps(e,t,n){return{}}constructor({parent:e,props:t,presenceContext:n,reducedMotionConfig:A,blockInitialAnimation:i,visualState:s},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Ew,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const f=Br.now();this.renderScheduledAt<f&&(this.renderScheduledAt=f,Ye.render(this.render,!1,!0))};const{latestValues:o,renderState:u}=s;this.latestValues=o,this.baseTarget={...o},this.initialValues=t.initial?{...o}:{},this.renderState=u,this.parent=e,this.props=t,this.presenceContext=n,this.depth=e?e.depth+1:0,this.reducedMotionConfig=A,this.options=a,this.blockInitialAnimation=!!i,this.isControllingVariants=Zc(t),this.isVariantNode=XR(t),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:l,...h}=this.scrapeMotionValuesFromProps(t,{},this);for(const f in h){const d=h[f];o[f]!==void 0&&sr(d)&&d.set(o[f])}}mount(e){this.current=e,q5.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((t,n)=>this.bindToMotionValue(n,t)),lx.current||j5(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Zm.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),WA(this.notifyUpdate),WA(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const t=this.features[e];t&&(t.unmount(),t.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,t){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const n=js.has(e);n&&this.onBindTransform&&this.onBindTransform();const A=t.on("change",s=>{this.latestValues[e]=s,this.props.onUpdate&&Ye.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let i;window.MotionCheckAppearSync&&(i=window.MotionCheckAppearSync(this,e,t)),this.valueSubscriptions.set(e,()=>{A(),i&&i(),t.owner&&t.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Ds){const t=Ds[e];if(!t)continue;const{isEnabled:n,Feature:A}=t;if(!this.features[e]&&A&&n(this.props)&&(this.features[e]=new A(this)),this.features[e]){const i=this.features[e];i.isMounted?i.update():(i.mount(),i.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):ft()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let n=0;n<yE.length;n++){const A=yE[n];this.propEventSubscriptions[A]&&(this.propEventSubscriptions[A](),delete this.propEventSubscriptions[A]);const i="on"+A,s=e[i];s&&(this.propEventSubscriptions[A]=this.on(A,s))}this.prevMotionValues=W5(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){const n=this.values.get(e);t!==n&&(n&&this.removeValue(e),this.bindToMotionValue(e,t),this.values.set(e,t),this.latestValues[e]=t.get())}removeValue(e){this.values.delete(e);const t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let n=this.values.get(e);return n===void 0&&t!==void 0&&(n=Os(t===null?void 0:t,{owner:this}),this.addValue(e,n)),n}readValue(e,t){let n=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return n!=null&&(typeof n=="string"&&(rR(n)||AR(n))?n=parseFloat(n):!r5(n)&&$A.test(t)&&(n=NR(e,t)),this.setBaseTarget(e,sr(n)?n.get():n)),sr(n)?n.get():n}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){const{initial:t}=this.props;let n;if(typeof t=="string"||typeof t=="object"){const i=Pw(this.props,t,this.presenceContext?.custom);i&&(n=i[e])}if(t&&n!==void 0)return n;const A=this.getBaseTargetFromProps(this.props,e);return A!==void 0&&!sr(A)?A:this.initialValues[e]!==void 0&&n===void 0?void 0:this.baseTarget[e]}on(e,t){return this.events[e]||(this.events[e]=new cw),this.events[e].add(t)}notify(e,...t){this.events[e]&&this.events[e].notify(...t)}scheduleRenderMicrotask(){Iw.render(this.render)}}class cx extends $5{constructor(){super(...arguments),this.KeyframeResolver=GG}sortInstanceNodePosition(e,t){return e.compareDocumentPosition(t)&2?1:-1}getBaseTargetFromProps(e,t){return e.style?e.style[t]:void 0}removeValueFromRenderState(e,{vars:t,style:n}){delete t[e],delete n[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;sr(e)&&(this.childSubscription=e.on("change",t=>{this.current&&(this.current.textContent=`${t}`)}))}}function hx(r,{style:e,vars:t},n,A){const i=r.style;let s;for(s in e)i[s]=e[s];A?.applyProjectionStyles(i,n);for(s in t)i.setProperty(s,t[s])}function X5(r){return window.getComputedStyle(r)}class z5 extends cx{constructor(){super(...arguments),this.type="html",this.renderInstance=hx}readValueFromInstance(e,t){if(js.has(t))return this.projection?.isProjecting?Gm(t):uG(e,t);{const n=X5(e),A=(dw(t)?n.getPropertyValue(t):n[t])||0;return typeof A=="string"?A.trim():A}}measureInstanceViewportBox(e,{transformPagePoint:t}){return ux(e,t)}build(e,t,n){Qw(e,t,n.transformTemplate)}scrapeMotionValuesFromProps(e,t,n){return Ow(e,t,n)}}const fx=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Y5(r,e,t,n){hx(r,e,void 0,n);for(const A in e.attrs)r.setAttribute(fx.has(A)?A:Dw(A),e.attrs[A])}class J5 extends cx{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=ft}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if(js.has(t)){const n=MR(t);return n&&n.default||0}return t=fx.has(t)?t:Dw(t),e.getAttribute(t)}scrapeMotionValuesFromProps(e,t,n){return rx(e,t,n)}build(e,t,n){JR(e,t,this.isSVGTag,n.transformTemplate,n.style)}renderInstance(e,t,n,A){Y5(e,t,n,A)}mount(e){this.isSVGTag=ex(e.tagName),super.mount(e)}}const Z5=(r,e)=>xw(r)?new J5(e):new z5(e,{allowProjection:r!==oe.Fragment});function Ts(r,e,t){const n=r.getProps();return Pw(n,e,t!==void 0?t:n.custom,r)}const ev=r=>Array.isArray(r);function e6(r,e,t){r.hasValue(e)?r.getValue(e).set(t):r.addValue(e,Os(t))}function t6(r){return ev(r)?r[r.length-1]||0:r}function r6(r,e){const t=Ts(r,e);let{transitionEnd:n={},transition:A={},...i}=t||{};i={...i,...n};for(const s in i){const a=t6(i[s]);e6(r,s,a)}}function n6(r){return!!(sr(r)&&r.add)}function tv(r,e){const t=r.getValue("willChange");if(n6(t))return t.add(e);if(!t&&cA.WillChange){const n=new cA.WillChange("auto");r.addValue("willChange",n),n.add(e)}}function dx(r){return r.props[nx]}const A6=r=>r!==null;function i6(r,{repeat:e,repeatType:t="loop"},n){const A=r.filter(A6),i=e&&t!=="loop"&&e%2===1?0:A.length-1;return A[i]}const s6={type:"spring",stiffness:500,damping:25,restSpeed:10},a6=r=>({type:"spring",stiffness:550,damping:r===0?2*Math.sqrt(550):30,restSpeed:10}),o6={type:"keyframes",duration:.8},u6={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},l6=(r,{keyframes:e})=>e.length>2?o6:js.has(r)?r.startsWith("scale")?a6(e[1]):s6:u6;function c6({when:r,delay:e,delayChildren:t,staggerChildren:n,staggerDirection:A,repeat:i,repeatType:s,repeatDelay:a,from:o,elapsed:u,...l}){return!!Object.keys(l).length}const Lw=(r,e,t,n={},A,i)=>s=>{const a=_w(n,r)||{},o=a.delay||n.delay||0;let{elapsed:u=0}=n;u=u-In(o);const l={keyframes:Array.isArray(t)?t:[null,t],ease:"easeOut",velocity:e.getVelocity(),...a,delay:-u,onUpdate:f=>{e.set(f),a.onUpdate&&a.onUpdate(f)},onComplete:()=>{s(),a.onComplete&&a.onComplete()},name:r,motionValue:e,element:i?void 0:A};c6(a)||Object.assign(l,l6(r,l)),l.duration&&(l.duration=In(l.duration)),l.repeatDelay&&(l.repeatDelay=In(l.repeatDelay)),l.from!==void 0&&(l.keyframes[0]=l.from);let h=!1;if((l.type===!1||l.duration===0&&!l.repeatDelay)&&(Xm(l),l.delay===0&&(h=!0)),(cA.instantAnimations||cA.skipAnimations)&&(h=!0,Xm(l),l.delay=0),l.allowFlatten=!a.type&&!a.ease,h&&!i&&e.get()!==void 0){const f=i6(l.keyframes,a);if(f!==void 0){Ye.update(()=>{l.onUpdate(f),l.onComplete()});return}}return a.isSync?new Cw(l):new RG(l)};function h6({protectedKeys:r,needsAnimating:e},t){const n=r.hasOwnProperty(t)&&e[t]!==!0;return e[t]=!1,n}function gx(r,e,{delay:t=0,transitionOverride:n,type:A}={}){let{transition:i=r.getDefaultTransition(),transitionEnd:s,...a}=e;n&&(i=n);const o=[],u=A&&r.animationState&&r.animationState.getState()[A];for(const l in a){const h=r.getValue(l,r.latestValues[l]??null),f=a[l];if(f===void 0||u&&h6(u,l))continue;const d={delay:t,..._w(i||{},l)},g=h.get();if(g!==void 0&&!h.isAnimating&&!Array.isArray(f)&&f===g&&!d.velocity)continue;let m=!1;if(window.MotionHandoffAnimation){const E=dx(r);if(E){const T=window.MotionHandoffAnimation(E,l,Ye);T!==null&&(d.startTime=T,m=!0)}}tv(r,l),h.start(Lw(l,h,f,r.shouldReduceMotion&&OR.has(l)?{type:!1}:d,r,m));const C=h.animation;C&&o.push(C)}return s&&Promise.all(o).then(()=>{Ye.update(()=>{s&&r6(r,s)})}),o}function px(r,e,t,n=0,A=1){const i=Array.from(r).sort((u,l)=>u.sortNodePosition(l)).indexOf(e),s=r.size,a=(s-1)*n;return typeof t=="function"?t(i,s):A===1?i*n:a-i*n}function rv(r,e,t={}){const n=Ts(r,e,t.type==="exit"?r.presenceContext?.custom:void 0);let{transition:A=r.getDefaultTransition()||{}}=n||{};t.transitionOverride&&(A=t.transitionOverride);const i=n?()=>Promise.all(gx(r,n,t)):()=>Promise.resolve(),s=r.variantChildren&&r.variantChildren.size?(o=0)=>{const{delayChildren:u=0,staggerChildren:l,staggerDirection:h}=A;return f6(r,e,o,u,l,h,t)}:()=>Promise.resolve(),{when:a}=A;if(a){const[o,u]=a==="beforeChildren"?[i,s]:[s,i];return o().then(()=>u())}else return Promise.all([i(),s(t.delay)])}function f6(r,e,t=0,n=0,A=0,i=1,s){const a=[];for(const o of r.variantChildren)o.notify("AnimationStart",e),a.push(rv(o,e,{...s,delay:t+(typeof n=="function"?0:n)+px(r.variantChildren,o,n,A,i)}).then(()=>o.notify("AnimationComplete",e)));return Promise.all(a)}function d6(r,e,t={}){r.notify("AnimationStart",e);let n;if(Array.isArray(e)){const A=e.map(i=>rv(r,i,t));n=Promise.all(A)}else if(typeof e=="string")n=rv(r,e,t);else{const A=typeof e=="function"?Ts(r,e,t.custom):e;n=Promise.all(gx(r,A,t))}return n.then(()=>{r.notify("AnimationComplete",e)})}function mx(r,e){if(!Array.isArray(e))return!1;const t=e.length;if(t!==r.length)return!1;for(let n=0;n<t;n++)if(e[n]!==r[n])return!1;return!0}const g6=Sw.length;function vx(r){if(!r)return;if(!r.isControllingVariants){const t=r.parent?vx(r.parent)||{}:{};return r.props.initial!==void 0&&(t.initial=r.props.initial),t}const e={};for(let t=0;t<g6;t++){const n=Sw[t],A=r.props[n];(Bo(A)||A===!1)&&(e[n]=A)}return e}const p6=[...Fw].reverse(),m6=Fw.length;function v6(r){return e=>Promise.all(e.map(({animation:t,options:n})=>d6(r,t,n)))}function y6(r){let e=v6(r),t=wE(),n=!0;const A=o=>(u,l)=>{const h=Ts(r,l,o==="exit"?r.presenceContext?.custom:void 0);if(h){const{transition:f,transitionEnd:d,...g}=h;u={...u,...g,...d}}return u};function i(o){e=o(r)}function s(o){const{props:u}=r,l=vx(r.parent)||{},h=[],f=new Set;let d={},g=1/0;for(let C=0;C<m6;C++){const E=p6[C],T=t[E],I=u[E]!==void 0?u[E]:l[E],b=Bo(I),P=E===o?T.isActive:null;P===!1&&(g=C);let Q=I===l[E]&&I!==u[E]&&b;if(Q&&n&&r.manuallyAnimateOnMount&&(Q=!1),T.protectedKeys={...d},!T.isActive&&P===null||!I&&!T.prevProp||Jc(I)||typeof I=="boolean")continue;const v=w6(T.prevProp,I);let y=v||E===o&&T.isActive&&!Q&&b||C>g&&b,w=!1;const U=Array.isArray(I)?I:[I];let F=U.reduce(A(E),{});P===!1&&(F={});const{prevResolvedValues:R={}}=T,S={...R,...F},L=k=>{y=!0,f.has(k)&&(w=!0,f.delete(k)),T.needsAnimating[k]=!0;const V=r.getValue(k);V&&(V.liveStyle=!1)};for(const k in S){const V=F[k],j=R[k];if(d.hasOwnProperty(k))continue;let $=!1;ev(V)&&ev(j)?$=!mx(V,j):$=V!==j,$?V!=null?L(k):f.add(k):V!==void 0&&f.has(k)?L(k):T.protectedKeys[k]=!0}T.prevProp=I,T.prevResolvedValues=F,T.isActive&&(d={...d,...F}),n&&r.blockInitialAnimation&&(y=!1);const q=Q&&v;y&&(!q||w)&&h.push(...U.map(k=>{const V={type:E};if(typeof k=="string"&&n&&!q&&r.manuallyAnimateOnMount&&r.parent){const{parent:j}=r,$=Ts(j,k);if(j.enteringChildren&&$){const{delayChildren:O}=$.transition||{};V.delay=px(j.enteringChildren,r,O)}}return{animation:k,options:V}}))}if(f.size){const C={};if(typeof u.initial!="boolean"){const E=Ts(r,Array.isArray(u.initial)?u.initial[0]:u.initial);E&&E.transition&&(C.transition=E.transition)}f.forEach(E=>{const T=r.getBaseTarget(E),I=r.getValue(E);I&&(I.liveStyle=!0),C[E]=T??null}),h.push({animation:C})}let m=!!h.length;return n&&(u.initial===!1||u.initial===u.animate)&&!r.manuallyAnimateOnMount&&(m=!1),n=!1,m?e(h):Promise.resolve()}function a(o,u){if(t[o].isActive===u)return Promise.resolve();r.variantChildren?.forEach(h=>h.animationState?.setActive(o,u)),t[o].isActive=u;const l=s(o);for(const h in t)t[h].protectedKeys={};return l}return{animateChanges:s,setActive:a,setAnimateFunction:i,getState:()=>t,reset:()=>{t=wE()}}}function w6(r,e){return typeof e=="string"?e!==r:Array.isArray(e)?!mx(e,r):!1}function ai(r=!1){return{isActive:r,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function wE(){return{animate:ai(!0),whileInView:ai(),whileHover:ai(),whileTap:ai(),whileDrag:ai(),whileFocus:ai(),exit:ai()}}class ei{constructor(e){this.isMounted=!1,this.node=e}update(){}}class B6 extends ei{constructor(e){super(e),e.animationState||(e.animationState=y6(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Jc(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let C6=0;class E6 extends ei{constructor(){super(...arguments),this.id=C6++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:t}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===n)return;const A=this.node.animationState.setActive("exit",!e);t&&!e&&A.then(()=>{t(this.id)})}mount(){const{register:e,onExitComplete:t}=this.node.presenceContext||{};t&&t(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const _6={animation:{Feature:B6},exit:{Feature:E6}};function Eo(r,e,t,n={passive:!0}){return r.addEventListener(e,t,n),()=>r.removeEventListener(e,t)}function $o(r){return{point:{x:r.pageX,y:r.pageY}}}const T6=r=>e=>bw(e)&&r(e,$o(e));function za(r,e,t,n){return Eo(r,e,T6(t),n)}const yx=1e-4,I6=1-yx,b6=1+yx,wx=.01,U6=0-wx,F6=0+wx;function hr(r){return r.max-r.min}function S6(r,e,t){return Math.abs(r-e)<=t}function BE(r,e,t,n=.5){r.origin=n,r.originPoint=et(e.min,e.max,r.origin),r.scale=hr(t)/hr(e),r.translate=et(t.min,t.max,r.origin)-r.originPoint,(r.scale>=I6&&r.scale<=b6||isNaN(r.scale))&&(r.scale=1),(r.translate>=U6&&r.translate<=F6||isNaN(r.translate))&&(r.translate=0)}function Ya(r,e,t,n){BE(r.x,e.x,t.x,n?n.originX:void 0),BE(r.y,e.y,t.y,n?n.originY:void 0)}function CE(r,e,t){r.min=t.min+e.min,r.max=r.min+hr(e)}function Q6(r,e,t){CE(r.x,e.x,t.x),CE(r.y,e.y,t.y)}function EE(r,e,t){r.min=e.min-t.min,r.max=r.min+hr(e)}function Ja(r,e,t){EE(r.x,e.x,t.x),EE(r.y,e.y,t.y)}function kr(r){return[r("x"),r("y")]}const Bx=({current:r})=>r?r.ownerDocument.defaultView:null,_E=(r,e)=>Math.abs(r-e);function R6(r,e){const t=_E(r.x,e.x),n=_E(r.y,e.y);return Math.sqrt(t**2+n**2)}class Cx{constructor(e,t,{transformPagePoint:n,contextWindow:A=window,dragSnapToOrigin:i=!1,distanceThreshold:s=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const f=uf(this.lastMoveEventInfo,this.history),d=this.startEvent!==null,g=R6(f.offset,{x:0,y:0})>=this.distanceThreshold;if(!d&&!g)return;const{point:m}=f,{timestamp:C}=Nt;this.history.push({...m,timestamp:C});const{onStart:E,onMove:T}=this.handlers;d||(E&&E(this.lastMoveEvent,f),this.startEvent=this.lastMoveEvent),T&&T(this.lastMoveEvent,f)},this.handlePointerMove=(f,d)=>{this.lastMoveEvent=f,this.lastMoveEventInfo=of(d,this.transformPagePoint),Ye.update(this.updatePoint,!0)},this.handlePointerUp=(f,d)=>{this.end();const{onEnd:g,onSessionEnd:m,resumeAnimation:C}=this.handlers;if(this.dragSnapToOrigin&&C&&C(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const E=uf(f.type==="pointercancel"?this.lastMoveEventInfo:of(d,this.transformPagePoint),this.history);this.startEvent&&g&&g(f,E),m&&m(f,E)},!bw(e))return;this.dragSnapToOrigin=i,this.handlers=t,this.transformPagePoint=n,this.distanceThreshold=s,this.contextWindow=A||window;const a=$o(e),o=of(a,this.transformPagePoint),{point:u}=o,{timestamp:l}=Nt;this.history=[{...u,timestamp:l}];const{onSessionStart:h}=t;h&&h(e,uf(o,this.history)),this.removeListeners=jo(za(this.contextWindow,"pointermove",this.handlePointerMove),za(this.contextWindow,"pointerup",this.handlePointerUp),za(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),WA(this.updatePoint)}}function of(r,e){return e?{point:e(r.point)}:r}function TE(r,e){return{x:r.x-e.x,y:r.y-e.y}}function uf({point:r},e){return{point:r,delta:TE(r,Ex(e)),offset:TE(r,x6(e)),velocity:P6(e,.1)}}function x6(r){return r[0]}function Ex(r){return r[r.length-1]}function P6(r,e){if(r.length<2)return{x:0,y:0};let t=r.length-1,n=null;const A=Ex(r);for(;t>=0&&(n=r[t],!(A.timestamp-n.timestamp>In(e)));)t--;if(!n)return{x:0,y:0};const i=Kr(A.timestamp-n.timestamp);if(i===0)return{x:0,y:0};const s={x:(A.x-n.x)/i,y:(A.y-n.y)/i};return s.x===1/0&&(s.x=0),s.y===1/0&&(s.y=0),s}function O6(r,{min:e,max:t},n){return e!==void 0&&r<e?r=n?et(e,r,n.min):Math.max(r,e):t!==void 0&&r>t&&(r=n?et(t,r,n.max):Math.min(r,t)),r}function IE(r,e,t){return{min:e!==void 0?r.min+e:void 0,max:t!==void 0?r.max+t-(r.max-r.min):void 0}}function D6(r,{top:e,left:t,bottom:n,right:A}){return{x:IE(r.x,t,A),y:IE(r.y,e,n)}}function bE(r,e){let t=e.min-r.min,n=e.max-r.max;return e.max-e.min<r.max-r.min&&([t,n]=[n,t]),{min:t,max:n}}function L6(r,e){return{x:bE(r.x,e.x),y:bE(r.y,e.y)}}function M6(r,e){let t=.5;const n=hr(r),A=hr(e);return A>n?t=vo(e.min,e.max-n,r.min):n>A&&(t=vo(r.min,r.max-A,e.min)),lA(0,1,t)}function N6(r,e){const t={};return e.min!==void 0&&(t.min=e.min-r.min),e.max!==void 0&&(t.max=e.max-r.min),t}const nv=.35;function k6(r=nv){return r===!1?r=0:r===!0&&(r=nv),{x:UE(r,"left","right"),y:UE(r,"top","bottom")}}function UE(r,e,t){return{min:FE(r,e),max:FE(r,t)}}function FE(r,e){return typeof r=="number"?r:r[e]||0}const H6=new WeakMap;class V6{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=ft(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:t=!1,distanceThreshold:n}={}){const{presenceContext:A}=this.visualElement;if(A&&A.isPresent===!1)return;const i=h=>{const{dragSnapToOrigin:f}=this.getProps();f?this.pauseAnimation():this.stopAnimation(),t&&this.snapToCursor($o(h).point)},s=(h,f)=>{const{drag:d,dragPropagation:g,onDragStart:m}=this.getProps();if(d&&!g&&(this.openDragLock&&this.openDragLock(),this.openDragLock=$G(d),!this.openDragLock))return;this.latestPointerEvent=h,this.latestPanInfo=f,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),kr(E=>{let T=this.getAxisMotionValue(E).get()||0;if(bn.test(T)){const{projection:I}=this.visualElement;if(I&&I.layout){const b=I.layout.layoutBox[E];b&&(T=hr(b)*(parseFloat(T)/100))}}this.originPoint[E]=T}),m&&Ye.postRender(()=>m(h,f)),tv(this.visualElement,"transform");const{animationState:C}=this.visualElement;C&&C.setActive("whileDrag",!0)},a=(h,f)=>{this.latestPointerEvent=h,this.latestPanInfo=f;const{dragPropagation:d,dragDirectionLock:g,onDirectionLock:m,onDrag:C}=this.getProps();if(!d&&!this.openDragLock)return;const{offset:E}=f;if(g&&this.currentDirection===null){this.currentDirection=K6(E),this.currentDirection!==null&&m&&m(this.currentDirection);return}this.updateAxis("x",f.point,E),this.updateAxis("y",f.point,E),this.visualElement.render(),C&&C(h,f)},o=(h,f)=>{this.latestPointerEvent=h,this.latestPanInfo=f,this.stop(h,f),this.latestPointerEvent=null,this.latestPanInfo=null},u=()=>kr(h=>this.getAnimationState(h)==="paused"&&this.getAxisMotionValue(h).animation?.play()),{dragSnapToOrigin:l}=this.getProps();this.panSession=new Cx(e,{onSessionStart:i,onStart:s,onMove:a,onSessionEnd:o,resumeAnimation:u},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:l,distanceThreshold:n,contextWindow:Bx(this.visualElement)})}stop(e,t){const n=e||this.latestPointerEvent,A=t||this.latestPanInfo,i=this.isDragging;if(this.cancel(),!i||!A||!n)return;const{velocity:s}=A;this.startAnimation(s);const{onDragEnd:a}=this.getProps();a&&Ye.postRender(()=>a(n,A))}cancel(){this.isDragging=!1;const{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),t&&t.setActive("whileDrag",!1)}updateAxis(e,t,n){const{drag:A}=this.getProps();if(!n||!xu(e,A,this.currentDirection))return;const i=this.getAxisMotionValue(e);let s=this.originPoint[e]+n[e];this.constraints&&this.constraints[e]&&(s=O6(s,this.constraints[e],this.elastic[e])),i.set(s)}resolveConstraints(){const{dragConstraints:e,dragElastic:t}=this.getProps(),n=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,A=this.constraints;e&&gs(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&n?this.constraints=D6(n.layoutBox,e):this.constraints=!1,this.elastic=k6(t),A!==this.constraints&&n&&this.constraints&&!this.hasMutatedConstraints&&kr(i=>{this.constraints!==!1&&this.getAxisMotionValue(i)&&(this.constraints[i]=N6(n.layoutBox[i],this.constraints[i]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:t}=this.getProps();if(!e||!gs(e))return!1;const n=e.current,{projection:A}=this.visualElement;if(!A||!A.layout)return!1;const i=G5(n,A.root,this.visualElement.getTransformPagePoint());let s=L6(A.layout.layoutBox,i);if(t){const a=t(H5(s));this.hasMutatedConstraints=!!a,a&&(s=sx(a))}return s}startAnimation(e){const{drag:t,dragMomentum:n,dragElastic:A,dragTransition:i,dragSnapToOrigin:s,onDragTransitionEnd:a}=this.getProps(),o=this.constraints||{},u=kr(l=>{if(!xu(l,t,this.currentDirection))return;let h=o&&o[l]||{};s&&(h={min:0,max:0});const f=A?200:1e6,d=A?40:1e7,g={type:"inertia",velocity:n?e[l]:0,bounceStiffness:f,bounceDamping:d,timeConstant:750,restDelta:1,restSpeed:10,...i,...h};return this.startAxisValueAnimation(l,g)});return Promise.all(u).then(a)}startAxisValueAnimation(e,t){const n=this.getAxisMotionValue(e);return tv(this.visualElement,e),n.start(Lw(e,n,0,t,this.visualElement,!1))}stopAnimation(){kr(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){kr(e=>this.getAxisMotionValue(e).animation?.pause())}getAnimationState(e){return this.getAxisMotionValue(e).animation?.state}getAxisMotionValue(e){const t=`_drag${e.toUpperCase()}`,n=this.visualElement.getProps(),A=n[t];return A||this.visualElement.getValue(e,(n.initial?n.initial[e]:void 0)||0)}snapToCursor(e){kr(t=>{const{drag:n}=this.getProps();if(!xu(t,n,this.currentDirection))return;const{projection:A}=this.visualElement,i=this.getAxisMotionValue(t);if(A&&A.layout){const{min:s,max:a}=A.layout.layoutBox[t];i.set(e[t]-et(s,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:t}=this.getProps(),{projection:n}=this.visualElement;if(!gs(t)||!n||!this.constraints)return;this.stopAnimation();const A={x:0,y:0};kr(s=>{const a=this.getAxisMotionValue(s);if(a&&this.constraints!==!1){const o=a.get();A[s]=M6({min:o,max:o},this.constraints[s])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),kr(s=>{if(!xu(s,e,null))return;const a=this.getAxisMotionValue(s),{min:o,max:u}=this.constraints[s];a.set(et(o,u,A[s]))})}addListeners(){if(!this.visualElement.current)return;H6.set(this.visualElement,this);const e=this.visualElement.current,t=za(e,"pointerdown",o=>{const{drag:u,dragListener:l=!0}=this.getProps();u&&l&&this.start(o)}),n=()=>{const{dragConstraints:o}=this.getProps();gs(o)&&o.current&&(this.constraints=this.resolveRefConstraints())},{projection:A}=this.visualElement,i=A.addEventListener("measure",n);A&&!A.layout&&(A.root&&A.root.updateScroll(),A.updateLayout()),Ye.read(n);const s=Eo(window,"resize",()=>this.scalePositionWithinConstraints()),a=A.addEventListener("didUpdate",(({delta:o,hasLayoutChanged:u})=>{this.isDragging&&u&&(kr(l=>{const h=this.getAxisMotionValue(l);h&&(this.originPoint[l]+=o[l].translate,h.set(h.get()+o[l].translate))}),this.visualElement.render())}));return()=>{s(),t(),i(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:n=!1,dragPropagation:A=!1,dragConstraints:i=!1,dragElastic:s=nv,dragMomentum:a=!0}=e;return{...e,drag:t,dragDirectionLock:n,dragPropagation:A,dragConstraints:i,dragElastic:s,dragMomentum:a}}}function xu(r,e,t){return(e===!0||e===r)&&(t===null||t===r)}function K6(r,e=10){let t=null;return Math.abs(r.y)>e?t="y":Math.abs(r.x)>e&&(t="x"),t}class G6 extends ei{constructor(e){super(e),this.removeGroupControls=Wr,this.removeListeners=Wr,this.controls=new V6(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Wr}unmount(){this.removeGroupControls(),this.removeListeners()}}const SE=r=>(e,t)=>{r&&Ye.postRender(()=>r(e,t))};class j6 extends ei{constructor(){super(...arguments),this.removePointerDownListener=Wr}onPointerDown(e){this.session=new Cx(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:Bx(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:t,onPan:n,onPanEnd:A}=this.node.getProps();return{onSessionStart:SE(e),onStart:SE(t),onMove:n,onEnd:(i,s)=>{delete this.session,A&&Ye.postRender(()=>A(i,s))}}}mount(){this.removePointerDownListener=za(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Fl={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function QE(r,e){return e.max===e.min?0:r/(e.max-e.min)*100}const ca={correct:(r,e)=>{if(!e.target)return r;if(typeof r=="string")if(pe.test(r))r=parseFloat(r);else return r;const t=QE(r,e.target.x),n=QE(r,e.target.y);return`${t}% ${n}%`}},q6={correct:(r,{treeScale:e,projectionDelta:t})=>{const n=r,A=$A.parse(r);if(A.length>5)return n;const i=$A.createTransformer(r),s=typeof A[0]!="number"?1:0,a=t.x.scale*e.x,o=t.y.scale*e.y;A[0+s]/=a,A[1+s]/=o;const u=et(a,o,.5);return typeof A[2+s]=="number"&&(A[2+s]/=u),typeof A[3+s]=="number"&&(A[3+s]/=u),i(A)}};let lf=!1;class W6 extends oe.Component{componentDidMount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:n,layoutId:A}=this.props,{projection:i}=e;g5($6),i&&(t.group&&t.group.add(i),n&&n.register&&A&&n.register(i),lf&&i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),Fl.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:t,visualElement:n,drag:A,isPresent:i}=this.props,{projection:s}=n;return s&&(s.isPresent=i,lf=!0,A||e.layoutDependency!==t||t===void 0||e.isPresent!==i?s.willUpdate():this.safeToRemove(),e.isPresent!==i&&(i?s.promote():s.relegate()||Ye.postRender(()=>{const a=s.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),Iw.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:n}=this.props,{projection:A}=e;lf=!0,A&&(A.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(A),n&&n.deregister&&n.deregister(A))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function _x(r){const[e,t]=qR(),n=oe.useContext(Aw);return eA.jsx(W6,{...r,layoutGroup:n,switchLayoutGroup:oe.useContext(Ax),isPresent:e,safeToRemove:t})}const $6={borderRadius:{...ca,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:ca,borderTopRightRadius:ca,borderBottomLeftRadius:ca,borderBottomRightRadius:ca,boxShadow:q6};function X6(r,e,t){const n=sr(r)?r:Os(r);return n.start(Lw("",n,e,t)),n.animation}const z6=(r,e)=>r.depth-e.depth;class Y6{constructor(){this.children=[],this.isDirty=!1}add(e){aw(this.children,e),this.isDirty=!0}remove(e){ow(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(z6),this.isDirty=!1,this.children.forEach(e)}}function J6(r,e){const t=Br.now(),n=({timestamp:A})=>{const i=A-t;i>=e&&(WA(n),r(i-e))};return Ye.setup(n,!0),()=>WA(n)}const Tx=["TopLeft","TopRight","BottomLeft","BottomRight"],Z6=Tx.length,RE=r=>typeof r=="string"?parseFloat(r):r,xE=r=>typeof r=="number"||pe.test(r);function ej(r,e,t,n,A,i){A?(r.opacity=et(0,t.opacity??1,tj(n)),r.opacityExit=et(e.opacity??1,0,rj(n))):i&&(r.opacity=et(e.opacity??1,t.opacity??1,n));for(let s=0;s<Z6;s++){const a=`border${Tx[s]}Radius`;let o=PE(e,a),u=PE(t,a);if(o===void 0&&u===void 0)continue;o||(o=0),u||(u=0),o===0||u===0||xE(o)===xE(u)?(r[a]=Math.max(et(RE(o),RE(u),n),0),(bn.test(u)||bn.test(o))&&(r[a]+="%")):r[a]=u}(e.rotate||t.rotate)&&(r.rotate=et(e.rotate||0,t.rotate||0,n))}function PE(r,e){return r[e]!==void 0?r[e]:r.borderRadius}const tj=Ix(0,.5,hR),rj=Ix(.5,.95,Wr);function Ix(r,e,t){return n=>n<r?0:n>e?1:t(vo(r,e,n))}function OE(r,e){r.min=e.min,r.max=e.max}function Nr(r,e){OE(r.x,e.x),OE(r.y,e.y)}function DE(r,e){r.translate=e.translate,r.scale=e.scale,r.originPoint=e.originPoint,r.origin=e.origin}function LE(r,e,t,n,A){return r-=e,r=uc(r,1/t,n),A!==void 0&&(r=uc(r,1/A,n)),r}function nj(r,e=0,t=1,n=.5,A,i=r,s=r){if(bn.test(e)&&(e=parseFloat(e),e=et(s.min,s.max,e/100)-s.min),typeof e!="number")return;let a=et(i.min,i.max,n);r===i&&(a-=e),r.min=LE(r.min,e,t,a,A),r.max=LE(r.max,e,t,a,A)}function ME(r,e,[t,n,A],i,s){nj(r,e[t],e[n],e[A],e.scale,i,s)}const Aj=["x","scaleX","originX"],ij=["y","scaleY","originY"];function NE(r,e,t,n){ME(r.x,e,Aj,t?t.x:void 0,n?n.x:void 0),ME(r.y,e,ij,t?t.y:void 0,n?n.y:void 0)}function kE(r){return r.translate===0&&r.scale===1}function bx(r){return kE(r.x)&&kE(r.y)}function HE(r,e){return r.min===e.min&&r.max===e.max}function sj(r,e){return HE(r.x,e.x)&&HE(r.y,e.y)}function VE(r,e){return Math.round(r.min)===Math.round(e.min)&&Math.round(r.max)===Math.round(e.max)}function Ux(r,e){return VE(r.x,e.x)&&VE(r.y,e.y)}function KE(r){return hr(r.x)/hr(r.y)}function GE(r,e){return r.translate===e.translate&&r.scale===e.scale&&r.originPoint===e.originPoint}class aj{constructor(){this.members=[]}add(e){aw(this.members,e),e.scheduleRender()}remove(e){if(ow(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const t=this.members[this.members.length-1];t&&this.promote(t)}}relegate(e){const t=this.members.findIndex(A=>e===A);if(t===0)return!1;let n;for(let A=t;A>=0;A--){const i=this.members[A];if(i.isPresent!==!1){n=i;break}}return n?(this.promote(n),!0):!1}promote(e,t){const n=this.lead;if(e!==n&&(this.prevLead=n,this.lead=e,e.show(),n)){n.instance&&n.scheduleRender(),e.scheduleRender(),e.resumeFrom=n,t&&(e.resumeFrom.preserveOpacity=!0),n.snapshot&&(e.snapshot=n.snapshot,e.snapshot.latestValues=n.animationValues||n.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:A}=e.options;A===!1&&n.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:t,resumingFrom:n}=e;t.onExitComplete&&t.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function oj(r,e,t){let n="";const A=r.x.translate/e.x,i=r.y.translate/e.y,s=t?.z||0;if((A||i||s)&&(n=`translate3d(${A}px, ${i}px, ${s}px) `),(e.x!==1||e.y!==1)&&(n+=`scale(${1/e.x}, ${1/e.y}) `),t){const{transformPerspective:u,rotate:l,rotateX:h,rotateY:f,skewX:d,skewY:g}=t;u&&(n=`perspective(${u}px) ${n}`),l&&(n+=`rotate(${l}deg) `),h&&(n+=`rotateX(${h}deg) `),f&&(n+=`rotateY(${f}deg) `),d&&(n+=`skewX(${d}deg) `),g&&(n+=`skewY(${g}deg) `)}const a=r.x.scale*e.x,o=r.y.scale*e.y;return(a!==1||o!==1)&&(n+=`scale(${a}, ${o})`),n||"none"}const cf=["","X","Y","Z"],uj=1e3;let lj=0;function hf(r,e,t,n){const{latestValues:A}=e;A[r]&&(t[r]=A[r],e.setStaticValue(r,0),n&&(n[r]=0))}function Fx(r){if(r.hasCheckedOptimisedAppear=!0,r.root===r)return;const{visualElement:e}=r.options;if(!e)return;const t=dx(e);if(window.MotionHasOptimisedAnimation(t,"transform")){const{layout:A,layoutId:i}=r.options;window.MotionCancelOptimisedAnimation(t,"transform",Ye,!(A||i))}const{parent:n}=r;n&&!n.hasCheckedOptimisedAppear&&Fx(n)}function Sx({attachResizeListener:r,defaultParent:e,measureScroll:t,checkIsScrollRoot:n,resetTransform:A}){return class{constructor(s={},a=e?.()){this.id=lj++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(fj),this.nodes.forEach(mj),this.nodes.forEach(vj),this.nodes.forEach(dj)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=s,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let o=0;o<this.path.length;o++)this.path[o].shouldResetTransform=!0;this.root===this&&(this.nodes=new Y6)}addEventListener(s,a){return this.eventHandlers.has(s)||this.eventHandlers.set(s,new cw),this.eventHandlers.get(s).add(a)}notifyListeners(s,...a){const o=this.eventHandlers.get(s);o&&o.notify(...a)}hasListeners(s){return this.eventHandlers.has(s)}mount(s){if(this.instance)return;this.isSVG=jR(s)&&!e5(s),this.instance=s;const{layoutId:a,layout:o,visualElement:u}=this.options;if(u&&!u.current&&u.mount(s),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(o||a)&&(this.isLayoutDirty=!0),r){let l,h=0;const f=()=>this.root.updateBlockedByResize=!1;Ye.read(()=>{h=window.innerWidth}),r(s,()=>{const d=window.innerWidth;d!==h&&(h=d,this.root.updateBlockedByResize=!0,l&&l(),l=J6(f,250),Fl.hasAnimatedSinceResize&&(Fl.hasAnimatedSinceResize=!1,this.nodes.forEach(WE)))})}a&&this.root.registerSharedNode(a,this),this.options.animate!==!1&&u&&(a||o)&&this.addEventListener("didUpdate",({delta:l,hasLayoutChanged:h,hasRelativeLayoutChanged:f,layout:d})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const g=this.options.transition||u.getDefaultTransition()||Ej,{onLayoutAnimationStart:m,onLayoutAnimationComplete:C}=u.getProps(),E=!this.targetLayout||!Ux(this.targetLayout,d),T=!h&&f;if(this.options.layoutRoot||this.resumeFrom||T||h&&(E||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const I={..._w(g,"layout"),onPlay:m,onComplete:C};(u.shouldReduceMotion||this.options.layoutRoot)&&(I.delay=0,I.type=!1),this.startAnimation(I),this.setAnimationOrigin(l,T)}else h||WE(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=d})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const s=this.getStack();s&&s.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),WA(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(yj),this.animationId++)}getTransformTemplate(){const{visualElement:s}=this.options;return s&&s.getProps().transformTemplate}willUpdate(s=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&Fx(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let l=0;l<this.path.length;l++){const h=this.path[l];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:a,layout:o}=this.options;if(a===void 0&&!o)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),s&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(jE);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(qE);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(pj),this.nodes.forEach(cj),this.nodes.forEach(hj)):this.nodes.forEach(qE),this.clearAllSnapshots();const a=Br.now();Nt.delta=lA(0,1e3/60,a-Nt.timestamp),Nt.timestamp=a,Nt.isProcessing=!0,Zh.update.process(Nt),Zh.preRender.process(Nt),Zh.render.process(Nt),Nt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Iw.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(gj),this.sharedNodes.forEach(wj)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Ye.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Ye.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!hr(this.snapshot.measuredBox.x)&&!hr(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let o=0;o<this.path.length;o++)this.path[o].updateScroll();const s=this.layout;this.layout=this.measure(!1),this.layoutCorrected=ft(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,s?s.layoutBox:void 0)}updateScroll(s="measure"){let a=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===s&&(a=!1),a&&this.instance){const o=n(this.instance);this.scroll={animationId:this.root.animationId,phase:s,isRoot:o,offset:t(this.instance),wasRoot:this.scroll?this.scroll.isRoot:o}}}resetTransform(){if(!A)return;const s=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,a=this.projectionDelta&&!bx(this.projectionDelta),o=this.getTransformTemplate(),u=o?o(this.latestValues,""):void 0,l=u!==this.prevTransformTemplateValue;s&&this.instance&&(a||hi(this.latestValues)||l)&&(A(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(s=!0){const a=this.measurePageBox();let o=this.removeElementScroll(a);return s&&(o=this.removeTransform(o)),_j(o),{animationId:this.root.animationId,measuredBox:a,layoutBox:o,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:s}=this.options;if(!s)return ft();const a=s.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(Tj))){const{scroll:u}=this.root;u&&(ps(a.x,u.offset.x),ps(a.y,u.offset.y))}return a}removeElementScroll(s){const a=ft();if(Nr(a,s),this.scroll?.wasRoot)return a;for(let o=0;o<this.path.length;o++){const u=this.path[o],{scroll:l,options:h}=u;u!==this.root&&l&&h.layoutScroll&&(l.wasRoot&&Nr(a,s),ps(a.x,l.offset.x),ps(a.y,l.offset.y))}return a}applyTransform(s,a=!1){const o=ft();Nr(o,s);for(let u=0;u<this.path.length;u++){const l=this.path[u];!a&&l.options.layoutScroll&&l.scroll&&l!==l.root&&ms(o,{x:-l.scroll.offset.x,y:-l.scroll.offset.y}),hi(l.latestValues)&&ms(o,l.latestValues)}return hi(this.latestValues)&&ms(o,this.latestValues),o}removeTransform(s){const a=ft();Nr(a,s);for(let o=0;o<this.path.length;o++){const u=this.path[o];if(!u.instance||!hi(u.latestValues))continue;Ym(u.latestValues)&&u.updateSnapshot();const l=ft(),h=u.measurePageBox();Nr(l,h),NE(a,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,l)}return hi(this.latestValues)&&NE(a,this.latestValues),a}setTargetDelta(s){this.targetDelta=s,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(s){this.options={...this.options,...s,crossfade:s.crossfade!==void 0?s.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Nt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(s=!1){const a=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=a.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=a.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=a.isSharedProjectionDirty);const o=!!this.resumingFrom||this!==a;if(!(s||o&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:l,layoutId:h}=this.options;if(!(!this.layout||!(l||h))){if(this.resolvedRelativeTargetAt=Nt.timestamp,!this.targetDelta&&!this.relativeTarget){const f=this.getClosestProjectingParent();f&&f.layout&&this.animationProgress!==1?(this.relativeParent=f,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ft(),this.relativeTargetOrigin=ft(),Ja(this.relativeTargetOrigin,this.layout.layoutBox,f.layout.layoutBox),Nr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=ft(),this.targetWithTransforms=ft()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),Q6(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Nr(this.target,this.layout.layoutBox),ox(this.target,this.targetDelta)):Nr(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const f=this.getClosestProjectingParent();f&&!!f.resumingFrom==!!this.resumingFrom&&!f.options.layoutScroll&&f.target&&this.animationProgress!==1?(this.relativeParent=f,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ft(),this.relativeTargetOrigin=ft(),Ja(this.relativeTargetOrigin,this.target,f.target),Nr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||Ym(this.parent.latestValues)||ax(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){const s=this.getLead(),a=!!this.resumingFrom||this!==s;let o=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(o=!1),a&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(o=!1),this.resolvedRelativeTargetAt===Nt.timestamp&&(o=!1),o)return;const{layout:u,layoutId:l}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||l))return;Nr(this.layoutCorrected,this.layout.layoutBox);const h=this.treeScale.x,f=this.treeScale.y;K5(this.layoutCorrected,this.treeScale,this.path,a),s.layout&&!s.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(s.target=s.layout.layoutBox,s.targetWithTransforms=ft());const{target:d}=s;if(!d){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(DE(this.prevProjectionDelta.x,this.projectionDelta.x),DE(this.prevProjectionDelta.y,this.projectionDelta.y)),Ya(this.projectionDelta,this.layoutCorrected,d,this.latestValues),(this.treeScale.x!==h||this.treeScale.y!==f||!GE(this.projectionDelta.x,this.prevProjectionDelta.x)||!GE(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",d))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(s=!0){if(this.options.visualElement?.scheduleRender(),s){const a=this.getStack();a&&a.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=vs(),this.projectionDelta=vs(),this.projectionDeltaWithTransform=vs()}setAnimationOrigin(s,a=!1){const o=this.snapshot,u=o?o.latestValues:{},l={...this.latestValues},h=vs();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const f=ft(),d=o?o.source:void 0,g=this.layout?this.layout.source:void 0,m=d!==g,C=this.getStack(),E=!C||C.members.length<=1,T=!!(m&&!E&&this.options.crossfade===!0&&!this.path.some(Cj));this.animationProgress=0;let I;this.mixTargetDelta=b=>{const P=b/1e3;$E(h.x,s.x,P),$E(h.y,s.y,P),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Ja(f,this.layout.layoutBox,this.relativeParent.layout.layoutBox),Bj(this.relativeTarget,this.relativeTargetOrigin,f,P),I&&sj(this.relativeTarget,I)&&(this.isProjectionDirty=!1),I||(I=ft()),Nr(I,this.relativeTarget)),m&&(this.animationValues=l,ej(l,u,this.latestValues,P,T,E)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=P},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(s){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(WA(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Ye.update(()=>{Fl.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Os(0)),this.currentAnimation=X6(this.motionValue,[0,1e3],{...s,velocity:0,isSync:!0,onUpdate:a=>{this.mixTargetDelta(a),s.onUpdate&&s.onUpdate(a)},onStop:()=>{},onComplete:()=>{s.onComplete&&s.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const s=this.getStack();s&&s.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(uj),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const s=this.getLead();let{targetWithTransforms:a,target:o,layout:u,latestValues:l}=s;if(!(!a||!o||!u)){if(this!==s&&this.layout&&u&&Qx(this.options.animationType,this.layout.layoutBox,u.layoutBox)){o=this.target||ft();const h=hr(this.layout.layoutBox.x);o.x.min=s.target.x.min,o.x.max=o.x.min+h;const f=hr(this.layout.layoutBox.y);o.y.min=s.target.y.min,o.y.max=o.y.min+f}Nr(a,o),ms(a,l),Ya(this.projectionDeltaWithTransform,this.layoutCorrected,a,l)}}registerSharedNode(s,a){this.sharedNodes.has(s)||this.sharedNodes.set(s,new aj),this.sharedNodes.get(s).add(a);const u=a.options.initialPromotionConfig;a.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(a):void 0})}isLead(){const s=this.getStack();return s?s.lead===this:!0}getLead(){const{layoutId:s}=this.options;return s?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:s}=this.options;return s?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:s}=this.options;if(s)return this.root.sharedNodes.get(s)}promote({needsReset:s,transition:a,preserveFollowOpacity:o}={}){const u=this.getStack();u&&u.promote(this,o),s&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const s=this.getStack();return s?s.relegate(this):!1}resetSkewAndRotation(){const{visualElement:s}=this.options;if(!s)return;let a=!1;const{latestValues:o}=s;if((o.z||o.rotate||o.rotateX||o.rotateY||o.rotateZ||o.skewX||o.skewY)&&(a=!0),!a)return;const u={};o.z&&hf("z",s,u,this.animationValues);for(let l=0;l<cf.length;l++)hf(`rotate${cf[l]}`,s,u,this.animationValues),hf(`skew${cf[l]}`,s,u,this.animationValues);s.render();for(const l in u)s.setStaticValue(l,u[l]),this.animationValues&&(this.animationValues[l]=u[l]);s.scheduleRender()}applyProjectionStyles(s,a){if(!this.instance||this.isSVG)return;if(!this.isVisible){s.visibility="hidden";return}const o=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,s.visibility="",s.opacity="",s.pointerEvents=Ul(a?.pointerEvents)||"",s.transform=o?o(this.latestValues,""):"none";return}const u=this.getLead();if(!this.projectionDelta||!this.layout||!u.target){this.options.layoutId&&(s.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,s.pointerEvents=Ul(a?.pointerEvents)||""),this.hasProjected&&!hi(this.latestValues)&&(s.transform=o?o({},""):"none",this.hasProjected=!1);return}s.visibility="";const l=u.animationValues||u.latestValues;this.applyTransformsToTarget();let h=oj(this.projectionDeltaWithTransform,this.treeScale,l);o&&(h=o(l,h)),s.transform=h;const{x:f,y:d}=this.projectionDelta;s.transformOrigin=`${f.origin*100}% ${d.origin*100}% 0`,u.animationValues?s.opacity=u===this?l.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:l.opacityExit:s.opacity=u===this?l.opacity!==void 0?l.opacity:"":l.opacityExit!==void 0?l.opacityExit:0;for(const g in Co){if(l[g]===void 0)continue;const{correct:m,applyTo:C,isCSSVariable:E}=Co[g],T=h==="none"?l[g]:m(l[g],u);if(C){const I=C.length;for(let b=0;b<I;b++)s[C[b]]=T}else E?this.options.visualElement.renderState.vars[g]=T:s[g]=T}this.options.layoutId&&(s.pointerEvents=u===this?Ul(a?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(s=>s.currentAnimation?.stop()),this.root.nodes.forEach(jE),this.root.sharedNodes.clear()}}}function cj(r){r.updateLayout()}function hj(r){const e=r.resumeFrom?.snapshot||r.snapshot;if(r.isLead()&&r.layout&&e&&r.hasListeners("didUpdate")){const{layoutBox:t,measuredBox:n}=r.layout,{animationType:A}=r.options,i=e.source!==r.layout.source;A==="size"?kr(l=>{const h=i?e.measuredBox[l]:e.layoutBox[l],f=hr(h);h.min=t[l].min,h.max=h.min+f}):Qx(A,e.layoutBox,t)&&kr(l=>{const h=i?e.measuredBox[l]:e.layoutBox[l],f=hr(t[l]);h.max=h.min+f,r.relativeTarget&&!r.currentAnimation&&(r.isProjectionDirty=!0,r.relativeTarget[l].max=r.relativeTarget[l].min+f)});const s=vs();Ya(s,t,e.layoutBox);const a=vs();i?Ya(a,r.applyTransform(n,!0),e.measuredBox):Ya(a,t,e.layoutBox);const o=!bx(s);let u=!1;if(!r.resumeFrom){const l=r.getClosestProjectingParent();if(l&&!l.resumeFrom){const{snapshot:h,layout:f}=l;if(h&&f){const d=ft();Ja(d,e.layoutBox,h.layoutBox);const g=ft();Ja(g,t,f.layoutBox),Ux(d,g)||(u=!0),l.options.layoutRoot&&(r.relativeTarget=g,r.relativeTargetOrigin=d,r.relativeParent=l)}}}r.notifyListeners("didUpdate",{layout:t,snapshot:e,delta:a,layoutDelta:s,hasLayoutChanged:o,hasRelativeLayoutChanged:u})}else if(r.isLead()){const{onExitComplete:t}=r.options;t&&t()}r.options.transition=void 0}function fj(r){r.parent&&(r.isProjecting()||(r.isProjectionDirty=r.parent.isProjectionDirty),r.isSharedProjectionDirty||(r.isSharedProjectionDirty=!!(r.isProjectionDirty||r.parent.isProjectionDirty||r.parent.isSharedProjectionDirty)),r.isTransformDirty||(r.isTransformDirty=r.parent.isTransformDirty))}function dj(r){r.isProjectionDirty=r.isSharedProjectionDirty=r.isTransformDirty=!1}function gj(r){r.clearSnapshot()}function jE(r){r.clearMeasurements()}function qE(r){r.isLayoutDirty=!1}function pj(r){const{visualElement:e}=r.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),r.resetTransform()}function WE(r){r.finishAnimation(),r.targetDelta=r.relativeTarget=r.target=void 0,r.isProjectionDirty=!0}function mj(r){r.resolveTargetDelta()}function vj(r){r.calcProjection()}function yj(r){r.resetSkewAndRotation()}function wj(r){r.removeLeadSnapshot()}function $E(r,e,t){r.translate=et(e.translate,0,t),r.scale=et(e.scale,1,t),r.origin=e.origin,r.originPoint=e.originPoint}function XE(r,e,t,n){r.min=et(e.min,t.min,n),r.max=et(e.max,t.max,n)}function Bj(r,e,t,n){XE(r.x,e.x,t.x,n),XE(r.y,e.y,t.y,n)}function Cj(r){return r.animationValues&&r.animationValues.opacityExit!==void 0}const Ej={duration:.45,ease:[.4,0,.1,1]},zE=r=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(r),YE=zE("applewebkit/")&&!zE("chrome/")?Math.round:Wr;function JE(r){r.min=YE(r.min),r.max=YE(r.max)}function _j(r){JE(r.x),JE(r.y)}function Qx(r,e,t){return r==="position"||r==="preserve-aspect"&&!S6(KE(e),KE(t),.2)}function Tj(r){return r!==r.root&&r.scroll?.wasRoot}const Ij=Sx({attachResizeListener:(r,e)=>Eo(r,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),ff={current:void 0},Rx=Sx({measureScroll:r=>({x:r.scrollLeft,y:r.scrollTop}),defaultParent:()=>{if(!ff.current){const r=new Ij({});r.mount(window),r.setOptions({layoutScroll:!0}),ff.current=r}return ff.current},resetTransform:(r,e)=>{r.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:r=>window.getComputedStyle(r).position==="fixed"}),bj={pan:{Feature:j6},drag:{Feature:G6,ProjectionNode:Rx,MeasureLayout:_x}};function ZE(r,e,t){const{props:n}=r;r.animationState&&n.whileHover&&r.animationState.setActive("whileHover",t==="Start");const A="onHover"+t,i=n[A];i&&Ye.postRender(()=>i(e,$o(e)))}class Uj extends ei{mount(){const{current:e}=this.node;e&&(this.unmount=XG(e,(t,n)=>(ZE(this.node,n,"Start"),A=>ZE(this.node,A,"End"))))}unmount(){}}class Fj extends ei{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=jo(Eo(this.node.current,"focus",()=>this.onFocus()),Eo(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function e_(r,e,t){const{props:n}=r;if(r.current instanceof HTMLButtonElement&&r.current.disabled)return;r.animationState&&n.whileTap&&r.animationState.setActive("whileTap",t==="Start");const A="onTap"+(t==="End"?"":t),i=n[A];i&&Ye.postRender(()=>i(e,$o(e)))}class Sj extends ei{mount(){const{current:e}=this.node;e&&(this.unmount=ZG(e,(t,n)=>(e_(this.node,n,"Start"),(A,{success:i})=>e_(this.node,A,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Av=new WeakMap,df=new WeakMap,Qj=r=>{const e=Av.get(r.target);e&&e(r)},Rj=r=>{r.forEach(Qj)};function xj({root:r,...e}){const t=r||document;df.has(t)||df.set(t,{});const n=df.get(t),A=JSON.stringify(e);return n[A]||(n[A]=new IntersectionObserver(Rj,{root:r,...e})),n[A]}function Pj(r,e,t){const n=xj(e);return Av.set(r,t),n.observe(r),()=>{Av.delete(r),n.unobserve(r)}}const Oj={some:0,all:1};class Dj extends ei{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:t,margin:n,amount:A="some",once:i}=e,s={root:t?t.current:void 0,rootMargin:n,threshold:typeof A=="number"?A:Oj[A]},a=o=>{const{isIntersecting:u}=o;if(this.isInView===u||(this.isInView=u,i&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:l,onViewportLeave:h}=this.node.getProps(),f=u?l:h;f&&f(o)};return Pj(this.node.current,s,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:t}=this.node;["amount","margin","root"].some(Lj(e,t))&&this.startObserver()}unmount(){}}function Lj({viewport:r={}},{viewport:e={}}={}){return t=>r[t]!==e[t]}const Mj={inView:{Feature:Dj},tap:{Feature:Sj},focus:{Feature:Fj},hover:{Feature:Uj}},Nj={layout:{ProjectionNode:Rx,MeasureLayout:_x}},kj={..._6,...Mj,...bj,...Nj},Bee=k5(kj,Z5);let Hj={data:""},Vj=r=>{if(typeof window=="object"){let e=(r?r.querySelector("#_goober"):window._goober)||Object.assign(document.createElement("style"),{innerHTML:" ",id:"_goober"});return e.nonce=window.__nonce__,e.parentNode||(r||document.head).appendChild(e),e.firstChild}return r||Hj},Kj=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,Gj=/\/\*[^]*?\*\/|  +/g,t_=/\n+/g,PA=(r,e)=>{let t="",n="",A="";for(let i in r){let s=r[i];i[0]=="@"?i[1]=="i"?t=i+" "+s+";":n+=i[1]=="f"?PA(s,i):i+"{"+PA(s,i[1]=="k"?"":e)+"}":typeof s=="object"?n+=PA(s,e?e.replace(/([^,])+/g,a=>i.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,o=>/&/.test(o)?o.replace(/&/g,a):a?a+" "+o:o)):i):s!=null&&(i=/^--/.test(i)?i:i.replace(/[A-Z]/g,"-$&").toLowerCase(),A+=PA.p?PA.p(i,s):i+":"+s+";")}return t+(e&&A?e+"{"+A+"}":A)+n},Vn={},xx=r=>{if(typeof r=="object"){let e="";for(let t in r)e+=t+xx(r[t]);return e}return r},jj=(r,e,t,n,A)=>{let i=xx(r),s=Vn[i]||(Vn[i]=(o=>{let u=0,l=11;for(;u<o.length;)l=101*l+o.charCodeAt(u++)>>>0;return"go"+l})(i));if(!Vn[s]){let o=i!==r?r:(u=>{let l,h,f=[{}];for(;l=Kj.exec(u.replace(Gj,""));)l[4]?f.shift():l[3]?(h=l[3].replace(t_," ").trim(),f.unshift(f[0][h]=f[0][h]||{})):f[0][l[1]]=l[2].replace(t_," ").trim();return f[0]})(r);Vn[s]=PA(A?{["@keyframes "+s]:o}:o,t?"":"."+s)}let a=t&&Vn.g?Vn.g:null;return t&&(Vn.g=Vn[s]),((o,u,l,h)=>{h?u.data=u.data.replace(h,o):u.data.indexOf(o)===-1&&(u.data=l?o+u.data:u.data+o)})(Vn[s],e,n,a),s},qj=(r,e,t)=>r.reduce((n,A,i)=>{let s=e[i];if(s&&s.call){let a=s(t),o=a&&a.props&&a.props.className||/^go/.test(a)&&a;s=o?"."+o:a&&typeof a=="object"?a.props?"":PA(a,""):a===!1?"":a}return n+A+(s??"")},"");function Mw(r){let e=this||{},t=r.call?r(e.p):r;return jj(t.unshift?t.raw?qj(t,[].slice.call(arguments,1),e.p):t.reduce((n,A)=>Object.assign(n,A&&A.call?A(e.p):A),{}):t,Vj(e.target),e.g,e.o,e.k)}let Px,iv,sv;Mw.bind({g:1});let Cee=Mw.bind({k:1});function Eee(r,e,t,n){PA.p=e,Px=r,iv=t,sv=n}function _ee(r,e){let t=this||{};return function(){let n=arguments;function A(i,s){let a=Object.assign({},i),o=a.className||A.className;t.p=Object.assign({theme:iv&&iv()},a),t.o=/ *go\d+/.test(o),a.className=Mw.apply(t,n)+(o?" "+o:"");let u=r;return r[0]&&(u=a.as||r,delete a.as),sv&&u[0]&&sv(a),Px(u,a)}return A}}var gf={exports:{}},pf,r_;function Wj(){if(r_)return pf;r_=1;var r="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return pf=r,pf}var mf,n_;function $j(){if(n_)return mf;n_=1;var r=Wj();function e(){}function t(){}return t.resetWarningCache=e,mf=function(){function n(s,a,o,u,l,h){if(h!==r){var f=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw f.name="Invariant Violation",f}}n.isRequired=n;function A(){return n}var i={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:A,element:n,elementType:n,instanceOf:A,node:n,objectOf:A,oneOf:A,oneOfType:A,shape:A,exact:A,checkPropTypes:t,resetWarningCache:e};return i.PropTypes=i,i},mf}var A_;function Xj(){return A_||(A_=1,gf.exports=$j()()),gf.exports}var zj=Xj();const Tee=So(zj);var Ox="https://js.stripe.com/v3",Yj=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/;var Jj=function(){for(var e=document.querySelectorAll('script[src^="'.concat(Ox,'"]')),t=0;t<e.length;t++){var n=e[t];if(Yj.test(n.src))return n}return null},i_=function(e){var t="",n=document.createElement("script");n.src="".concat(Ox).concat(t);var A=document.head||document.body;if(!A)throw new Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return A.appendChild(n),n},Zj=function(e,t){!e||!e._registerWrapper||e._registerWrapper({name:"stripe-js",version:"2.4.0",startTime:t})},ha=null,Pu=null,Ou=null,e8=function(e){return function(){e(new Error("Failed to load Stripe.js"))}},t8=function(e,t){return function(){window.Stripe?e(window.Stripe):t(new Error("Stripe.js not available"))}},r8=function(e){return ha!==null?ha:(ha=new Promise(function(t,n){if(typeof window>"u"||typeof document>"u"){t(null);return}if(window.Stripe){t(window.Stripe);return}try{var A=Jj();if(!(A&&e)){if(!A)A=i_(e);else if(A&&Ou!==null&&Pu!==null){var i;A.removeEventListener("load",Ou),A.removeEventListener("error",Pu),(i=A.parentNode)===null||i===void 0||i.removeChild(A),A=i_(e)}}Ou=t8(t,n),Pu=e8(n),A.addEventListener("load",Ou),A.addEventListener("error",Pu)}catch(s){n(s);return}}),ha.catch(function(t){return ha=null,Promise.reject(t)}))},n8=function(e,t,n){if(e===null)return null;var A=e.apply(void 0,t);return Zj(A,n),A},fa,Dx=!1,Lx=function(){return fa||(fa=r8(null).catch(function(e){return fa=null,Promise.reject(e)}),fa)};Promise.resolve().then(function(){return Lx()}).catch(function(r){Dx||console.warn(r)});var Iee=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];Dx=!0;var A=Date.now();return Lx().then(function(i){return n8(i,t,A)})},Sl={exports:{}},A8=Sl.exports,s_;function i8(){return s_||(s_=1,(function(r,e){(function(t,n){n()})(A8,function(){function t(u,l){return typeof l>"u"?l={autoBom:!1}:typeof l!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),l={autoBom:!l}),l.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(u.type)?new Blob(["\uFEFF",u],{type:u.type}):u}function n(u,l,h){var f=new XMLHttpRequest;f.open("GET",u),f.responseType="blob",f.onload=function(){o(f.response,l,h)},f.onerror=function(){console.error("could not download file")},f.send()}function A(u){var l=new XMLHttpRequest;l.open("HEAD",u,!1);try{l.send()}catch{}return 200<=l.status&&299>=l.status}function i(u){try{u.dispatchEvent(new MouseEvent("click"))}catch{var l=document.createEvent("MouseEvents");l.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),u.dispatchEvent(l)}}var s=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof gi=="object"&&gi.global===gi?gi:void 0,a=s.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),o=s.saveAs||(typeof window!="object"||window!==s?function(){}:"download"in HTMLAnchorElement.prototype&&!a?function(u,l,h){var f=s.URL||s.webkitURL,d=document.createElement("a");l=l||u.name||"download",d.download=l,d.rel="noopener",typeof u=="string"?(d.href=u,d.origin===location.origin?i(d):A(d.href)?n(u,l,h):i(d,d.target="_blank")):(d.href=f.createObjectURL(u),setTimeout(function(){f.revokeObjectURL(d.href)},4e4),setTimeout(function(){i(d)},0))}:"msSaveOrOpenBlob"in navigator?function(u,l,h){if(l=l||u.name||"download",typeof u!="string")navigator.msSaveOrOpenBlob(t(u,h),l);else if(A(u))n(u,l,h);else{var f=document.createElement("a");f.href=u,f.target="_blank",setTimeout(function(){i(f)})}}:function(u,l,h,f){if(f=f||open("","_blank"),f&&(f.document.title=f.document.body.innerText="downloading..."),typeof u=="string")return n(u,l,h);var d=u.type==="application/octet-stream",g=/constructor/i.test(s.HTMLElement)||s.safari,m=/CriOS\/[\d]+/.test(navigator.userAgent);if((m||d&&g||a)&&typeof FileReader<"u"){var C=new FileReader;C.onloadend=function(){var I=C.result;I=m?I:I.replace(/^data:[^;]*;/,"data:attachment/file;"),f?f.location.href=I:location=I,f=null},C.readAsDataURL(u)}else{var E=s.URL||s.webkitURL,T=E.createObjectURL(u);f?f.location=T:location.href=T,f=null,setTimeout(function(){E.revokeObjectURL(T)},4e4)}});s.saveAs=o.saveAs=o,r.exports=o})})(Sl)),Sl.exports}var bee=i8();function _o(r){"@babel/helpers - typeof";return _o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_o(r)}var dn=Uint8Array,Pr=Uint16Array,Nw=Int32Array,kw=new dn([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),Hw=new dn([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),a_=new dn([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Mx=function(r,e){for(var t=new Pr(31),n=0;n<31;++n)t[n]=e+=1<<r[n-1];for(var A=new Nw(t[30]),n=1;n<30;++n)for(var i=t[n];i<t[n+1];++i)A[i]=i-t[n]<<5|n;return{b:t,r:A}},Nx=Mx(kw,2),s8=Nx.b,av=Nx.r;s8[28]=258,av[258]=28;var a8=Mx(Hw,0),o_=a8.r,ov=new Pr(32768);for(var qe=0;qe<32768;++qe){var CA=(qe&43690)>>1|(qe&21845)<<1;CA=(CA&52428)>>2|(CA&13107)<<2,CA=(CA&61680)>>4|(CA&3855)<<4,ov[qe]=((CA&65280)>>8|(CA&255)<<8)>>1}var Za=(function(r,e,t){for(var n=r.length,A=0,i=new Pr(e);A<n;++A)r[A]&&++i[r[A]-1];var s=new Pr(e);for(A=1;A<e;++A)s[A]=s[A-1]+i[A-1]<<1;var a;if(t){a=new Pr(1<<e);var o=15-e;for(A=0;A<n;++A)if(r[A])for(var u=A<<4|r[A],l=e-r[A],h=s[r[A]-1]++<<l,f=h|(1<<l)-1;h<=f;++h)a[ov[h]>>o]=u}else for(a=new Pr(n),A=0;A<n;++A)r[A]&&(a[A]=ov[s[r[A]-1]++]>>15-r[A]);return a}),Di=new dn(288);for(var qe=0;qe<144;++qe)Di[qe]=8;for(var qe=144;qe<256;++qe)Di[qe]=9;for(var qe=256;qe<280;++qe)Di[qe]=7;for(var qe=280;qe<288;++qe)Di[qe]=8;var lc=new dn(32);for(var qe=0;qe<32;++qe)lc[qe]=5;var o8=Za(Di,9,0),u8=Za(lc,5,0),kx=function(r){return(r+7)/8|0},l8=function(r,e,t){return(t==null||t>r.length)&&(t=r.length),new dn(r.subarray(e,t))},Kn=function(r,e,t){t<<=e&7;var n=e/8|0;r[n]|=t,r[n+1]|=t>>8},da=function(r,e,t){t<<=e&7;var n=e/8|0;r[n]|=t,r[n+1]|=t>>8,r[n+2]|=t>>16},vf=function(r,e){for(var t=[],n=0;n<r.length;++n)r[n]&&t.push({s:n,f:r[n]});var A=t.length,i=t.slice();if(!A)return{t:Vx,l:0};if(A==1){var s=new dn(t[0].s+1);return s[t[0].s]=1,{t:s,l:1}}t.sort(function(P,Q){return P.f-Q.f}),t.push({s:-1,f:25001});var a=t[0],o=t[1],u=0,l=1,h=2;for(t[0]={s:-1,f:a.f+o.f,l:a,r:o};l!=A-1;)a=t[t[u].f<t[h].f?u++:h++],o=t[u!=l&&t[u].f<t[h].f?u++:h++],t[l++]={s:-1,f:a.f+o.f,l:a,r:o};for(var f=i[0].s,n=1;n<A;++n)i[n].s>f&&(f=i[n].s);var d=new Pr(f+1),g=uv(t[l-1],d,0);if(g>e){var n=0,m=0,C=g-e,E=1<<C;for(i.sort(function(Q,v){return d[v.s]-d[Q.s]||Q.f-v.f});n<A;++n){var T=i[n].s;if(d[T]>e)m+=E-(1<<g-d[T]),d[T]=e;else break}for(m>>=C;m>0;){var I=i[n].s;d[I]<e?m-=1<<e-d[I]++-1:++n}for(;n>=0&&m;--n){var b=i[n].s;d[b]==e&&(--d[b],++m)}g=e}return{t:new dn(d),l:g}},uv=function(r,e,t){return r.s==-1?Math.max(uv(r.l,e,t+1),uv(r.r,e,t+1)):e[r.s]=t},u_=function(r){for(var e=r.length;e&&!r[--e];);for(var t=new Pr(++e),n=0,A=r[0],i=1,s=function(o){t[n++]=o},a=1;a<=e;++a)if(r[a]==A&&a!=e)++i;else{if(!A&&i>2){for(;i>138;i-=138)s(32754);i>2&&(s(i>10?i-11<<5|28690:i-3<<5|12305),i=0)}else if(i>3){for(s(A),--i;i>6;i-=6)s(8304);i>2&&(s(i-3<<5|8208),i=0)}for(;i--;)s(A);i=1,A=r[a]}return{c:t.subarray(0,n),n:e}},ga=function(r,e){for(var t=0,n=0;n<e.length;++n)t+=r[n]*e[n];return t},Hx=function(r,e,t){var n=t.length,A=kx(e+2);r[A]=n&255,r[A+1]=n>>8,r[A+2]=r[A]^255,r[A+3]=r[A+1]^255;for(var i=0;i<n;++i)r[A+i+4]=t[i];return(A+4+n)*8},l_=function(r,e,t,n,A,i,s,a,o,u,l){Kn(e,l++,t),++A[256];for(var h=vf(A,15),f=h.t,d=h.l,g=vf(i,15),m=g.t,C=g.l,E=u_(f),T=E.c,I=E.n,b=u_(m),P=b.c,Q=b.n,v=new Pr(19),y=0;y<T.length;++y)++v[T[y]&31];for(var y=0;y<P.length;++y)++v[P[y]&31];for(var w=vf(v,7),U=w.t,F=w.l,R=19;R>4&&!U[a_[R-1]];--R);var S=u+5<<3,L=ga(A,Di)+ga(i,lc)+s,q=ga(A,f)+ga(i,m)+s+14+3*R+ga(v,U)+2*v[16]+3*v[17]+7*v[18];if(o>=0&&S<=L&&S<=q)return Hx(e,l,r.subarray(o,o+u));var H,k,V,j;if(Kn(e,l,1+(q<L)),l+=2,q<L){H=Za(f,d,0),k=f,V=Za(m,C,0),j=m;var $=Za(U,F,0);Kn(e,l,I-257),Kn(e,l+5,Q-1),Kn(e,l+10,R-4),l+=14;for(var y=0;y<R;++y)Kn(e,l+3*y,U[a_[y]]);l+=3*R;for(var O=[T,P],N=0;N<2;++N)for(var G=O[N],y=0;y<G.length;++y){var z=G[y]&31;Kn(e,l,$[z]),l+=U[z],z>15&&(Kn(e,l,G[y]>>5&127),l+=G[y]>>12)}}else H=o8,k=Di,V=u8,j=lc;for(var y=0;y<a;++y){var W=n[y];if(W>255){var z=W>>18&31;da(e,l,H[z+257]),l+=k[z+257],z>7&&(Kn(e,l,W>>23&31),l+=kw[z]);var se=W&31;da(e,l,V[se]),l+=j[se],se>3&&(da(e,l,W>>5&8191),l+=Hw[se])}else da(e,l,H[W]),l+=k[W]}return da(e,l,H[256]),l+k[256]},c8=new Nw([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),Vx=new dn(0),h8=function(r,e,t,n,A,i){var s=i.z||r.length,a=new dn(n+s+5*(1+Math.ceil(s/7e3))+A),o=a.subarray(n,a.length-A),u=i.l,l=(i.r||0)&7;if(e){l&&(o[0]=i.r>>3);for(var h=c8[e-1],f=h>>13,d=h&8191,g=(1<<t)-1,m=i.p||new Pr(32768),C=i.h||new Pr(g+1),E=Math.ceil(t/3),T=2*E,I=function(Pe){return(r[Pe]^r[Pe+1]<<E^r[Pe+2]<<T)&g},b=new Nw(25e3),P=new Pr(288),Q=new Pr(32),v=0,y=0,w=i.i||0,U=0,F=i.w||0,R=0;w+2<s;++w){var S=I(w),L=w&32767,q=C[S];if(m[L]=q,C[S]=L,F<=w){var H=s-w;if((v>7e3||U>24576)&&(H>423||!u)){l=l_(r,o,0,b,P,Q,y,U,R,w-R,l),U=v=y=0,R=w;for(var k=0;k<286;++k)P[k]=0;for(var k=0;k<30;++k)Q[k]=0}var V=2,j=0,$=d,O=L-q&32767;if(H>2&&S==I(w-O))for(var N=Math.min(f,H)-1,G=Math.min(32767,w),z=Math.min(258,H);O<=G&&--$&&L!=q;){if(r[w+V]==r[w+V-O]){for(var W=0;W<z&&r[w+W]==r[w+W-O];++W);if(W>V){if(V=W,j=O,W>N)break;for(var se=Math.min(O,W-2),ne=0,k=0;k<se;++k){var Ee=w-O+k&32767,_e=m[Ee],xe=Ee-_e&32767;xe>ne&&(ne=xe,q=Ee)}}}L=q,q=m[L],O+=L-q&32767}if(j){b[U++]=268435456|av[V]<<18|o_[j];var ut=av[V]&31,We=o_[j]&31;y+=kw[ut]+Hw[We],++P[257+ut],++Q[We],F=w+V,++v}else b[U++]=r[w],++P[r[w]]}}for(w=Math.max(w,F);w<s;++w)b[U++]=r[w],++P[r[w]];l=l_(r,o,u,b,P,Q,y,U,R,w-R,l),u||(i.r=l&7|o[l/8|0]<<3,l-=7,i.h=C,i.p=m,i.i=w,i.w=F)}else{for(var w=i.w||0;w<s+u;w+=65535){var Ve=w+65535;Ve>=s&&(o[l/8|0]=u,Ve=s),l=Hx(o,l+1,r.subarray(w,Ve))}i.i=s}return l8(a,0,n+kx(l)+A)},Kx=function(){var r=1,e=0;return{p:function(t){for(var n=r,A=e,i=t.length|0,s=0;s!=i;){for(var a=Math.min(s+2655,i);s<a;++s)A+=n+=t[s];n=(n&65535)+15*(n>>16),A=(A&65535)+15*(A>>16)}r=n,e=A},d:function(){return r%=65521,e%=65521,(r&255)<<24|(r&65280)<<8|(e&255)<<8|e>>8}}},f8=function(r,e,t,n,A){if(!A&&(A={l:1},e.dictionary)){var i=e.dictionary.subarray(-32768),s=new dn(i.length+r.length);s.set(i),s.set(r,i.length),r=s,A.w=i.length}return h8(r,e.level==null?6:e.level,e.mem==null?A.l?Math.ceil(Math.max(8,Math.min(13,Math.log(r.length)))*1.5):20:12+e.mem,t,n,A)},Gx=function(r,e,t){for(;t;++e)r[e]=t,t>>>=8},d8=function(r,e){var t=e.level,n=t==0?0:t<6?1:t==9?3:2;if(r[0]=120,r[1]=n<<6|(e.dictionary&&32),r[1]|=31-(r[0]<<8|r[1])%31,e.dictionary){var A=Kx();A.p(e.dictionary),Gx(r,2,A.d())}};function Uee(r,e){e||(e={});var t=Kx();t.p(r);var n=f8(r,e,e.dictionary?6:2,4);return d8(n,e),Gx(n,n.length-4,t.d()),n}var g8=typeof TextDecoder<"u"&&new TextDecoder,p8=0;try{g8.decode(Vx,{stream:!0}),p8=1}catch{}function m8(r){if(Array.isArray(r))return r}function v8(r,e){var t=r==null?null:typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(t!=null){var n,A,i,s,a=[],o=!0,u=!1;try{if(i=(t=t.call(r)).next,e!==0)for(;!(o=(n=i.call(t)).done)&&(a.push(n.value),a.length!==e);o=!0);}catch(l){u=!0,A=l}finally{try{if(!o&&t.return!=null&&(s=t.return(),Object(s)!==s))return}finally{if(u)throw A}}return a}}function c_(r,e){(e==null||e>r.length)&&(e=r.length);for(var t=0,n=Array(e);t<e;t++)n[t]=r[t];return n}function y8(r,e){if(r){if(typeof r=="string")return c_(r,e);var t={}.toString.call(r).slice(8,-1);return t==="Object"&&r.constructor&&(t=r.constructor.name),t==="Map"||t==="Set"?Array.from(r):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?c_(r,e):void 0}}function w8(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Fee(r,e){return m8(r)||v8(r,e)||y8(r,e)||w8()}function h_(r,e="utf8"){return new TextDecoder(e).decode(r)}const B8=new TextEncoder;function C8(r){return B8.encode(r)}const E8=1024*8,_8=(()=>{const r=new Uint8Array(4),e=new Uint32Array(r.buffer);return!((e[0]=1)&r[0])})(),yf={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class Vw{buffer;byteLength;byteOffset;length;offset;lastWrittenByte;littleEndian;_data;_mark;_marks;constructor(e=E8,t={}){let n=!1;typeof e=="number"?e=new ArrayBuffer(e):(n=!0,this.lastWrittenByte=e.byteLength);const A=t.offset?t.offset>>>0:0,i=e.byteLength-A;let s=A;(ArrayBuffer.isView(e)||e instanceof Vw)&&(e.byteLength!==e.buffer.byteLength&&(s=e.byteOffset+A),e=e.buffer),n?this.lastWrittenByte=i:this.lastWrittenByte=0,this.buffer=e,this.length=i,this.byteLength=i,this.byteOffset=s,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,s,i),this._mark=0,this._marks=[]}available(e=1){return this.offset+e<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(e=1){return this.offset+=e,this}back(e=1){return this.offset-=e,this}seek(e){return this.offset=e,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const e=this._marks.pop();if(e===void 0)throw new Error("Mark stack empty");return this.seek(e),this}rewind(){return this.offset=0,this}ensureAvailable(e=1){if(!this.available(e)){const n=(this.offset+e)*2,A=new Uint8Array(n);A.set(new Uint8Array(this.buffer)),this.buffer=A.buffer,this.length=n,this.byteLength=n,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(e=1){return this.readArray(e,"uint8")}readArray(e,t){const n=yf[t].BYTES_PER_ELEMENT*e,A=this.byteOffset+this.offset,i=this.buffer.slice(A,A+n);if(this.littleEndian===_8&&t!=="uint8"&&t!=="int8"){const a=new Uint8Array(this.buffer.slice(A,A+n));a.reverse();const o=new yf[t](a.buffer);return this.offset+=n,o.reverse(),o}const s=new yf[t](i);return this.offset+=n,s}readInt16(){const e=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,e}readUint16(){const e=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,e}readInt32(){const e=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,e}readUint32(){const e=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat32(){const e=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat64(){const e=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,e}readBigInt64(){const e=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,e}readBigUint64(){const e=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,e}readChar(){return String.fromCharCode(this.readInt8())}readChars(e=1){let t="";for(let n=0;n<e;n++)t+=this.readChar();return t}readUtf8(e=1){return h_(this.readBytes(e))}decodeText(e=1,t="utf8"){return h_(this.readBytes(e),t)}writeBoolean(e){return this.writeUint8(e?255:0),this}writeInt8(e){return this.ensureAvailable(1),this._data.setInt8(this.offset++,e),this._updateLastWrittenByte(),this}writeUint8(e){return this.ensureAvailable(1),this._data.setUint8(this.offset++,e),this._updateLastWrittenByte(),this}writeByte(e){return this.writeUint8(e)}writeBytes(e){this.ensureAvailable(e.length);for(let t=0;t<e.length;t++)this._data.setUint8(this.offset++,e[t]);return this._updateLastWrittenByte(),this}writeInt16(e){return this.ensureAvailable(2),this._data.setInt16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(e){return this.ensureAvailable(2),this._data.setUint16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(e){return this.ensureAvailable(4),this._data.setInt32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(e){return this.ensureAvailable(4),this._data.setUint32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(e){return this.ensureAvailable(4),this._data.setFloat32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(e){return this.ensureAvailable(8),this._data.setFloat64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(e){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(e){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(e){return this.writeUint8(e.charCodeAt(0))}writeChars(e){for(let t=0;t<e.length;t++)this.writeUint8(e.charCodeAt(t));return this}writeUtf8(e){return this.writeBytes(C8(e))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function qs(r){let e=r.length;for(;--e>=0;)r[e]=0}const T8=3,I8=258,jx=29,b8=256,U8=b8+1+jx,qx=30,F8=512,S8=new Array((U8+2)*2);qs(S8);const Q8=new Array(qx*2);qs(Q8);const R8=new Array(F8);qs(R8);const x8=new Array(I8-T8+1);qs(x8);const P8=new Array(jx);qs(P8);const O8=new Array(qx);qs(O8);const D8=(r,e,t,n)=>{let A=r&65535|0,i=r>>>16&65535|0,s=0;for(;t!==0;){s=t>2e3?2e3:t,t-=s;do A=A+e[n++]|0,i=i+A|0;while(--s);A%=65521,i%=65521}return A|i<<16|0};var lv=D8;const L8=()=>{let r,e=[];for(var t=0;t<256;t++){r=t;for(var n=0;n<8;n++)r=r&1?3988292384^r>>>1:r>>>1;e[t]=r}return e},M8=new Uint32Array(L8()),N8=(r,e,t,n)=>{const A=M8,i=n+t;r^=-1;for(let s=n;s<i;s++)r=r>>>8^A[(r^e[s])&255];return r^-1};var wn=N8,cv={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},Wx={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const k8=(r,e)=>Object.prototype.hasOwnProperty.call(r,e);var H8=function(r){const e=Array.prototype.slice.call(arguments,1);for(;e.length;){const t=e.shift();if(t){if(typeof t!="object")throw new TypeError(t+"must be non-object");for(const n in t)k8(t,n)&&(r[n]=t[n])}}return r},V8=r=>{let e=0;for(let n=0,A=r.length;n<A;n++)e+=r[n].length;const t=new Uint8Array(e);for(let n=0,A=0,i=r.length;n<i;n++){let s=r[n];t.set(s,A),A+=s.length}return t},$x={assign:H8,flattenChunks:V8};let Xx=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{Xx=!1}const To=new Uint8Array(256);for(let r=0;r<256;r++)To[r]=r>=252?6:r>=248?5:r>=240?4:r>=224?3:r>=192?2:1;To[254]=To[254]=1;var K8=r=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(r);let e,t,n,A,i,s=r.length,a=0;for(A=0;A<s;A++)t=r.charCodeAt(A),(t&64512)===55296&&A+1<s&&(n=r.charCodeAt(A+1),(n&64512)===56320&&(t=65536+(t-55296<<10)+(n-56320),A++)),a+=t<128?1:t<2048?2:t<65536?3:4;for(e=new Uint8Array(a),i=0,A=0;i<a;A++)t=r.charCodeAt(A),(t&64512)===55296&&A+1<s&&(n=r.charCodeAt(A+1),(n&64512)===56320&&(t=65536+(t-55296<<10)+(n-56320),A++)),t<128?e[i++]=t:t<2048?(e[i++]=192|t>>>6,e[i++]=128|t&63):t<65536?(e[i++]=224|t>>>12,e[i++]=128|t>>>6&63,e[i++]=128|t&63):(e[i++]=240|t>>>18,e[i++]=128|t>>>12&63,e[i++]=128|t>>>6&63,e[i++]=128|t&63);return e};const G8=(r,e)=>{if(e<65534&&r.subarray&&Xx)return String.fromCharCode.apply(null,r.length===e?r:r.subarray(0,e));let t="";for(let n=0;n<e;n++)t+=String.fromCharCode(r[n]);return t};var j8=(r,e)=>{const t=e||r.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(r.subarray(0,e));let n,A;const i=new Array(t*2);for(A=0,n=0;n<t;){let s=r[n++];if(s<128){i[A++]=s;continue}let a=To[s];if(a>4){i[A++]=65533,n+=a-1;continue}for(s&=a===2?31:a===3?15:7;a>1&&n<t;)s=s<<6|r[n++]&63,a--;if(a>1){i[A++]=65533;continue}s<65536?i[A++]=s:(s-=65536,i[A++]=55296|s>>10&1023,i[A++]=56320|s&1023)}return G8(i,A)},q8=(r,e)=>{e=e||r.length,e>r.length&&(e=r.length);let t=e-1;for(;t>=0&&(r[t]&192)===128;)t--;return t<0||t===0?e:t+To[r[t]]>e?t:e},hv={string2buf:K8,buf2string:j8,utf8border:q8};function W8(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var $8=W8;const Du=16209,X8=16191;var z8=function(e,t){let n,A,i,s,a,o,u,l,h,f,d,g,m,C,E,T,I,b,P,Q,v,y,w,U;const F=e.state;n=e.next_in,w=e.input,A=n+(e.avail_in-5),i=e.next_out,U=e.output,s=i-(t-e.avail_out),a=i+(e.avail_out-257),o=F.dmax,u=F.wsize,l=F.whave,h=F.wnext,f=F.window,d=F.hold,g=F.bits,m=F.lencode,C=F.distcode,E=(1<<F.lenbits)-1,T=(1<<F.distbits)-1;e:do{g<15&&(d+=w[n++]<<g,g+=8,d+=w[n++]<<g,g+=8),I=m[d&E];t:for(;;){if(b=I>>>24,d>>>=b,g-=b,b=I>>>16&255,b===0)U[i++]=I&65535;else if(b&16){P=I&65535,b&=15,b&&(g<b&&(d+=w[n++]<<g,g+=8),P+=d&(1<<b)-1,d>>>=b,g-=b),g<15&&(d+=w[n++]<<g,g+=8,d+=w[n++]<<g,g+=8),I=C[d&T];r:for(;;){if(b=I>>>24,d>>>=b,g-=b,b=I>>>16&255,b&16){if(Q=I&65535,b&=15,g<b&&(d+=w[n++]<<g,g+=8,g<b&&(d+=w[n++]<<g,g+=8)),Q+=d&(1<<b)-1,Q>o){e.msg="invalid distance too far back",F.mode=Du;break e}if(d>>>=b,g-=b,b=i-s,Q>b){if(b=Q-b,b>l&&F.sane){e.msg="invalid distance too far back",F.mode=Du;break e}if(v=0,y=f,h===0){if(v+=u-b,b<P){P-=b;do U[i++]=f[v++];while(--b);v=i-Q,y=U}}else if(h<b){if(v+=u+h-b,b-=h,b<P){P-=b;do U[i++]=f[v++];while(--b);if(v=0,h<P){b=h,P-=b;do U[i++]=f[v++];while(--b);v=i-Q,y=U}}}else if(v+=h-b,b<P){P-=b;do U[i++]=f[v++];while(--b);v=i-Q,y=U}for(;P>2;)U[i++]=y[v++],U[i++]=y[v++],U[i++]=y[v++],P-=3;P&&(U[i++]=y[v++],P>1&&(U[i++]=y[v++]))}else{v=i-Q;do U[i++]=U[v++],U[i++]=U[v++],U[i++]=U[v++],P-=3;while(P>2);P&&(U[i++]=U[v++],P>1&&(U[i++]=U[v++]))}}else if((b&64)===0){I=C[(I&65535)+(d&(1<<b)-1)];continue r}else{e.msg="invalid distance code",F.mode=Du;break e}break}}else if((b&64)===0){I=m[(I&65535)+(d&(1<<b)-1)];continue t}else if(b&32){F.mode=X8;break e}else{e.msg="invalid literal/length code",F.mode=Du;break e}break}}while(n<A&&i<a);P=g>>3,n-=P,g-=P<<3,d&=(1<<g)-1,e.next_in=n,e.next_out=i,e.avail_in=n<A?5+(A-n):5-(n-A),e.avail_out=i<a?257+(a-i):257-(i-a),F.hold=d,F.bits=g};const Zi=15,f_=852,d_=592,g_=0,wf=1,p_=2,Y8=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),J8=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),Z8=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),eq=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),tq=(r,e,t,n,A,i,s,a)=>{const o=a.bits;let u=0,l=0,h=0,f=0,d=0,g=0,m=0,C=0,E=0,T=0,I,b,P,Q,v,y=null,w;const U=new Uint16Array(Zi+1),F=new Uint16Array(Zi+1);let R=null,S,L,q;for(u=0;u<=Zi;u++)U[u]=0;for(l=0;l<n;l++)U[e[t+l]]++;for(d=o,f=Zi;f>=1&&U[f]===0;f--);if(d>f&&(d=f),f===0)return A[i++]=1<<24|64<<16|0,A[i++]=1<<24|64<<16|0,a.bits=1,0;for(h=1;h<f&&U[h]===0;h++);for(d<h&&(d=h),C=1,u=1;u<=Zi;u++)if(C<<=1,C-=U[u],C<0)return-1;if(C>0&&(r===g_||f!==1))return-1;for(F[1]=0,u=1;u<Zi;u++)F[u+1]=F[u]+U[u];for(l=0;l<n;l++)e[t+l]!==0&&(s[F[e[t+l]]++]=l);if(r===g_?(y=R=s,w=20):r===wf?(y=Y8,R=J8,w=257):(y=Z8,R=eq,w=0),T=0,l=0,u=h,v=i,g=d,m=0,P=-1,E=1<<d,Q=E-1,r===wf&&E>f_||r===p_&&E>d_)return 1;for(;;){S=u-m,s[l]+1<w?(L=0,q=s[l]):s[l]>=w?(L=R[s[l]-w],q=y[s[l]-w]):(L=96,q=0),I=1<<u-m,b=1<<g,h=b;do b-=I,A[v+(T>>m)+b]=S<<24|L<<16|q|0;while(b!==0);for(I=1<<u-1;T&I;)I>>=1;if(I!==0?(T&=I-1,T+=I):T=0,l++,--U[u]===0){if(u===f)break;u=e[t+s[l]]}if(u>d&&(T&Q)!==P){for(m===0&&(m=d),v+=h,g=u-m,C=1<<g;g+m<f&&(C-=U[g+m],!(C<=0));)g++,C<<=1;if(E+=1<<g,r===wf&&E>f_||r===p_&&E>d_)return 1;P=T&Q,A[P]=d<<24|g<<16|v-i|0}}return T!==0&&(A[v+T]=u-m<<24|64<<16|0),a.bits=d,0};var eo=tq;const rq=0,zx=1,Yx=2,{Z_FINISH:m_,Z_BLOCK:nq,Z_TREES:Lu,Z_OK:Li,Z_STREAM_END:Aq,Z_NEED_DICT:iq,Z_STREAM_ERROR:zr,Z_DATA_ERROR:Jx,Z_MEM_ERROR:Zx,Z_BUF_ERROR:sq,Z_DEFLATED:v_}=Wx,eh=16180,y_=16181,w_=16182,B_=16183,C_=16184,E_=16185,__=16186,T_=16187,I_=16188,b_=16189,cc=16190,Gn=16191,Bf=16192,U_=16193,Cf=16194,F_=16195,S_=16196,Q_=16197,R_=16198,Mu=16199,Nu=16200,x_=16201,P_=16202,O_=16203,D_=16204,L_=16205,Ef=16206,M_=16207,N_=16208,Xe=16209,eP=16210,tP=16211,aq=852,oq=592,uq=15,lq=uq,k_=r=>(r>>>24&255)+(r>>>8&65280)+((r&65280)<<8)+((r&255)<<24);function cq(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const Hi=r=>{if(!r)return 1;const e=r.state;return!e||e.strm!==r||e.mode<eh||e.mode>tP?1:0},rP=r=>{if(Hi(r))return zr;const e=r.state;return r.total_in=r.total_out=e.total=0,r.msg="",e.wrap&&(r.adler=e.wrap&1),e.mode=eh,e.last=0,e.havedict=0,e.flags=-1,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(aq),e.distcode=e.distdyn=new Int32Array(oq),e.sane=1,e.back=-1,Li},nP=r=>{if(Hi(r))return zr;const e=r.state;return e.wsize=0,e.whave=0,e.wnext=0,rP(r)},AP=(r,e)=>{let t;if(Hi(r))return zr;const n=r.state;return e<0?(t=0,e=-e):(t=(e>>4)+5,e<48&&(e&=15)),e&&(e<8||e>15)?zr:(n.window!==null&&n.wbits!==e&&(n.window=null),n.wrap=t,n.wbits=e,nP(r))},iP=(r,e)=>{if(!r)return zr;const t=new cq;r.state=t,t.strm=r,t.window=null,t.mode=eh;const n=AP(r,e);return n!==Li&&(r.state=null),n},hq=r=>iP(r,lq);let H_=!0,_f,Tf;const fq=r=>{if(H_){_f=new Int32Array(512),Tf=new Int32Array(32);let e=0;for(;e<144;)r.lens[e++]=8;for(;e<256;)r.lens[e++]=9;for(;e<280;)r.lens[e++]=7;for(;e<288;)r.lens[e++]=8;for(eo(zx,r.lens,0,288,_f,0,r.work,{bits:9}),e=0;e<32;)r.lens[e++]=5;eo(Yx,r.lens,0,32,Tf,0,r.work,{bits:5}),H_=!1}r.lencode=_f,r.lenbits=9,r.distcode=Tf,r.distbits=5},sP=(r,e,t,n)=>{let A;const i=r.state;return i.window===null&&(i.wsize=1<<i.wbits,i.wnext=0,i.whave=0,i.window=new Uint8Array(i.wsize)),n>=i.wsize?(i.window.set(e.subarray(t-i.wsize,t),0),i.wnext=0,i.whave=i.wsize):(A=i.wsize-i.wnext,A>n&&(A=n),i.window.set(e.subarray(t-n,t-n+A),i.wnext),n-=A,n?(i.window.set(e.subarray(t-n,t),0),i.wnext=n,i.whave=i.wsize):(i.wnext+=A,i.wnext===i.wsize&&(i.wnext=0),i.whave<i.wsize&&(i.whave+=A))),0},dq=(r,e)=>{let t,n,A,i,s,a,o,u,l,h,f,d,g,m,C=0,E,T,I,b,P,Q,v,y;const w=new Uint8Array(4);let U,F;const R=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(Hi(r)||!r.output||!r.input&&r.avail_in!==0)return zr;t=r.state,t.mode===Gn&&(t.mode=Bf),s=r.next_out,A=r.output,o=r.avail_out,i=r.next_in,n=r.input,a=r.avail_in,u=t.hold,l=t.bits,h=a,f=o,y=Li;e:for(;;)switch(t.mode){case eh:if(t.wrap===0){t.mode=Bf;break}for(;l<16;){if(a===0)break e;a--,u+=n[i++]<<l,l+=8}if(t.wrap&2&&u===35615){t.wbits===0&&(t.wbits=15),t.check=0,w[0]=u&255,w[1]=u>>>8&255,t.check=wn(t.check,w,2,0),u=0,l=0,t.mode=y_;break}if(t.head&&(t.head.done=!1),!(t.wrap&1)||(((u&255)<<8)+(u>>8))%31){r.msg="incorrect header check",t.mode=Xe;break}if((u&15)!==v_){r.msg="unknown compression method",t.mode=Xe;break}if(u>>>=4,l-=4,v=(u&15)+8,t.wbits===0&&(t.wbits=v),v>15||v>t.wbits){r.msg="invalid window size",t.mode=Xe;break}t.dmax=1<<t.wbits,t.flags=0,r.adler=t.check=1,t.mode=u&512?b_:Gn,u=0,l=0;break;case y_:for(;l<16;){if(a===0)break e;a--,u+=n[i++]<<l,l+=8}if(t.flags=u,(t.flags&255)!==v_){r.msg="unknown compression method",t.mode=Xe;break}if(t.flags&57344){r.msg="unknown header flags set",t.mode=Xe;break}t.head&&(t.head.text=u>>8&1),t.flags&512&&t.wrap&4&&(w[0]=u&255,w[1]=u>>>8&255,t.check=wn(t.check,w,2,0)),u=0,l=0,t.mode=w_;case w_:for(;l<32;){if(a===0)break e;a--,u+=n[i++]<<l,l+=8}t.head&&(t.head.time=u),t.flags&512&&t.wrap&4&&(w[0]=u&255,w[1]=u>>>8&255,w[2]=u>>>16&255,w[3]=u>>>24&255,t.check=wn(t.check,w,4,0)),u=0,l=0,t.mode=B_;case B_:for(;l<16;){if(a===0)break e;a--,u+=n[i++]<<l,l+=8}t.head&&(t.head.xflags=u&255,t.head.os=u>>8),t.flags&512&&t.wrap&4&&(w[0]=u&255,w[1]=u>>>8&255,t.check=wn(t.check,w,2,0)),u=0,l=0,t.mode=C_;case C_:if(t.flags&1024){for(;l<16;){if(a===0)break e;a--,u+=n[i++]<<l,l+=8}t.length=u,t.head&&(t.head.extra_len=u),t.flags&512&&t.wrap&4&&(w[0]=u&255,w[1]=u>>>8&255,t.check=wn(t.check,w,2,0)),u=0,l=0}else t.head&&(t.head.extra=null);t.mode=E_;case E_:if(t.flags&1024&&(d=t.length,d>a&&(d=a),d&&(t.head&&(v=t.head.extra_len-t.length,t.head.extra||(t.head.extra=new Uint8Array(t.head.extra_len)),t.head.extra.set(n.subarray(i,i+d),v)),t.flags&512&&t.wrap&4&&(t.check=wn(t.check,n,d,i)),a-=d,i+=d,t.length-=d),t.length))break e;t.length=0,t.mode=__;case __:if(t.flags&2048){if(a===0)break e;d=0;do v=n[i+d++],t.head&&v&&t.length<65536&&(t.head.name+=String.fromCharCode(v));while(v&&d<a);if(t.flags&512&&t.wrap&4&&(t.check=wn(t.check,n,d,i)),a-=d,i+=d,v)break e}else t.head&&(t.head.name=null);t.length=0,t.mode=T_;case T_:if(t.flags&4096){if(a===0)break e;d=0;do v=n[i+d++],t.head&&v&&t.length<65536&&(t.head.comment+=String.fromCharCode(v));while(v&&d<a);if(t.flags&512&&t.wrap&4&&(t.check=wn(t.check,n,d,i)),a-=d,i+=d,v)break e}else t.head&&(t.head.comment=null);t.mode=I_;case I_:if(t.flags&512){for(;l<16;){if(a===0)break e;a--,u+=n[i++]<<l,l+=8}if(t.wrap&4&&u!==(t.check&65535)){r.msg="header crc mismatch",t.mode=Xe;break}u=0,l=0}t.head&&(t.head.hcrc=t.flags>>9&1,t.head.done=!0),r.adler=t.check=0,t.mode=Gn;break;case b_:for(;l<32;){if(a===0)break e;a--,u+=n[i++]<<l,l+=8}r.adler=t.check=k_(u),u=0,l=0,t.mode=cc;case cc:if(t.havedict===0)return r.next_out=s,r.avail_out=o,r.next_in=i,r.avail_in=a,t.hold=u,t.bits=l,iq;r.adler=t.check=1,t.mode=Gn;case Gn:if(e===nq||e===Lu)break e;case Bf:if(t.last){u>>>=l&7,l-=l&7,t.mode=Ef;break}for(;l<3;){if(a===0)break e;a--,u+=n[i++]<<l,l+=8}switch(t.last=u&1,u>>>=1,l-=1,u&3){case 0:t.mode=U_;break;case 1:if(fq(t),t.mode=Mu,e===Lu){u>>>=2,l-=2;break e}break;case 2:t.mode=S_;break;case 3:r.msg="invalid block type",t.mode=Xe}u>>>=2,l-=2;break;case U_:for(u>>>=l&7,l-=l&7;l<32;){if(a===0)break e;a--,u+=n[i++]<<l,l+=8}if((u&65535)!==(u>>>16^65535)){r.msg="invalid stored block lengths",t.mode=Xe;break}if(t.length=u&65535,u=0,l=0,t.mode=Cf,e===Lu)break e;case Cf:t.mode=F_;case F_:if(d=t.length,d){if(d>a&&(d=a),d>o&&(d=o),d===0)break e;A.set(n.subarray(i,i+d),s),a-=d,i+=d,o-=d,s+=d,t.length-=d;break}t.mode=Gn;break;case S_:for(;l<14;){if(a===0)break e;a--,u+=n[i++]<<l,l+=8}if(t.nlen=(u&31)+257,u>>>=5,l-=5,t.ndist=(u&31)+1,u>>>=5,l-=5,t.ncode=(u&15)+4,u>>>=4,l-=4,t.nlen>286||t.ndist>30){r.msg="too many length or distance symbols",t.mode=Xe;break}t.have=0,t.mode=Q_;case Q_:for(;t.have<t.ncode;){for(;l<3;){if(a===0)break e;a--,u+=n[i++]<<l,l+=8}t.lens[R[t.have++]]=u&7,u>>>=3,l-=3}for(;t.have<19;)t.lens[R[t.have++]]=0;if(t.lencode=t.lendyn,t.lenbits=7,U={bits:t.lenbits},y=eo(rq,t.lens,0,19,t.lencode,0,t.work,U),t.lenbits=U.bits,y){r.msg="invalid code lengths set",t.mode=Xe;break}t.have=0,t.mode=R_;case R_:for(;t.have<t.nlen+t.ndist;){for(;C=t.lencode[u&(1<<t.lenbits)-1],E=C>>>24,T=C>>>16&255,I=C&65535,!(E<=l);){if(a===0)break e;a--,u+=n[i++]<<l,l+=8}if(I<16)u>>>=E,l-=E,t.lens[t.have++]=I;else{if(I===16){for(F=E+2;l<F;){if(a===0)break e;a--,u+=n[i++]<<l,l+=8}if(u>>>=E,l-=E,t.have===0){r.msg="invalid bit length repeat",t.mode=Xe;break}v=t.lens[t.have-1],d=3+(u&3),u>>>=2,l-=2}else if(I===17){for(F=E+3;l<F;){if(a===0)break e;a--,u+=n[i++]<<l,l+=8}u>>>=E,l-=E,v=0,d=3+(u&7),u>>>=3,l-=3}else{for(F=E+7;l<F;){if(a===0)break e;a--,u+=n[i++]<<l,l+=8}u>>>=E,l-=E,v=0,d=11+(u&127),u>>>=7,l-=7}if(t.have+d>t.nlen+t.ndist){r.msg="invalid bit length repeat",t.mode=Xe;break}for(;d--;)t.lens[t.have++]=v}}if(t.mode===Xe)break;if(t.lens[256]===0){r.msg="invalid code -- missing end-of-block",t.mode=Xe;break}if(t.lenbits=9,U={bits:t.lenbits},y=eo(zx,t.lens,0,t.nlen,t.lencode,0,t.work,U),t.lenbits=U.bits,y){r.msg="invalid literal/lengths set",t.mode=Xe;break}if(t.distbits=6,t.distcode=t.distdyn,U={bits:t.distbits},y=eo(Yx,t.lens,t.nlen,t.ndist,t.distcode,0,t.work,U),t.distbits=U.bits,y){r.msg="invalid distances set",t.mode=Xe;break}if(t.mode=Mu,e===Lu)break e;case Mu:t.mode=Nu;case Nu:if(a>=6&&o>=258){r.next_out=s,r.avail_out=o,r.next_in=i,r.avail_in=a,t.hold=u,t.bits=l,z8(r,f),s=r.next_out,A=r.output,o=r.avail_out,i=r.next_in,n=r.input,a=r.avail_in,u=t.hold,l=t.bits,t.mode===Gn&&(t.back=-1);break}for(t.back=0;C=t.lencode[u&(1<<t.lenbits)-1],E=C>>>24,T=C>>>16&255,I=C&65535,!(E<=l);){if(a===0)break e;a--,u+=n[i++]<<l,l+=8}if(T&&(T&240)===0){for(b=E,P=T,Q=I;C=t.lencode[Q+((u&(1<<b+P)-1)>>b)],E=C>>>24,T=C>>>16&255,I=C&65535,!(b+E<=l);){if(a===0)break e;a--,u+=n[i++]<<l,l+=8}u>>>=b,l-=b,t.back+=b}if(u>>>=E,l-=E,t.back+=E,t.length=I,T===0){t.mode=L_;break}if(T&32){t.back=-1,t.mode=Gn;break}if(T&64){r.msg="invalid literal/length code",t.mode=Xe;break}t.extra=T&15,t.mode=x_;case x_:if(t.extra){for(F=t.extra;l<F;){if(a===0)break e;a--,u+=n[i++]<<l,l+=8}t.length+=u&(1<<t.extra)-1,u>>>=t.extra,l-=t.extra,t.back+=t.extra}t.was=t.length,t.mode=P_;case P_:for(;C=t.distcode[u&(1<<t.distbits)-1],E=C>>>24,T=C>>>16&255,I=C&65535,!(E<=l);){if(a===0)break e;a--,u+=n[i++]<<l,l+=8}if((T&240)===0){for(b=E,P=T,Q=I;C=t.distcode[Q+((u&(1<<b+P)-1)>>b)],E=C>>>24,T=C>>>16&255,I=C&65535,!(b+E<=l);){if(a===0)break e;a--,u+=n[i++]<<l,l+=8}u>>>=b,l-=b,t.back+=b}if(u>>>=E,l-=E,t.back+=E,T&64){r.msg="invalid distance code",t.mode=Xe;break}t.offset=I,t.extra=T&15,t.mode=O_;case O_:if(t.extra){for(F=t.extra;l<F;){if(a===0)break e;a--,u+=n[i++]<<l,l+=8}t.offset+=u&(1<<t.extra)-1,u>>>=t.extra,l-=t.extra,t.back+=t.extra}if(t.offset>t.dmax){r.msg="invalid distance too far back",t.mode=Xe;break}t.mode=D_;case D_:if(o===0)break e;if(d=f-o,t.offset>d){if(d=t.offset-d,d>t.whave&&t.sane){r.msg="invalid distance too far back",t.mode=Xe;break}d>t.wnext?(d-=t.wnext,g=t.wsize-d):g=t.wnext-d,d>t.length&&(d=t.length),m=t.window}else m=A,g=s-t.offset,d=t.length;d>o&&(d=o),o-=d,t.length-=d;do A[s++]=m[g++];while(--d);t.length===0&&(t.mode=Nu);break;case L_:if(o===0)break e;A[s++]=t.length,o--,t.mode=Nu;break;case Ef:if(t.wrap){for(;l<32;){if(a===0)break e;a--,u|=n[i++]<<l,l+=8}if(f-=o,r.total_out+=f,t.total+=f,t.wrap&4&&f&&(r.adler=t.check=t.flags?wn(t.check,A,f,s-f):lv(t.check,A,f,s-f)),f=o,t.wrap&4&&(t.flags?u:k_(u))!==t.check){r.msg="incorrect data check",t.mode=Xe;break}u=0,l=0}t.mode=M_;case M_:if(t.wrap&&t.flags){for(;l<32;){if(a===0)break e;a--,u+=n[i++]<<l,l+=8}if(t.wrap&4&&u!==(t.total&4294967295)){r.msg="incorrect length check",t.mode=Xe;break}u=0,l=0}t.mode=N_;case N_:y=Aq;break e;case Xe:y=Jx;break e;case eP:return Zx;case tP:default:return zr}return r.next_out=s,r.avail_out=o,r.next_in=i,r.avail_in=a,t.hold=u,t.bits=l,(t.wsize||f!==r.avail_out&&t.mode<Xe&&(t.mode<Ef||e!==m_))&&sP(r,r.output,r.next_out,f-r.avail_out),h-=r.avail_in,f-=r.avail_out,r.total_in+=h,r.total_out+=f,t.total+=f,t.wrap&4&&f&&(r.adler=t.check=t.flags?wn(t.check,A,f,r.next_out-f):lv(t.check,A,f,r.next_out-f)),r.data_type=t.bits+(t.last?64:0)+(t.mode===Gn?128:0)+(t.mode===Mu||t.mode===Cf?256:0),(h===0&&f===0||e===m_)&&y===Li&&(y=sq),y},gq=r=>{if(Hi(r))return zr;let e=r.state;return e.window&&(e.window=null),r.state=null,Li},pq=(r,e)=>{if(Hi(r))return zr;const t=r.state;return(t.wrap&2)===0?zr:(t.head=e,e.done=!1,Li)},mq=(r,e)=>{const t=e.length;let n,A,i;return Hi(r)||(n=r.state,n.wrap!==0&&n.mode!==cc)?zr:n.mode===cc&&(A=1,A=lv(A,e,t,0),A!==n.check)?Jx:(i=sP(r,e,t,t),i?(n.mode=eP,Zx):(n.havedict=1,Li))};var vq=nP,yq=AP,wq=rP,Bq=hq,Cq=iP,Eq=dq,_q=gq,Tq=pq,Iq=mq,bq="pako inflate (from Nodeca project)",zn={inflateReset:vq,inflateReset2:yq,inflateResetKeep:wq,inflateInit:Bq,inflateInit2:Cq,inflate:Eq,inflateEnd:_q,inflateGetHeader:Tq,inflateSetDictionary:Iq,inflateInfo:bq};function Uq(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var Fq=Uq;const aP=Object.prototype.toString,{Z_NO_FLUSH:Sq,Z_FINISH:Qq,Z_OK:Io,Z_STREAM_END:If,Z_NEED_DICT:bf,Z_STREAM_ERROR:Rq,Z_DATA_ERROR:V_,Z_MEM_ERROR:xq}=Wx;function Xo(r){this.options=$x.assign({chunkSize:1024*64,windowBits:15,to:""},r||{});const e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,e.windowBits===0&&(e.windowBits=-15)),e.windowBits>=0&&e.windowBits<16&&!(r&&r.windowBits)&&(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&(e.windowBits&15)===0&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new $8,this.strm.avail_out=0;let t=zn.inflateInit2(this.strm,e.windowBits);if(t!==Io)throw new Error(cv[t]);if(this.header=new Fq,zn.inflateGetHeader(this.strm,this.header),e.dictionary&&(typeof e.dictionary=="string"?e.dictionary=hv.string2buf(e.dictionary):aP.call(e.dictionary)==="[object ArrayBuffer]"&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(t=zn.inflateSetDictionary(this.strm,e.dictionary),t!==Io)))throw new Error(cv[t])}Xo.prototype.push=function(r,e){const t=this.strm,n=this.options.chunkSize,A=this.options.dictionary;let i,s,a;if(this.ended)return!1;for(e===~~e?s=e:s=e===!0?Qq:Sq,aP.call(r)==="[object ArrayBuffer]"?t.input=new Uint8Array(r):t.input=r,t.next_in=0,t.avail_in=t.input.length;;){for(t.avail_out===0&&(t.output=new Uint8Array(n),t.next_out=0,t.avail_out=n),i=zn.inflate(t,s),i===bf&&A&&(i=zn.inflateSetDictionary(t,A),i===Io?i=zn.inflate(t,s):i===V_&&(i=bf));t.avail_in>0&&i===If&&t.state.wrap>0&&r[t.next_in]!==0;)zn.inflateReset(t),i=zn.inflate(t,s);switch(i){case Rq:case V_:case bf:case xq:return this.onEnd(i),this.ended=!0,!1}if(a=t.avail_out,t.next_out&&(t.avail_out===0||i===If))if(this.options.to==="string"){let o=hv.utf8border(t.output,t.next_out),u=t.next_out-o,l=hv.buf2string(t.output,o);t.next_out=u,t.avail_out=n-u,u&&t.output.set(t.output.subarray(o,o+u),0),this.onData(l)}else this.onData(t.output.length===t.next_out?t.output:t.output.subarray(0,t.next_out));if(!(i===Io&&a===0)){if(i===If)return i=zn.inflateEnd(this.strm),this.onEnd(i),this.ended=!0,!0;if(t.avail_in===0)break}}return!0};Xo.prototype.onData=function(r){this.chunks.push(r)};Xo.prototype.onEnd=function(r){r===Io&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=$x.flattenChunks(this.chunks)),this.chunks=[],this.err=r,this.msg=this.strm.msg};function Pq(r,e){const t=new Xo(e);if(t.push(r),t.err)throw t.msg||cv[t.err];return t.result}var Oq=Xo,Dq=Pq,Lq={Inflate:Oq,inflate:Dq};const{Inflate:Mq,inflate:Nq}=Lq;var K_=Mq,kq=Nq;const oP=[];for(let r=0;r<256;r++){let e=r;for(let t=0;t<8;t++)e&1?e=3988292384^e>>>1:e=e>>>1;oP[r]=e}const G_=4294967295;function Hq(r,e,t){let n=r;for(let A=0;A<t;A++)n=oP[(n^e[A])&255]^n>>>8;return n}function Vq(r,e){return(Hq(G_,r,e)^G_)>>>0}function j_(r,e,t){const n=r.readUint32(),A=Vq(new Uint8Array(r.buffer,r.byteOffset+r.offset-e-4,e),e);if(A!==n)throw new Error(`CRC mismatch for chunk ${t}. Expected ${n}, found ${A}`)}function uP(r,e,t){for(let n=0;n<t;n++)e[n]=r[n]}function lP(r,e,t,n){let A=0;for(;A<n;A++)e[A]=r[A];for(;A<t;A++)e[A]=r[A]+e[A-n]&255}function cP(r,e,t,n){let A=0;if(t.length===0)for(;A<n;A++)e[A]=r[A];else for(;A<n;A++)e[A]=r[A]+t[A]&255}function hP(r,e,t,n,A){let i=0;if(t.length===0){for(;i<A;i++)e[i]=r[i];for(;i<n;i++)e[i]=r[i]+(e[i-A]>>1)&255}else{for(;i<A;i++)e[i]=r[i]+(t[i]>>1)&255;for(;i<n;i++)e[i]=r[i]+(e[i-A]+t[i]>>1)&255}}function fP(r,e,t,n,A){let i=0;if(t.length===0){for(;i<A;i++)e[i]=r[i];for(;i<n;i++)e[i]=r[i]+e[i-A]&255}else{for(;i<A;i++)e[i]=r[i]+t[i]&255;for(;i<n;i++)e[i]=r[i]+Kq(e[i-A],t[i],t[i-A])&255}}function Kq(r,e,t){const n=r+e-t,A=Math.abs(n-r),i=Math.abs(n-e),s=Math.abs(n-t);return A<=i&&A<=s?r:i<=s?e:t}function Gq(r,e,t,n,A,i){switch(r){case 0:uP(e,t,A);break;case 1:lP(e,t,A,i);break;case 2:cP(e,t,n,A);break;case 3:hP(e,t,n,A,i);break;case 4:fP(e,t,n,A,i);break;default:throw new Error(`Unsupported filter: ${r}`)}}const jq=new Uint16Array([255]),qq=new Uint8Array(jq.buffer),Wq=qq[0]===255;function $q(r){const{data:e,width:t,height:n,channels:A,depth:i}=r,s=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],a=Math.ceil(i/8)*A,o=new Uint8Array(n*t*a);let u=0;for(let l=0;l<7;l++){const h=s[l],f=Math.ceil((t-h.x)/h.xStep),d=Math.ceil((n-h.y)/h.yStep);if(f<=0||d<=0)continue;const g=f*a,m=new Uint8Array(g);for(let C=0;C<d;C++){const E=e[u++],T=e.subarray(u,u+g);u+=g;const I=new Uint8Array(g);Gq(E,T,I,m,g,a),m.set(I);for(let b=0;b<f;b++){const P=h.x+b*h.xStep,Q=h.y+C*h.yStep;if(!(P>=t||Q>=n))for(let v=0;v<a;v++)o[(Q*t+P)*a+v]=I[b*a+v]}}}if(i===16){const l=new Uint16Array(o.buffer);if(Wq)for(let h=0;h<l.length;h++)l[h]=Xq(l[h]);return l}else return o}function Xq(r){return(r&255)<<8|r>>8&255}const zq=new Uint16Array([255]),Yq=new Uint8Array(zq.buffer),Jq=Yq[0]===255,Zq=new Uint8Array(0);function q_(r){const{data:e,width:t,height:n,channels:A,depth:i}=r,s=Math.ceil(i/8)*A,a=Math.ceil(i/8*A*t),o=new Uint8Array(n*a);let u=Zq,l=0,h,f;for(let d=0;d<n;d++){switch(h=e.subarray(l+1,l+1+a),f=o.subarray(d*a,(d+1)*a),e[l]){case 0:uP(h,f,a);break;case 1:lP(h,f,a,s);break;case 2:cP(h,f,u,a);break;case 3:hP(h,f,u,a,s);break;case 4:fP(h,f,u,a,s);break;default:throw new Error(`Unsupported filter: ${e[l]}`)}u=f,l+=a+1}if(i===16){const d=new Uint16Array(o.buffer);if(Jq)for(let g=0;g<d.length;g++)d[g]=e9(d[g]);return d}else return o}function e9(r){return(r&255)<<8|r>>8&255}const Ql=Uint8Array.of(137,80,78,71,13,10,26,10);function W_(r){if(!t9(r.readBytes(Ql.length)))throw new Error("wrong PNG signature")}function t9(r){if(r.length<Ql.length)return!1;for(let e=0;e<Ql.length;e++)if(r[e]!==Ql[e])return!1;return!0}const r9="tEXt",n9=0,dP=new TextDecoder("latin1");function A9(r){if(s9(r),r.length===0||r.length>79)throw new Error("keyword length must be between 1 and 79")}const i9=/^[\u0000-\u00FF]*$/;function s9(r){if(!i9.test(r))throw new Error("invalid latin1 text")}function a9(r,e,t){const n=gP(e);r[n]=o9(e,t-n.length-1)}function gP(r){for(r.mark();r.readByte()!==n9;);const e=r.offset;r.reset();const t=dP.decode(r.readBytes(e-r.offset-1));return r.skip(1),A9(t),t}function o9(r,e){return dP.decode(r.readBytes(e))}const Qr={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},Uf={UNKNOWN:-1,DEFLATE:0},$_={UNKNOWN:-1,ADAPTIVE:0},Ff={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},ku={NONE:0,BACKGROUND:1,PREVIOUS:2},Sf={SOURCE:0,OVER:1};class u9 extends Vw{_checkCrc;_inflator;_png;_apng;_end;_hasPalette;_palette;_hasTransparency;_transparency;_compressionMethod;_filterMethod;_interlaceMethod;_colorType;_isAnimated;_numberOfFrames;_numberOfPlays;_frames;_writingDataChunks;constructor(e,t={}){super(e);const{checkCrc:n=!1}=t;this._checkCrc=n,this._inflator=new K_,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=Uf.UNKNOWN,this._filterMethod=$_.UNKNOWN,this._interlaceMethod=Ff.UNKNOWN,this._colorType=Qr.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(W_(this);!this._end;){const e=this.readUint32(),t=this.readChars(4);this.decodeChunk(e,t)}return this.decodeImage(),this._png}decodeApng(){for(W_(this);!this._end;){const e=this.readUint32(),t=this.readChars(4);this.decodeApngChunk(e,t)}return this.decodeApngImage(),this._apng}decodeChunk(e,t){const n=this.offset;switch(t){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(e);break;case"IDAT":this.decodeIDAT(e);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(e);break;case"iCCP":this.decodeiCCP(e);break;case r9:a9(this._png.text,this,e);break;case"pHYs":this.decodepHYs();break;default:this.skip(e);break}if(this.offset-n!==e)throw new Error(`Length mismatch while decoding chunk ${t}`);this._checkCrc?j_(this,e+4,t):this.skip(4)}decodeApngChunk(e,t){const n=this.offset;switch(t!=="fdAT"&&t!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),t){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(e);break;default:this.decodeChunk(e,t),this.offset=n+e;break}if(this.offset-n!==e)throw new Error(`Length mismatch while decoding chunk ${t}`);this._checkCrc?j_(this,e+4,t):this.skip(4)}decodeIHDR(){const e=this._png;e.width=this.readUint32(),e.height=this.readUint32(),e.depth=l9(this.readUint8());const t=this.readUint8();this._colorType=t;let n;switch(t){case Qr.GREYSCALE:n=1;break;case Qr.TRUECOLOUR:n=3;break;case Qr.INDEXED_COLOUR:n=1;break;case Qr.GREYSCALE_ALPHA:n=2;break;case Qr.TRUECOLOUR_ALPHA:n=4;break;case Qr.UNKNOWN:default:throw new Error(`Unknown color type: ${t}`)}if(this._png.channels=n,this._compressionMethod=this.readUint8(),this._compressionMethod!==Uf.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const e={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(e)}decodePLTE(e){if(e%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${e}`);const t=e/3;this._hasPalette=!0;const n=[];this._palette=n;for(let A=0;A<t;A++)n.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(e){this._writingDataChunks=!0;const t=e,n=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,n,t)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(e)}decodeFDAT(e){this._writingDataChunks=!0;let t=e,n=this.offset+this.byteOffset;if(n+=4,t-=4,this._inflator.push(new Uint8Array(this.buffer,n,t)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(e)}decodetRNS(e){switch(this._colorType){case Qr.GREYSCALE:case Qr.TRUECOLOUR:{if(e%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${e}`);if(e/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${e/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(e/2);for(let t=0;t<e/2;t++)this._transparency[t]=this.readUint16();break}case Qr.INDEXED_COLOUR:{if(e>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${e} vs ${this._palette.length})`);let t=0;for(;t<e;t++){const n=this.readByte();this._palette[t].push(n)}for(;t<this._palette.length;t++)this._palette[t].push(255);break}case Qr.UNKNOWN:case Qr.GREYSCALE_ALPHA:case Qr.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(e){const t=gP(this),n=this.readUint8();if(n!==Uf.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${n}`);const A=this.readBytes(e-t.length-2);this._png.iccEmbeddedProfile={name:t,profile:kq(A)}}decodepHYs(){const e=this.readUint32(),t=this.readUint32(),n=this.readByte();this._png.resolution={x:e,y:t,unit:n}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let e=0;e<this._numberOfFrames;e++){const t={sequenceNumber:this._frames[e].sequenceNumber,delayNumber:this._frames[e].delayNumber,delayDenominator:this._frames[e].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},n=this._frames.at(e);if(n){if(n.data=q_({data:n.data,width:n.width,height:n.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),e===0||n.xOffset===0&&n.yOffset===0&&n.width===this._png.width&&n.height===this._png.height)t.data=n.data;else{const A=this._apng.frames.at(e-1);this.disposeFrame(n,A,t),this.addFrameDataToCanvas(t,n)}this._apng.frames.push(t)}}return this._apng}disposeFrame(e,t,n){switch(e.disposeOp){case ku.NONE:break;case ku.BACKGROUND:for(let A=0;A<this._png.height;A++)for(let i=0;i<this._png.width;i++){const s=(A*e.width+i)*this._png.channels;for(let a=0;a<this._png.channels;a++)n.data[s+a]=0}break;case ku.PREVIOUS:n.data.set(t.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(e,t){const n=1<<this._png.depth,A=(i,s)=>{const a=((i+t.yOffset)*this._png.width+t.xOffset+s)*this._png.channels,o=(i*t.width+s)*this._png.channels;return{index:a,frameIndex:o}};switch(t.blendOp){case Sf.SOURCE:for(let i=0;i<t.height;i++)for(let s=0;s<t.width;s++){const{index:a,frameIndex:o}=A(i,s);for(let u=0;u<this._png.channels;u++)e.data[a+u]=t.data[o+u]}break;case Sf.OVER:for(let i=0;i<t.height;i++)for(let s=0;s<t.width;s++){const{index:a,frameIndex:o}=A(i,s);for(let u=0;u<this._png.channels;u++){const l=t.data[o+this._png.channels-1]/n,h=u%(this._png.channels-1)===0?1:t.data[o+u],f=Math.floor(l*h+(1-l)*e.data[a+u]);e.data[a+u]+=f}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const e=this._isAnimated?(this._frames?.at(0)).data:this._inflator.result;if(this._filterMethod!==$_.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===Ff.NO_INTERLACE)this._png.data=q_({data:e,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===Ff.ADAM7)this._png.data=$q({data:e,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const e=this._inflator.result,t=this._frames.at(-1);t?t.data=e:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:ku.NONE,blendOp:Sf.SOURCE,data:e}),this._inflator=new K_,this._writingDataChunks=!1}}function l9(r){if(r!==1&&r!==2&&r!==4&&r!==8&&r!==16)throw new Error(`invalid bit depth: ${r}`);return r}var X_;(function(r){r[r.UNKNOWN=0]="UNKNOWN",r[r.METRE=1]="METRE"})(X_||(X_={}));function See(r,e){return new u9(r,e).decode()}var es={},Qf,z_;function c9(){return z_||(z_=1,Qf=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then}),Qf}var Rf={},EA={},Y_;function Vi(){if(Y_)return EA;Y_=1;let r;const e=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];return EA.getSymbolSize=function(n){if(!n)throw new Error('"version" cannot be null or undefined');if(n<1||n>40)throw new Error('"version" should be in range from 1 to 40');return n*4+17},EA.getSymbolTotalCodewords=function(n){return e[n]},EA.getBCHDigit=function(t){let n=0;for(;t!==0;)n++,t>>>=1;return n},EA.setToSJISFunction=function(n){if(typeof n!="function")throw new Error('"toSJISFunc" is not a valid function.');r=n},EA.isKanjiModeEnabled=function(){return typeof r<"u"},EA.toSJIS=function(n){return r(n)},EA}var xf={},J_;function Kw(){return J_||(J_=1,(function(r){r.L={bit:1},r.M={bit:0},r.Q={bit:3},r.H={bit:2};function e(t){if(typeof t!="string")throw new Error("Param is not a string");switch(t.toLowerCase()){case"l":case"low":return r.L;case"m":case"medium":return r.M;case"q":case"quartile":return r.Q;case"h":case"high":return r.H;default:throw new Error("Unknown EC Level: "+t)}}r.isValid=function(n){return n&&typeof n.bit<"u"&&n.bit>=0&&n.bit<4},r.from=function(n,A){if(r.isValid(n))return n;try{return e(n)}catch{return A}}})(xf)),xf}var Pf,Z_;function h9(){if(Z_)return Pf;Z_=1;function r(){this.buffer=[],this.length=0}return r.prototype={get:function(e){const t=Math.floor(e/8);return(this.buffer[t]>>>7-e%8&1)===1},put:function(e,t){for(let n=0;n<t;n++)this.putBit((e>>>t-n-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(e){const t=Math.floor(this.length/8);this.buffer.length<=t&&this.buffer.push(0),e&&(this.buffer[t]|=128>>>this.length%8),this.length++}},Pf=r,Pf}var Of,eT;function f9(){if(eT)return Of;eT=1;function r(e){if(!e||e<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=e,this.data=new Uint8Array(e*e),this.reservedBit=new Uint8Array(e*e)}return r.prototype.set=function(e,t,n,A){const i=e*this.size+t;this.data[i]=n,A&&(this.reservedBit[i]=!0)},r.prototype.get=function(e,t){return this.data[e*this.size+t]},r.prototype.xor=function(e,t,n){this.data[e*this.size+t]^=n},r.prototype.isReserved=function(e,t){return this.reservedBit[e*this.size+t]},Of=r,Of}var Df={},tT;function d9(){return tT||(tT=1,(function(r){const e=Vi().getSymbolSize;r.getRowColCoords=function(n){if(n===1)return[];const A=Math.floor(n/7)+2,i=e(n),s=i===145?26:Math.ceil((i-13)/(2*A-2))*2,a=[i-7];for(let o=1;o<A-1;o++)a[o]=a[o-1]-s;return a.push(6),a.reverse()},r.getPositions=function(n){const A=[],i=r.getRowColCoords(n),s=i.length;for(let a=0;a<s;a++)for(let o=0;o<s;o++)a===0&&o===0||a===0&&o===s-1||a===s-1&&o===0||A.push([i[a],i[o]]);return A}})(Df)),Df}var Lf={},rT;function g9(){if(rT)return Lf;rT=1;const r=Vi().getSymbolSize,e=7;return Lf.getPositions=function(n){const A=r(n);return[[0,0],[A-e,0],[0,A-e]]},Lf}var Mf={},nT;function p9(){return nT||(nT=1,(function(r){r.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const e={N1:3,N2:3,N3:40,N4:10};r.isValid=function(A){return A!=null&&A!==""&&!isNaN(A)&&A>=0&&A<=7},r.from=function(A){return r.isValid(A)?parseInt(A,10):void 0},r.getPenaltyN1=function(A){const i=A.size;let s=0,a=0,o=0,u=null,l=null;for(let h=0;h<i;h++){a=o=0,u=l=null;for(let f=0;f<i;f++){let d=A.get(h,f);d===u?a++:(a>=5&&(s+=e.N1+(a-5)),u=d,a=1),d=A.get(f,h),d===l?o++:(o>=5&&(s+=e.N1+(o-5)),l=d,o=1)}a>=5&&(s+=e.N1+(a-5)),o>=5&&(s+=e.N1+(o-5))}return s},r.getPenaltyN2=function(A){const i=A.size;let s=0;for(let a=0;a<i-1;a++)for(let o=0;o<i-1;o++){const u=A.get(a,o)+A.get(a,o+1)+A.get(a+1,o)+A.get(a+1,o+1);(u===4||u===0)&&s++}return s*e.N2},r.getPenaltyN3=function(A){const i=A.size;let s=0,a=0,o=0;for(let u=0;u<i;u++){a=o=0;for(let l=0;l<i;l++)a=a<<1&2047|A.get(u,l),l>=10&&(a===1488||a===93)&&s++,o=o<<1&2047|A.get(l,u),l>=10&&(o===1488||o===93)&&s++}return s*e.N3},r.getPenaltyN4=function(A){let i=0;const s=A.data.length;for(let o=0;o<s;o++)i+=A.data[o];return Math.abs(Math.ceil(i*100/s/5)-10)*e.N4};function t(n,A,i){switch(n){case r.Patterns.PATTERN000:return(A+i)%2===0;case r.Patterns.PATTERN001:return A%2===0;case r.Patterns.PATTERN010:return i%3===0;case r.Patterns.PATTERN011:return(A+i)%3===0;case r.Patterns.PATTERN100:return(Math.floor(A/2)+Math.floor(i/3))%2===0;case r.Patterns.PATTERN101:return A*i%2+A*i%3===0;case r.Patterns.PATTERN110:return(A*i%2+A*i%3)%2===0;case r.Patterns.PATTERN111:return(A*i%3+(A+i)%2)%2===0;default:throw new Error("bad maskPattern:"+n)}}r.applyMask=function(A,i){const s=i.size;for(let a=0;a<s;a++)for(let o=0;o<s;o++)i.isReserved(o,a)||i.xor(o,a,t(A,o,a))},r.getBestMask=function(A,i){const s=Object.keys(r.Patterns).length;let a=0,o=1/0;for(let u=0;u<s;u++){i(u),r.applyMask(u,A);const l=r.getPenaltyN1(A)+r.getPenaltyN2(A)+r.getPenaltyN3(A)+r.getPenaltyN4(A);r.applyMask(u,A),l<o&&(o=l,a=u)}return a}})(Mf)),Mf}var Hu={},AT;function pP(){if(AT)return Hu;AT=1;const r=Kw(),e=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],t=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];return Hu.getBlocksCount=function(A,i){switch(i){case r.L:return e[(A-1)*4+0];case r.M:return e[(A-1)*4+1];case r.Q:return e[(A-1)*4+2];case r.H:return e[(A-1)*4+3];default:return}},Hu.getTotalCodewordsCount=function(A,i){switch(i){case r.L:return t[(A-1)*4+0];case r.M:return t[(A-1)*4+1];case r.Q:return t[(A-1)*4+2];case r.H:return t[(A-1)*4+3];default:return}},Hu}var Nf={},pa={},iT;function m9(){if(iT)return pa;iT=1;const r=new Uint8Array(512),e=new Uint8Array(256);return(function(){let n=1;for(let A=0;A<255;A++)r[A]=n,e[n]=A,n<<=1,n&256&&(n^=285);for(let A=255;A<512;A++)r[A]=r[A-255]})(),pa.log=function(n){if(n<1)throw new Error("log("+n+")");return e[n]},pa.exp=function(n){return r[n]},pa.mul=function(n,A){return n===0||A===0?0:r[e[n]+e[A]]},pa}var sT;function v9(){return sT||(sT=1,(function(r){const e=m9();r.mul=function(n,A){const i=new Uint8Array(n.length+A.length-1);for(let s=0;s<n.length;s++)for(let a=0;a<A.length;a++)i[s+a]^=e.mul(n[s],A[a]);return i},r.mod=function(n,A){let i=new Uint8Array(n);for(;i.length-A.length>=0;){const s=i[0];for(let o=0;o<A.length;o++)i[o]^=e.mul(A[o],s);let a=0;for(;a<i.length&&i[a]===0;)a++;i=i.slice(a)}return i},r.generateECPolynomial=function(n){let A=new Uint8Array([1]);for(let i=0;i<n;i++)A=r.mul(A,new Uint8Array([1,e.exp(i)]));return A}})(Nf)),Nf}var kf,aT;function y9(){if(aT)return kf;aT=1;const r=v9();function e(t){this.genPoly=void 0,this.degree=t,this.degree&&this.initialize(this.degree)}return e.prototype.initialize=function(n){this.degree=n,this.genPoly=r.generateECPolynomial(this.degree)},e.prototype.encode=function(n){if(!this.genPoly)throw new Error("Encoder not initialized");const A=new Uint8Array(n.length+this.degree);A.set(n);const i=r.mod(A,this.genPoly),s=this.degree-i.length;if(s>0){const a=new Uint8Array(this.degree);return a.set(i,s),a}return i},kf=e,kf}var Hf={},Vf={},Kf={},oT;function mP(){return oT||(oT=1,Kf.isValid=function(e){return!isNaN(e)&&e>=1&&e<=40}),Kf}var Bn={},uT;function vP(){if(uT)return Bn;uT=1;const r="[0-9]+",e="[A-Z $%*+\\-./:]+";let t="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";t=t.replace(/u/g,"\\u");const n="(?:(?![A-Z0-9 $%*+\\-./:]|"+t+`)(?:.|[\r
]))+`;Bn.KANJI=new RegExp(t,"g"),Bn.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g"),Bn.BYTE=new RegExp(n,"g"),Bn.NUMERIC=new RegExp(r,"g"),Bn.ALPHANUMERIC=new RegExp(e,"g");const A=new RegExp("^"+t+"$"),i=new RegExp("^"+r+"$"),s=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");return Bn.testKanji=function(o){return A.test(o)},Bn.testNumeric=function(o){return i.test(o)},Bn.testAlphanumeric=function(o){return s.test(o)},Bn}var lT;function Ki(){return lT||(lT=1,(function(r){const e=mP(),t=vP();r.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},r.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},r.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},r.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},r.MIXED={bit:-1},r.getCharCountIndicator=function(i,s){if(!i.ccBits)throw new Error("Invalid mode: "+i);if(!e.isValid(s))throw new Error("Invalid version: "+s);return s>=1&&s<10?i.ccBits[0]:s<27?i.ccBits[1]:i.ccBits[2]},r.getBestModeForData=function(i){return t.testNumeric(i)?r.NUMERIC:t.testAlphanumeric(i)?r.ALPHANUMERIC:t.testKanji(i)?r.KANJI:r.BYTE},r.toString=function(i){if(i&&i.id)return i.id;throw new Error("Invalid mode")},r.isValid=function(i){return i&&i.bit&&i.ccBits};function n(A){if(typeof A!="string")throw new Error("Param is not a string");switch(A.toLowerCase()){case"numeric":return r.NUMERIC;case"alphanumeric":return r.ALPHANUMERIC;case"kanji":return r.KANJI;case"byte":return r.BYTE;default:throw new Error("Unknown mode: "+A)}}r.from=function(i,s){if(r.isValid(i))return i;try{return n(i)}catch{return s}}})(Vf)),Vf}var cT;function w9(){return cT||(cT=1,(function(r){const e=Vi(),t=pP(),n=Kw(),A=Ki(),i=mP(),s=7973,a=e.getBCHDigit(s);function o(f,d,g){for(let m=1;m<=40;m++)if(d<=r.getCapacity(m,g,f))return m}function u(f,d){return A.getCharCountIndicator(f,d)+4}function l(f,d){let g=0;return f.forEach(function(m){const C=u(m.mode,d);g+=C+m.getBitsLength()}),g}function h(f,d){for(let g=1;g<=40;g++)if(l(f,g)<=r.getCapacity(g,d,A.MIXED))return g}r.from=function(d,g){return i.isValid(d)?parseInt(d,10):g},r.getCapacity=function(d,g,m){if(!i.isValid(d))throw new Error("Invalid QR Code version");typeof m>"u"&&(m=A.BYTE);const C=e.getSymbolTotalCodewords(d),E=t.getTotalCodewordsCount(d,g),T=(C-E)*8;if(m===A.MIXED)return T;const I=T-u(m,d);switch(m){case A.NUMERIC:return Math.floor(I/10*3);case A.ALPHANUMERIC:return Math.floor(I/11*2);case A.KANJI:return Math.floor(I/13);case A.BYTE:default:return Math.floor(I/8)}},r.getBestVersionForData=function(d,g){let m;const C=n.from(g,n.M);if(Array.isArray(d)){if(d.length>1)return h(d,C);if(d.length===0)return 1;m=d[0]}else m=d;return o(m.mode,m.getLength(),C)},r.getEncodedBits=function(d){if(!i.isValid(d)||d<7)throw new Error("Invalid QR Code version");let g=d<<12;for(;e.getBCHDigit(g)-a>=0;)g^=s<<e.getBCHDigit(g)-a;return d<<12|g}})(Hf)),Hf}var Gf={},hT;function B9(){if(hT)return Gf;hT=1;const r=Vi(),e=1335,t=21522,n=r.getBCHDigit(e);return Gf.getEncodedBits=function(i,s){const a=i.bit<<3|s;let o=a<<10;for(;r.getBCHDigit(o)-n>=0;)o^=e<<r.getBCHDigit(o)-n;return(a<<10|o)^t},Gf}var jf={},qf,fT;function C9(){if(fT)return qf;fT=1;const r=Ki();function e(t){this.mode=r.NUMERIC,this.data=t.toString()}return e.getBitsLength=function(n){return 10*Math.floor(n/3)+(n%3?n%3*3+1:0)},e.prototype.getLength=function(){return this.data.length},e.prototype.getBitsLength=function(){return e.getBitsLength(this.data.length)},e.prototype.write=function(n){let A,i,s;for(A=0;A+3<=this.data.length;A+=3)i=this.data.substr(A,3),s=parseInt(i,10),n.put(s,10);const a=this.data.length-A;a>0&&(i=this.data.substr(A),s=parseInt(i,10),n.put(s,a*3+1))},qf=e,qf}var Wf,dT;function E9(){if(dT)return Wf;dT=1;const r=Ki(),e=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function t(n){this.mode=r.ALPHANUMERIC,this.data=n}return t.getBitsLength=function(A){return 11*Math.floor(A/2)+6*(A%2)},t.prototype.getLength=function(){return this.data.length},t.prototype.getBitsLength=function(){return t.getBitsLength(this.data.length)},t.prototype.write=function(A){let i;for(i=0;i+2<=this.data.length;i+=2){let s=e.indexOf(this.data[i])*45;s+=e.indexOf(this.data[i+1]),A.put(s,11)}this.data.length%2&&A.put(e.indexOf(this.data[i]),6)},Wf=t,Wf}var $f,gT;function _9(){if(gT)return $f;gT=1;const r=Ki();function e(t){this.mode=r.BYTE,typeof t=="string"?this.data=new TextEncoder().encode(t):this.data=new Uint8Array(t)}return e.getBitsLength=function(n){return n*8},e.prototype.getLength=function(){return this.data.length},e.prototype.getBitsLength=function(){return e.getBitsLength(this.data.length)},e.prototype.write=function(t){for(let n=0,A=this.data.length;n<A;n++)t.put(this.data[n],8)},$f=e,$f}var Xf,pT;function T9(){if(pT)return Xf;pT=1;const r=Ki(),e=Vi();function t(n){this.mode=r.KANJI,this.data=n}return t.getBitsLength=function(A){return A*13},t.prototype.getLength=function(){return this.data.length},t.prototype.getBitsLength=function(){return t.getBitsLength(this.data.length)},t.prototype.write=function(n){let A;for(A=0;A<this.data.length;A++){let i=e.toSJIS(this.data[A]);if(i>=33088&&i<=40956)i-=33088;else if(i>=57408&&i<=60351)i-=49472;else throw new Error("Invalid SJIS character: "+this.data[A]+`
Make sure your charset is UTF-8`);i=(i>>>8&255)*192+(i&255),n.put(i,13)}},Xf=t,Xf}var zf={exports:{}},mT;function I9(){return mT||(mT=1,(function(r){var e={single_source_shortest_paths:function(t,n,A){var i={},s={};s[n]=0;var a=e.PriorityQueue.make();a.push(n,0);for(var o,u,l,h,f,d,g,m,C;!a.empty();){o=a.pop(),u=o.value,h=o.cost,f=t[u]||{};for(l in f)f.hasOwnProperty(l)&&(d=f[l],g=h+d,m=s[l],C=typeof s[l]>"u",(C||m>g)&&(s[l]=g,a.push(l,g),i[l]=u))}if(typeof A<"u"&&typeof s[A]>"u"){var E=["Could not find a path from ",n," to ",A,"."].join("");throw new Error(E)}return i},extract_shortest_path_from_predecessor_list:function(t,n){for(var A=[],i=n;i;)A.push(i),t[i],i=t[i];return A.reverse(),A},find_path:function(t,n,A){var i=e.single_source_shortest_paths(t,n,A);return e.extract_shortest_path_from_predecessor_list(i,A)},PriorityQueue:{make:function(t){var n=e.PriorityQueue,A={},i;t=t||{};for(i in n)n.hasOwnProperty(i)&&(A[i]=n[i]);return A.queue=[],A.sorter=t.sorter||n.default_sorter,A},default_sorter:function(t,n){return t.cost-n.cost},push:function(t,n){var A={value:t,cost:n};this.queue.push(A),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};r.exports=e})(zf)),zf.exports}var vT;function b9(){return vT||(vT=1,(function(r){const e=Ki(),t=C9(),n=E9(),A=_9(),i=T9(),s=vP(),a=Vi(),o=I9();function u(E){return unescape(encodeURIComponent(E)).length}function l(E,T,I){const b=[];let P;for(;(P=E.exec(I))!==null;)b.push({data:P[0],index:P.index,mode:T,length:P[0].length});return b}function h(E){const T=l(s.NUMERIC,e.NUMERIC,E),I=l(s.ALPHANUMERIC,e.ALPHANUMERIC,E);let b,P;return a.isKanjiModeEnabled()?(b=l(s.BYTE,e.BYTE,E),P=l(s.KANJI,e.KANJI,E)):(b=l(s.BYTE_KANJI,e.BYTE,E),P=[]),T.concat(I,b,P).sort(function(v,y){return v.index-y.index}).map(function(v){return{data:v.data,mode:v.mode,length:v.length}})}function f(E,T){switch(T){case e.NUMERIC:return t.getBitsLength(E);case e.ALPHANUMERIC:return n.getBitsLength(E);case e.KANJI:return i.getBitsLength(E);case e.BYTE:return A.getBitsLength(E)}}function d(E){return E.reduce(function(T,I){const b=T.length-1>=0?T[T.length-1]:null;return b&&b.mode===I.mode?(T[T.length-1].data+=I.data,T):(T.push(I),T)},[])}function g(E){const T=[];for(let I=0;I<E.length;I++){const b=E[I];switch(b.mode){case e.NUMERIC:T.push([b,{data:b.data,mode:e.ALPHANUMERIC,length:b.length},{data:b.data,mode:e.BYTE,length:b.length}]);break;case e.ALPHANUMERIC:T.push([b,{data:b.data,mode:e.BYTE,length:b.length}]);break;case e.KANJI:T.push([b,{data:b.data,mode:e.BYTE,length:u(b.data)}]);break;case e.BYTE:T.push([{data:b.data,mode:e.BYTE,length:u(b.data)}])}}return T}function m(E,T){const I={},b={start:{}};let P=["start"];for(let Q=0;Q<E.length;Q++){const v=E[Q],y=[];for(let w=0;w<v.length;w++){const U=v[w],F=""+Q+w;y.push(F),I[F]={node:U,lastCount:0},b[F]={};for(let R=0;R<P.length;R++){const S=P[R];I[S]&&I[S].node.mode===U.mode?(b[S][F]=f(I[S].lastCount+U.length,U.mode)-f(I[S].lastCount,U.mode),I[S].lastCount+=U.length):(I[S]&&(I[S].lastCount=U.length),b[S][F]=f(U.length,U.mode)+4+e.getCharCountIndicator(U.mode,T))}}P=y}for(let Q=0;Q<P.length;Q++)b[P[Q]].end=0;return{map:b,table:I}}function C(E,T){let I;const b=e.getBestModeForData(E);if(I=e.from(T,b),I!==e.BYTE&&I.bit<b.bit)throw new Error('"'+E+'" cannot be encoded with mode '+e.toString(I)+`.
 Suggested mode is: `+e.toString(b));switch(I===e.KANJI&&!a.isKanjiModeEnabled()&&(I=e.BYTE),I){case e.NUMERIC:return new t(E);case e.ALPHANUMERIC:return new n(E);case e.KANJI:return new i(E);case e.BYTE:return new A(E)}}r.fromArray=function(T){return T.reduce(function(I,b){return typeof b=="string"?I.push(C(b,null)):b.data&&I.push(C(b.data,b.mode)),I},[])},r.fromString=function(T,I){const b=h(T,a.isKanjiModeEnabled()),P=g(b),Q=m(P,I),v=o.find_path(Q.map,"start","end"),y=[];for(let w=1;w<v.length-1;w++)y.push(Q.table[v[w]].node);return r.fromArray(d(y))},r.rawSplit=function(T){return r.fromArray(h(T,a.isKanjiModeEnabled()))}})(jf)),jf}var yT;function U9(){if(yT)return Rf;yT=1;const r=Vi(),e=Kw(),t=h9(),n=f9(),A=d9(),i=g9(),s=p9(),a=pP(),o=y9(),u=w9(),l=B9(),h=Ki(),f=b9();function d(Q,v){const y=Q.size,w=i.getPositions(v);for(let U=0;U<w.length;U++){const F=w[U][0],R=w[U][1];for(let S=-1;S<=7;S++)if(!(F+S<=-1||y<=F+S))for(let L=-1;L<=7;L++)R+L<=-1||y<=R+L||(S>=0&&S<=6&&(L===0||L===6)||L>=0&&L<=6&&(S===0||S===6)||S>=2&&S<=4&&L>=2&&L<=4?Q.set(F+S,R+L,!0,!0):Q.set(F+S,R+L,!1,!0))}}function g(Q){const v=Q.size;for(let y=8;y<v-8;y++){const w=y%2===0;Q.set(y,6,w,!0),Q.set(6,y,w,!0)}}function m(Q,v){const y=A.getPositions(v);for(let w=0;w<y.length;w++){const U=y[w][0],F=y[w][1];for(let R=-2;R<=2;R++)for(let S=-2;S<=2;S++)R===-2||R===2||S===-2||S===2||R===0&&S===0?Q.set(U+R,F+S,!0,!0):Q.set(U+R,F+S,!1,!0)}}function C(Q,v){const y=Q.size,w=u.getEncodedBits(v);let U,F,R;for(let S=0;S<18;S++)U=Math.floor(S/3),F=S%3+y-8-3,R=(w>>S&1)===1,Q.set(U,F,R,!0),Q.set(F,U,R,!0)}function E(Q,v,y){const w=Q.size,U=l.getEncodedBits(v,y);let F,R;for(F=0;F<15;F++)R=(U>>F&1)===1,F<6?Q.set(F,8,R,!0):F<8?Q.set(F+1,8,R,!0):Q.set(w-15+F,8,R,!0),F<8?Q.set(8,w-F-1,R,!0):F<9?Q.set(8,15-F-1+1,R,!0):Q.set(8,15-F-1,R,!0);Q.set(w-8,8,1,!0)}function T(Q,v){const y=Q.size;let w=-1,U=y-1,F=7,R=0;for(let S=y-1;S>0;S-=2)for(S===6&&S--;;){for(let L=0;L<2;L++)if(!Q.isReserved(U,S-L)){let q=!1;R<v.length&&(q=(v[R]>>>F&1)===1),Q.set(U,S-L,q),F--,F===-1&&(R++,F=7)}if(U+=w,U<0||y<=U){U-=w,w=-w;break}}}function I(Q,v,y){const w=new t;y.forEach(function(L){w.put(L.mode.bit,4),w.put(L.getLength(),h.getCharCountIndicator(L.mode,Q)),L.write(w)});const U=r.getSymbolTotalCodewords(Q),F=a.getTotalCodewordsCount(Q,v),R=(U-F)*8;for(w.getLengthInBits()+4<=R&&w.put(0,4);w.getLengthInBits()%8!==0;)w.putBit(0);const S=(R-w.getLengthInBits())/8;for(let L=0;L<S;L++)w.put(L%2?17:236,8);return b(w,Q,v)}function b(Q,v,y){const w=r.getSymbolTotalCodewords(v),U=a.getTotalCodewordsCount(v,y),F=w-U,R=a.getBlocksCount(v,y),S=w%R,L=R-S,q=Math.floor(w/R),H=Math.floor(F/R),k=H+1,V=q-H,j=new o(V);let $=0;const O=new Array(R),N=new Array(R);let G=0;const z=new Uint8Array(Q.buffer);for(let _e=0;_e<R;_e++){const xe=_e<L?H:k;O[_e]=z.slice($,$+xe),N[_e]=j.encode(O[_e]),$+=xe,G=Math.max(G,xe)}const W=new Uint8Array(w);let se=0,ne,Ee;for(ne=0;ne<G;ne++)for(Ee=0;Ee<R;Ee++)ne<O[Ee].length&&(W[se++]=O[Ee][ne]);for(ne=0;ne<V;ne++)for(Ee=0;Ee<R;Ee++)W[se++]=N[Ee][ne];return W}function P(Q,v,y,w){let U;if(Array.isArray(Q))U=f.fromArray(Q);else if(typeof Q=="string"){let q=v;if(!q){const H=f.rawSplit(Q);q=u.getBestVersionForData(H,y)}U=f.fromString(Q,q||40)}else throw new Error("Invalid data");const F=u.getBestVersionForData(U,y);if(!F)throw new Error("The amount of data is too big to be stored in a QR Code");if(!v)v=F;else if(v<F)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+F+`.
`);const R=I(v,y,U),S=r.getSymbolSize(v),L=new n(S);return d(L,v),g(L),m(L,v),E(L,y,0),v>=7&&C(L,v),T(L,R),isNaN(w)&&(w=s.getBestMask(L,E.bind(null,L,y))),s.applyMask(w,L),E(L,y,w),{modules:L,version:v,errorCorrectionLevel:y,maskPattern:w,segments:U}}return Rf.create=function(v,y){if(typeof v>"u"||v==="")throw new Error("No input text");let w=e.M,U,F;return typeof y<"u"&&(w=e.from(y.errorCorrectionLevel,e.M),U=u.from(y.version),F=s.from(y.maskPattern),y.toSJISFunc&&r.setToSJISFunction(y.toSJISFunc)),P(v,U,w,F)},Rf}var Yf={},Jf={},wT;function yP(){return wT||(wT=1,(function(r){function e(t){if(typeof t=="number"&&(t=t.toString()),typeof t!="string")throw new Error("Color should be defined as hex string");let n=t.slice().replace("#","").split("");if(n.length<3||n.length===5||n.length>8)throw new Error("Invalid hex color: "+t);(n.length===3||n.length===4)&&(n=Array.prototype.concat.apply([],n.map(function(i){return[i,i]}))),n.length===6&&n.push("F","F");const A=parseInt(n.join(""),16);return{r:A>>24&255,g:A>>16&255,b:A>>8&255,a:A&255,hex:"#"+n.slice(0,6).join("")}}r.getOptions=function(n){n||(n={}),n.color||(n.color={});const A=typeof n.margin>"u"||n.margin===null||n.margin<0?4:n.margin,i=n.width&&n.width>=21?n.width:void 0,s=n.scale||4;return{width:i,scale:i?4:s,margin:A,color:{dark:e(n.color.dark||"#000000ff"),light:e(n.color.light||"#ffffffff")},type:n.type,rendererOpts:n.rendererOpts||{}}},r.getScale=function(n,A){return A.width&&A.width>=n+A.margin*2?A.width/(n+A.margin*2):A.scale},r.getImageWidth=function(n,A){const i=r.getScale(n,A);return Math.floor((n+A.margin*2)*i)},r.qrToImageData=function(n,A,i){const s=A.modules.size,a=A.modules.data,o=r.getScale(s,i),u=Math.floor((s+i.margin*2)*o),l=i.margin*o,h=[i.color.light,i.color.dark];for(let f=0;f<u;f++)for(let d=0;d<u;d++){let g=(f*u+d)*4,m=i.color.light;if(f>=l&&d>=l&&f<u-l&&d<u-l){const C=Math.floor((f-l)/o),E=Math.floor((d-l)/o);m=h[a[C*s+E]?1:0]}n[g++]=m.r,n[g++]=m.g,n[g++]=m.b,n[g]=m.a}}})(Jf)),Jf}var BT;function F9(){return BT||(BT=1,(function(r){const e=yP();function t(A,i,s){A.clearRect(0,0,i.width,i.height),i.style||(i.style={}),i.height=s,i.width=s,i.style.height=s+"px",i.style.width=s+"px"}function n(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}r.render=function(i,s,a){let o=a,u=s;typeof o>"u"&&(!s||!s.getContext)&&(o=s,s=void 0),s||(u=n()),o=e.getOptions(o);const l=e.getImageWidth(i.modules.size,o),h=u.getContext("2d"),f=h.createImageData(l,l);return e.qrToImageData(f.data,i,o),t(h,u,l),h.putImageData(f,0,0),u},r.renderToDataURL=function(i,s,a){let o=a;typeof o>"u"&&(!s||!s.getContext)&&(o=s,s=void 0),o||(o={});const u=r.render(i,s,o),l=o.type||"image/png",h=o.rendererOpts||{};return u.toDataURL(l,h.quality)}})(Yf)),Yf}var Zf={},CT;function S9(){if(CT)return Zf;CT=1;const r=yP();function e(A,i){const s=A.a/255,a=i+'="'+A.hex+'"';return s<1?a+" "+i+'-opacity="'+s.toFixed(2).slice(1)+'"':a}function t(A,i,s){let a=A+i;return typeof s<"u"&&(a+=" "+s),a}function n(A,i,s){let a="",o=0,u=!1,l=0;for(let h=0;h<A.length;h++){const f=Math.floor(h%i),d=Math.floor(h/i);!f&&!u&&(u=!0),A[h]?(l++,h>0&&f>0&&A[h-1]||(a+=u?t("M",f+s,.5+d+s):t("m",o,0),o=0,u=!1),f+1<i&&A[h+1]||(a+=t("h",l),l=0)):o++}return a}return Zf.render=function(i,s,a){const o=r.getOptions(s),u=i.modules.size,l=i.modules.data,h=u+o.margin*2,f=o.color.light.a?"<path "+e(o.color.light,"fill")+' d="M0 0h'+h+"v"+h+'H0z"/>':"",d="<path "+e(o.color.dark,"stroke")+' d="'+n(l,u,o.margin)+'"/>',g='viewBox="0 0 '+h+" "+h+'"',C='<svg xmlns="http://www.w3.org/2000/svg" '+(o.width?'width="'+o.width+'" height="'+o.width+'" ':"")+g+' shape-rendering="crispEdges">'+f+d+`</svg>
`;return typeof a=="function"&&a(null,C),C},Zf}var ET;function Q9(){if(ET)return es;ET=1;const r=c9(),e=U9(),t=F9(),n=S9();function A(i,s,a,o,u){const l=[].slice.call(arguments,1),h=l.length,f=typeof l[h-1]=="function";if(!f&&!r())throw new Error("Callback required as last argument");if(f){if(h<2)throw new Error("Too few arguments provided");h===2?(u=a,a=s,s=o=void 0):h===3&&(s.getContext&&typeof u>"u"?(u=o,o=void 0):(u=o,o=a,a=s,s=void 0))}else{if(h<1)throw new Error("Too few arguments provided");return h===1?(a=s,s=o=void 0):h===2&&!s.getContext&&(o=a,a=s,s=void 0),new Promise(function(d,g){try{const m=e.create(a,o);d(i(m,s,o))}catch(m){g(m)}})}try{const d=e.create(a,o);u(null,i(d,s,o))}catch(d){u(d)}}return es.create=e.create,es.toCanvas=A.bind(null,t.render),es.toDataURL=A.bind(null,t.renderToDataURL),es.toString=A.bind(null,function(i,s,a){return n.render(i,a)}),es}var R9=Q9();const Qee=So(R9);/*!
 * html2canvas 1.4.1 <https://html2canvas.hertzen.com>
 * Copyright (c) 2022 Niklas von Hertzen <https://hertzen.com>
 * Released under MIT License
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var fv=function(r,e){return fv=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var A in n)Object.prototype.hasOwnProperty.call(n,A)&&(t[A]=n[A])},fv(r,e)};function pn(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");fv(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var dv=function(){return dv=Object.assign||function(e){for(var t,n=1,A=arguments.length;n<A;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},dv.apply(this,arguments)};function cr(r,e,t,n){function A(i){return i instanceof t?i:new t(function(s){s(i)})}return new(t||(t=Promise))(function(i,s){function a(l){try{u(n.next(l))}catch(h){s(h)}}function o(l){try{u(n.throw(l))}catch(h){s(h)}}function u(l){l.done?i(l.value):A(l.value).then(a,o)}u((n=n.apply(r,[])).next())})}function tr(r,e){var t={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,A,i,s;return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(u){return function(l){return o([u,l])}}function o(u){if(n)throw new TypeError("Generator is already executing.");for(;t;)try{if(n=1,A&&(i=u[0]&2?A.return:u[0]?A.throw||((i=A.return)&&i.call(A),0):A.next)&&!(i=i.call(A,u[1])).done)return i;switch(A=0,i&&(u=[u[0]&2,i.value]),u[0]){case 0:case 1:i=u;break;case 4:return t.label++,{value:u[1],done:!1};case 5:t.label++,A=u[1],u=[0];continue;case 7:u=t.ops.pop(),t.trys.pop();continue;default:if(i=t.trys,!(i=i.length>0&&i[i.length-1])&&(u[0]===6||u[0]===2)){t=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){t.label=u[1];break}if(u[0]===6&&t.label<i[1]){t.label=i[1],i=u;break}if(i&&t.label<i[2]){t.label=i[2],t.ops.push(u);break}i[2]&&t.ops.pop(),t.trys.pop();continue}u=e.call(r,t)}catch(l){u=[6,l],A=0}finally{n=i=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}function Vu(r,e,t){if(arguments.length===2)for(var n=0,A=e.length,i;n<A;n++)(i||!(n in e))&&(i||(i=Array.prototype.slice.call(e,0,n)),i[n]=e[n]);return r.concat(i||e)}var hA=(function(){function r(e,t,n,A){this.left=e,this.top=t,this.width=n,this.height=A}return r.prototype.add=function(e,t,n,A){return new r(this.left+e,this.top+t,this.width+n,this.height+A)},r.fromClientRect=function(e,t){return new r(t.left+e.windowBounds.left,t.top+e.windowBounds.top,t.width,t.height)},r.fromDOMRectList=function(e,t){var n=Array.from(t).find(function(A){return A.width!==0});return n?new r(n.left+e.windowBounds.left,n.top+e.windowBounds.top,n.width,n.height):r.EMPTY},r.EMPTY=new r(0,0,0,0),r})(),th=function(r,e){return hA.fromClientRect(r,e.getBoundingClientRect())},x9=function(r){var e=r.body,t=r.documentElement;if(!e||!t)throw new Error("Unable to get document size");var n=Math.max(Math.max(e.scrollWidth,t.scrollWidth),Math.max(e.offsetWidth,t.offsetWidth),Math.max(e.clientWidth,t.clientWidth)),A=Math.max(Math.max(e.scrollHeight,t.scrollHeight),Math.max(e.offsetHeight,t.offsetHeight),Math.max(e.clientHeight,t.clientHeight));return new hA(0,0,n,A)},rh=function(r){for(var e=[],t=0,n=r.length;t<n;){var A=r.charCodeAt(t++);if(A>=55296&&A<=56319&&t<n){var i=r.charCodeAt(t++);(i&64512)===56320?e.push(((A&1023)<<10)+(i&1023)+65536):(e.push(A),t--)}else e.push(A)}return e},dt=function(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];if(String.fromCodePoint)return String.fromCodePoint.apply(String,r);var t=r.length;if(!t)return"";for(var n=[],A=-1,i="";++A<t;){var s=r[A];s<=65535?n.push(s):(s-=65536,n.push((s>>10)+55296,s%1024+56320)),(A+1===t||n.length>16384)&&(i+=String.fromCharCode.apply(String,n),n.length=0)}return i},_T="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",P9=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var Ku=0;Ku<_T.length;Ku++)P9[_T.charCodeAt(Ku)]=Ku;var TT="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Oa=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var Gu=0;Gu<TT.length;Gu++)Oa[TT.charCodeAt(Gu)]=Gu;var O9=function(r){var e=r.length*.75,t=r.length,n,A=0,i,s,a,o;r[r.length-1]==="="&&(e--,r[r.length-2]==="="&&e--);var u=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(e):new Array(e),l=Array.isArray(u)?u:new Uint8Array(u);for(n=0;n<t;n+=4)i=Oa[r.charCodeAt(n)],s=Oa[r.charCodeAt(n+1)],a=Oa[r.charCodeAt(n+2)],o=Oa[r.charCodeAt(n+3)],l[A++]=i<<2|s>>4,l[A++]=(s&15)<<4|a>>2,l[A++]=(a&3)<<6|o&63;return u},D9=function(r){for(var e=r.length,t=[],n=0;n<e;n+=2)t.push(r[n+1]<<8|r[n]);return t},L9=function(r){for(var e=r.length,t=[],n=0;n<e;n+=4)t.push(r[n+3]<<24|r[n+2]<<16|r[n+1]<<8|r[n]);return t},Ii=5,Gw=11,ed=2,M9=Gw-Ii,wP=65536>>Ii,N9=1<<Ii,td=N9-1,k9=1024>>Ii,H9=wP+k9,V9=H9,K9=32,G9=V9+K9,j9=65536>>Gw,q9=1<<M9,W9=q9-1,IT=function(r,e,t){return r.slice?r.slice(e,t):new Uint16Array(Array.prototype.slice.call(r,e,t))},$9=function(r,e,t){return r.slice?r.slice(e,t):new Uint32Array(Array.prototype.slice.call(r,e,t))},X9=function(r,e){var t=O9(r),n=Array.isArray(t)?L9(t):new Uint32Array(t),A=Array.isArray(t)?D9(t):new Uint16Array(t),i=24,s=IT(A,i/2,n[4]/2),a=n[5]===2?IT(A,(i+n[4])/2):$9(n,Math.ceil((i+n[4])/4));return new z9(n[0],n[1],n[2],n[3],s,a)},z9=(function(){function r(e,t,n,A,i,s){this.initialValue=e,this.errorValue=t,this.highStart=n,this.highValueIndex=A,this.index=i,this.data=s}return r.prototype.get=function(e){var t;if(e>=0){if(e<55296||e>56319&&e<=65535)return t=this.index[e>>Ii],t=(t<<ed)+(e&td),this.data[t];if(e<=65535)return t=this.index[wP+(e-55296>>Ii)],t=(t<<ed)+(e&td),this.data[t];if(e<this.highStart)return t=G9-j9+(e>>Gw),t=this.index[t],t+=e>>Ii&W9,t=this.index[t],t=(t<<ed)+(e&td),this.data[t];if(e<=1114111)return this.data[this.highValueIndex]}return this.errorValue},r})(),bT="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Y9=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var ju=0;ju<bT.length;ju++)Y9[bT.charCodeAt(ju)]=ju;var J9="KwAAAAAAAAAACA4AUD0AADAgAAACAAAAAAAIABAAGABAAEgAUABYAGAAaABgAGgAYgBqAF8AZwBgAGgAcQB5AHUAfQCFAI0AlQCdAKIAqgCyALoAYABoAGAAaABgAGgAwgDKAGAAaADGAM4A0wDbAOEA6QDxAPkAAQEJAQ8BFwF1AH0AHAEkASwBNAE6AUIBQQFJAVEBWQFhAWgBcAF4ATAAgAGGAY4BlQGXAZ8BpwGvAbUBvQHFAc0B0wHbAeMB6wHxAfkBAQIJAvEBEQIZAiECKQIxAjgCQAJGAk4CVgJeAmQCbAJ0AnwCgQKJApECmQKgAqgCsAK4ArwCxAIwAMwC0wLbAjAA4wLrAvMC+AIAAwcDDwMwABcDHQMlAy0DNQN1AD0DQQNJA0kDSQNRA1EDVwNZA1kDdQB1AGEDdQBpA20DdQN1AHsDdQCBA4kDkQN1AHUAmQOhA3UAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AKYDrgN1AHUAtgO+A8YDzgPWAxcD3gPjA+sD8wN1AHUA+wMDBAkEdQANBBUEHQQlBCoEFwMyBDgEYABABBcDSARQBFgEYARoBDAAcAQzAXgEgASIBJAEdQCXBHUAnwSnBK4EtgS6BMIEyAR1AHUAdQB1AHUAdQCVANAEYABgAGAAYABgAGAAYABgANgEYADcBOQEYADsBPQE/AQEBQwFFAUcBSQFLAU0BWQEPAVEBUsFUwVbBWAAYgVgAGoFcgV6BYIFigWRBWAAmQWfBaYFYABgAGAAYABgAKoFYACxBbAFuQW6BcEFwQXHBcEFwQXPBdMF2wXjBeoF8gX6BQIGCgYSBhoGIgYqBjIGOgZgAD4GRgZMBmAAUwZaBmAAYABgAGAAYABgAGAAYABgAGAAYABgAGIGYABpBnAGYABgAGAAYABgAGAAYABgAGAAYAB4Bn8GhQZgAGAAYAB1AHcDFQSLBmAAYABgAJMGdQA9A3UAmwajBqsGqwaVALMGuwbDBjAAywbSBtIG1QbSBtIG0gbSBtIG0gbdBuMG6wbzBvsGAwcLBxMHAwcbByMHJwcsBywHMQcsB9IGOAdAB0gHTgfSBkgHVgfSBtIG0gbSBtIG0gbSBtIG0gbSBiwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdgAGAALAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdbB2MHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB2kH0gZwB64EdQB1AHUAdQB1AHUAdQB1AHUHfQdgAIUHjQd1AHUAlQedB2AAYAClB6sHYACzB7YHvgfGB3UAzgfWBzMB3gfmB1EB7gf1B/0HlQENAQUIDQh1ABUIHQglCBcDLQg1CD0IRQhNCEEDUwh1AHUAdQBbCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIcAh3CHoIMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIgggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAALAcsBywHLAcsBywHLAcsBywHLAcsB4oILAcsB44I0gaWCJ4Ipgh1AHUAqgiyCHUAdQB1AHUAdQB1AHUAdQB1AHUAtwh8AXUAvwh1AMUIyQjRCNkI4AjoCHUAdQB1AO4I9gj+CAYJDgkTCS0HGwkjCYIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiAAIAAAAFAAYABgAGIAXwBgAHEAdQBFAJUAogCyAKAAYABgAEIA4ABGANMA4QDxAMEBDwE1AFwBLAE6AQEBUQF4QkhCmEKoQrhCgAHIQsAB0MLAAcABwAHAAeDC6ABoAHDCwMMAAcABwAHAAdDDGMMAAcAB6MM4wwjDWMNow3jDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEjDqABWw6bDqABpg6gAaABoAHcDvwOPA+gAaABfA/8DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DpcPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB9cPKwkyCToJMAB1AHUAdQBCCUoJTQl1AFUJXAljCWcJawkwADAAMAAwAHMJdQB2CX4JdQCECYoJjgmWCXUAngkwAGAAYABxAHUApgn3A64JtAl1ALkJdQDACTAAMAAwADAAdQB1AHUAdQB1AHUAdQB1AHUAowYNBMUIMAAwADAAMADICcsJ0wnZCRUE4QkwAOkJ8An4CTAAMAB1AAAKvwh1AAgKDwoXCh8KdQAwACcKLgp1ADYKqAmICT4KRgowADAAdQB1AE4KMAB1AFYKdQBeCnUAZQowADAAMAAwADAAMAAwADAAMAAVBHUAbQowADAAdQC5CXUKMAAwAHwBxAijBogEMgF9CoQKiASMCpQKmgqIBKIKqgquCogEDQG2Cr4KxgrLCjAAMADTCtsKCgHjCusK8Qr5CgELMAAwADAAMAB1AIsECQsRC3UANAEZCzAAMAAwADAAMAB1ACELKQswAHUANAExCzkLdQBBC0kLMABRC1kLMAAwADAAMAAwADAAdQBhCzAAMAAwAGAAYABpC3ELdwt/CzAAMACHC4sLkwubC58Lpwt1AK4Ltgt1APsDMAAwADAAMAAwADAAMAAwAL4LwwvLC9IL1wvdCzAAMADlC+kL8Qv5C/8LSQswADAAMAAwADAAMAAwADAAMAAHDDAAMAAwADAAMAAODBYMHgx1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1ACYMMAAwADAAdQB1AHUALgx1AHUAdQB1AHUAdQA2DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AD4MdQBGDHUAdQB1AHUAdQB1AEkMdQB1AHUAdQB1AFAMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQBYDHUAdQB1AF8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUA+wMVBGcMMAAwAHwBbwx1AHcMfwyHDI8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAYABgAJcMMAAwADAAdQB1AJ8MlQClDDAAMACtDCwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB7UMLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AA0EMAC9DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAsBywHLAcsBywHLAcsBywHLQcwAMEMyAwsBywHLAcsBywHLAcsBywHLAcsBywHzAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1ANQM2QzhDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMABgAGAAYABgAGAAYABgAOkMYADxDGAA+AwADQYNYABhCWAAYAAODTAAMAAwADAAFg1gAGAAHg37AzAAMAAwADAAYABgACYNYAAsDTQNPA1gAEMNPg1LDWAAYABgAGAAYABgAGAAYABgAGAAUg1aDYsGVglhDV0NcQBnDW0NdQ15DWAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAlQCBDZUAiA2PDZcNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAnw2nDTAAMAAwADAAMAAwAHUArw23DTAAMAAwADAAMAAwADAAMAAwADAAMAB1AL8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQDHDTAAYABgAM8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA1w11ANwNMAAwAD0B5A0wADAAMAAwADAAMADsDfQN/A0EDgwOFA4wABsOMAAwADAAMAAwADAAMAAwANIG0gbSBtIG0gbSBtIG0gYjDigOwQUuDsEFMw7SBjoO0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGQg5KDlIOVg7SBtIGXg5lDm0OdQ7SBtIGfQ6EDooOjQ6UDtIGmg6hDtIG0gaoDqwO0ga0DrwO0gZgAGAAYADEDmAAYAAkBtIGzA5gANIOYADaDokO0gbSBt8O5w7SBu8O0gb1DvwO0gZgAGAAxA7SBtIG0gbSBtIGYABgAGAAYAAED2AAsAUMD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHJA8sBywHLAcsBywHLAccDywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywPLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAc0D9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHPA/SBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gYUD0QPlQCVAJUAMAAwADAAMACVAJUAlQCVAJUAlQCVAEwPMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA//8EAAQABAAEAAQABAAEAAQABAANAAMAAQABAAIABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQACgATABcAHgAbABoAHgAXABYAEgAeABsAGAAPABgAHABLAEsASwBLAEsASwBLAEsASwBLABgAGAAeAB4AHgATAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAGwASAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWAA0AEQAeAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAFAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJABYAGgAbABsAGwAeAB0AHQAeAE8AFwAeAA0AHgAeABoAGwBPAE8ADgBQAB0AHQAdAE8ATwAXAE8ATwBPABYAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwBWAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsABAAbABsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEAA0ADQBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABABQACsAKwArACsAKwArACsAKwAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUAAaABoAUABQAFAAUABQAEwAHgAbAFAAHgAEACsAKwAEAAQABAArAFAAUABQAFAAUABQACsAKwArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQACsAUABQACsAKwAEACsABAAEAAQABAAEACsAKwArACsABAAEACsAKwAEAAQABAArACsAKwAEACsAKwArACsAKwArACsAUABQAFAAUAArAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAAQABABQAFAAUAAEAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAArACsAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AGwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAKwArACsAKwArAAQABAAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAAQAUAArAFAAUABQAFAAUABQACsAKwArAFAAUABQACsAUABQAFAAUAArACsAKwBQAFAAKwBQACsAUABQACsAKwArAFAAUAArACsAKwBQAFAAUAArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAArACsAKwAEAAQABAArAAQABAAEAAQAKwArAFAAKwArACsAKwArACsABAArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAHgAeAB4AHgAeAB4AGwAeACsAKwArACsAKwAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAUABQAFAAKwArACsAKwArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwAOAFAAUABQAFAAUABQAFAAHgBQAAQABAAEAA4AUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAKwArAAQAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAKwArACsAKwArACsAUAArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAXABcAFwAXABcACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAXAArAFwAXABcAFwAXABcAFwAXABcAFwAKgBcAFwAKgAqACoAKgAqACoAKgAqACoAXAArACsAXABcAFwAXABcACsAXAArACoAKgAqACoAKgAqACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwBcAFwAXABcAFAADgAOAA4ADgAeAA4ADgAJAA4ADgANAAkAEwATABMAEwATAAkAHgATAB4AHgAeAAQABAAeAB4AHgAeAB4AHgBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAADQAEAB4ABAAeAAQAFgARABYAEQAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAAQABAAEAAQADQAEAAQAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAA0ADQAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeACsAHgAeAA4ADgANAA4AHgAeAB4AHgAeAAkACQArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgBcAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4AHgAeAB4AXABcAFwAXABcAFwAKgAqACoAKgBcAFwAXABcACoAKgAqAFwAKgAqACoAXABcACoAKgAqACoAKgAqACoAXABcAFwAKgAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwAKgBLAEsASwBLAEsASwBLAEsASwBLACoAKgAqACoAKgAqAFAAUABQAFAAUABQACsAUAArACsAKwArACsAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAKwBQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsABAAEAAQAHgANAB4AHgAeAB4AHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUAArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWABEAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAANAA0AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUAArAAQABAArACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAA0ADQAVAFwADQAeAA0AGwBcACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwAeAB4AEwATAA0ADQAOAB4AEwATAB4ABAAEAAQACQArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAHgArACsAKwATABMASwBLAEsASwBLAEsASwBLAEsASwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAXABcAFwAXABcACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXAArACsAKwAqACoAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsAHgAeAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKwArAAQASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACoAKgAqACoAKgAqACoAXAAqACoAKgAqACoAKgArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABABQAFAAUABQAFAAUABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgANAA0ADQANAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwAeAB4AHgAeAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArAA0ADQANAA0ADQBLAEsASwBLAEsASwBLAEsASwBLACsAKwArAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUAAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAAQAUABQAFAAUABQAFAABABQAFAABAAEAAQAUAArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQACsAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQACsAKwAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQACsAHgAeAB4AHgAeAB4AHgAOAB4AKwANAA0ADQANAA0ADQANAAkADQANAA0ACAAEAAsABAAEAA0ACQANAA0ADAAdAB0AHgAXABcAFgAXABcAFwAWABcAHQAdAB4AHgAUABQAFAANAAEAAQAEAAQABAAEAAQACQAaABoAGgAaABoAGgAaABoAHgAXABcAHQAVABUAHgAeAB4AHgAeAB4AGAAWABEAFQAVABUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ADQAeAA0ADQANAA0AHgANAA0ADQAHAB4AHgAeAB4AKwAEAAQABAAEAAQABAAEAAQABAAEAFAAUAArACsATwBQAFAAUABQAFAAHgAeAB4AFgARAE8AUABPAE8ATwBPAFAAUABQAFAAUAAeAB4AHgAWABEAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArABsAGwAbABsAGwAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGgAbABsAGwAbABoAGwAbABoAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAFAAGgAeAB0AHgBQAB4AGgAeAB4AHgAeAB4AHgAeAB4AHgBPAB4AUAAbAB4AHgBQAFAAUABQAFAAHgAeAB4AHQAdAB4AUAAeAFAAHgBQAB4AUABPAFAAUAAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgBQAFAAUABQAE8ATwBQAFAAUABQAFAATwBQAFAATwBQAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAUABQAFAATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABPAB4AHgArACsAKwArAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAdAB4AHgAeAB0AHQAeAB4AHQAeAB4AHgAdAB4AHQAbABsAHgAdAB4AHgAeAB4AHQAeAB4AHQAdAB0AHQAeAB4AHQAeAB0AHgAdAB0AHQAdAB0AHQAeAB0AHgAeAB4AHgAeAB0AHQAdAB0AHgAeAB4AHgAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB0AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAdAB0AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHQAdAB0AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHQAdAB4AHgAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AJQAlAB0AHQAlAB4AJQAlACUAIAAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAeAB0AJQAdAB0AHgAdAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAdAB0AHQAdACUAHgAlACUAJQAdACUAJQAdAB0AHQAlACUAHQAdACUAHQAdACUAJQAlAB4AHQAeAB4AHgAeAB0AHQAlAB0AHQAdAB0AHQAdACUAJQAlACUAJQAdACUAJQAgACUAHQAdACUAJQAlACUAJQAlACUAJQAeAB4AHgAlACUAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AFwAXABcAFwAXABcAHgATABMAJQAeAB4AHgAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARABYAEQAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANAA0AHgANAB4ADQANAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwAlACUAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACsAKwArACsAKwArACsAKwArACsAKwArAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBPAE8ATwBPAE8ATwBPAE8AJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeAAQAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUABQAAQAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAUABQAFAAUABQAAQABAAEACsABAAEACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAKwBQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAA0ADQANAA0ADQANAA0ADQAeACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAArACsAKwArAFAAUABQAFAAUAANAA0ADQANAA0ADQAUACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQANAA0ADQANAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAANACsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAB4AHgAeAB4AHgArACsAKwArACsAKwAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANAFAABAAEAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAEAAQABAAEAB4ABAAEAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsABAAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLAA0ADQArAB4ABABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUAAeAFAAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAAEAAQADgANAA0AEwATAB4AHgAeAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAFAAUABQAFAABAAEACsAKwAEAA0ADQAeAFAAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcAFwADQANAA0AKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQAKwAEAAQAKwArAAQABAAEAAQAUAAEAFAABAAEAA0ADQANACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABABQAA4AUAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANAFAADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAaABoAGgAaAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAJAAkACQAJAAkACQAJABYAEQArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AHgAeACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAARwBHABUARwAJACsAKwArACsAKwArACsAKwArACsAKwAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAKwArACsAKwArACsAKwArACsAKwArACsAKwBRAFEAUQBRACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAHgAEAAQADQAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAeAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQAHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAKwArAFAAKwArAFAAUAArACsAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAHgAeAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeACsAKwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4ABAAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAHgAeAA0ADQANAA0AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArAAQABAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwBQAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArABsAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAB4AHgAeAB4ABAAEAAQABAAEAAQABABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArABYAFgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAGgBQAFAAUAAaAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUAArACsAKwArACsAKwBQACsAKwArACsAUAArAFAAKwBQACsAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUAArAFAAKwBQACsAUAArAFAAUAArAFAAKwArAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAKwBQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeACUAJQAlAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAHgAlACUAJQAlACUAIAAgACAAJQAlACAAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACEAIQAhACEAIQAlACUAIAAgACUAJQAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAlACUAJQAlACAAIAAgACUAIAAgACAAJQAlACUAJQAlACUAJQAgACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAlAB4AJQAeACUAJQAlACUAJQAgACUAJQAlACUAHgAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACAAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABcAFwAXABUAFQAVAB4AHgAeAB4AJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAgACUAJQAgACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAIAAgACUAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACAAIAAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACAAIAAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAA==",UT=50,Z9=1,BP=2,CP=3,eW=4,tW=5,FT=7,EP=8,ST=9,DA=10,gv=11,QT=12,pv=13,rW=14,Da=15,mv=16,qu=17,ma=18,nW=19,RT=20,vv=21,va=22,rd=23,ts=24,Rr=25,La=26,Ma=27,rs=28,AW=29,di=30,iW=31,Wu=32,$u=33,yv=34,wv=35,Bv=36,bo=37,Cv=38,Rl=39,xl=40,nd=41,_P=42,sW=43,aW=[9001,65288],TP="!",be="",Xu="",Ev=X9(J9),jn=[di,Bv],_v=[Z9,BP,CP,tW],IP=[DA,EP],xT=[Ma,La],oW=_v.concat(IP),PT=[Cv,Rl,xl,yv,wv],uW=[Da,pv],lW=function(r,e){e===void 0&&(e="strict");var t=[],n=[],A=[];return r.forEach(function(i,s){var a=Ev.get(i);if(a>UT?(A.push(!0),a-=UT):A.push(!1),["normal","auto","loose"].indexOf(e)!==-1&&[8208,8211,12316,12448].indexOf(i)!==-1)return n.push(s),t.push(mv);if(a===eW||a===gv){if(s===0)return n.push(s),t.push(di);var o=t[s-1];return oW.indexOf(o)===-1?(n.push(n[s-1]),t.push(o)):(n.push(s),t.push(di))}if(n.push(s),a===iW)return t.push(e==="strict"?vv:bo);if(a===_P||a===AW)return t.push(di);if(a===sW)return i>=131072&&i<=196605||i>=196608&&i<=262141?t.push(bo):t.push(di);t.push(a)}),[n,t,A]},Ad=function(r,e,t,n){var A=n[t];if(Array.isArray(r)?r.indexOf(A)!==-1:r===A)for(var i=t;i<=n.length;){i++;var s=n[i];if(s===e)return!0;if(s!==DA)break}if(A===DA)for(var i=t;i>0;){i--;var a=n[i];if(Array.isArray(r)?r.indexOf(a)!==-1:r===a)for(var o=t;o<=n.length;){o++;var s=n[o];if(s===e)return!0;if(s!==DA)break}if(a!==DA)break}return!1},OT=function(r,e){for(var t=r;t>=0;){var n=e[t];if(n===DA)t--;else return n}return 0},cW=function(r,e,t,n,A){if(t[n]===0)return be;var i=n-1;if(Array.isArray(A)&&A[i]===!0)return be;var s=i-1,a=i+1,o=e[i],u=s>=0?e[s]:0,l=e[a];if(o===BP&&l===CP)return be;if(_v.indexOf(o)!==-1)return TP;if(_v.indexOf(l)!==-1||IP.indexOf(l)!==-1)return be;if(OT(i,e)===EP)return Xu;if(Ev.get(r[i])===gv||(o===Wu||o===$u)&&Ev.get(r[a])===gv||o===FT||l===FT||o===ST||[DA,pv,Da].indexOf(o)===-1&&l===ST||[qu,ma,nW,ts,rs].indexOf(l)!==-1||OT(i,e)===va||Ad(rd,va,i,e)||Ad([qu,ma],vv,i,e)||Ad(QT,QT,i,e))return be;if(o===DA)return Xu;if(o===rd||l===rd)return be;if(l===mv||o===mv)return Xu;if([pv,Da,vv].indexOf(l)!==-1||o===rW||u===Bv&&uW.indexOf(o)!==-1||o===rs&&l===Bv||l===RT||jn.indexOf(l)!==-1&&o===Rr||jn.indexOf(o)!==-1&&l===Rr||o===Ma&&[bo,Wu,$u].indexOf(l)!==-1||[bo,Wu,$u].indexOf(o)!==-1&&l===La||jn.indexOf(o)!==-1&&xT.indexOf(l)!==-1||xT.indexOf(o)!==-1&&jn.indexOf(l)!==-1||[Ma,La].indexOf(o)!==-1&&(l===Rr||[va,Da].indexOf(l)!==-1&&e[a+1]===Rr)||[va,Da].indexOf(o)!==-1&&l===Rr||o===Rr&&[Rr,rs,ts].indexOf(l)!==-1)return be;if([Rr,rs,ts,qu,ma].indexOf(l)!==-1)for(var h=i;h>=0;){var f=e[h];if(f===Rr)return be;if([rs,ts].indexOf(f)!==-1)h--;else break}if([Ma,La].indexOf(l)!==-1)for(var h=[qu,ma].indexOf(o)!==-1?s:i;h>=0;){var f=e[h];if(f===Rr)return be;if([rs,ts].indexOf(f)!==-1)h--;else break}if(Cv===o&&[Cv,Rl,yv,wv].indexOf(l)!==-1||[Rl,yv].indexOf(o)!==-1&&[Rl,xl].indexOf(l)!==-1||[xl,wv].indexOf(o)!==-1&&l===xl||PT.indexOf(o)!==-1&&[RT,La].indexOf(l)!==-1||PT.indexOf(l)!==-1&&o===Ma||jn.indexOf(o)!==-1&&jn.indexOf(l)!==-1||o===ts&&jn.indexOf(l)!==-1||jn.concat(Rr).indexOf(o)!==-1&&l===va&&aW.indexOf(r[a])===-1||jn.concat(Rr).indexOf(l)!==-1&&o===ma)return be;if(o===nd&&l===nd){for(var d=t[i],g=1;d>0&&(d--,e[d]===nd);)g++;if(g%2!==0)return be}return o===Wu&&l===$u?be:Xu},hW=function(r,e){e||(e={lineBreak:"normal",wordBreak:"normal"});var t=lW(r,e.lineBreak),n=t[0],A=t[1],i=t[2];(e.wordBreak==="break-all"||e.wordBreak==="break-word")&&(A=A.map(function(a){return[Rr,di,_P].indexOf(a)!==-1?bo:a}));var s=e.wordBreak==="keep-all"?i.map(function(a,o){return a&&r[o]>=19968&&r[o]<=40959}):void 0;return[n,A,s]},fW=(function(){function r(e,t,n,A){this.codePoints=e,this.required=t===TP,this.start=n,this.end=A}return r.prototype.slice=function(){return dt.apply(void 0,this.codePoints.slice(this.start,this.end))},r})(),dW=function(r,e){var t=rh(r),n=hW(t,e),A=n[0],i=n[1],s=n[2],a=t.length,o=0,u=0;return{next:function(){if(u>=a)return{done:!0,value:null};for(var l=be;u<a&&(l=cW(t,i,A,++u,s))===be;);if(l!==be||u===a){var h=new fW(t,l,o,u);return o=u,{value:h,done:!1}}return{done:!0,value:null}}}},gW=1,pW=2,zo=4,DT=8,hc=10,LT=47,to=92,mW=9,vW=32,zu=34,ya=61,yW=35,wW=36,BW=37,Yu=39,Ju=40,wa=41,CW=95,yr=45,EW=33,_W=60,TW=62,IW=64,bW=91,UW=93,FW=61,SW=123,Zu=63,QW=125,MT=124,RW=126,xW=128,NT=65533,id=42,Bi=43,PW=44,OW=58,DW=59,Uo=46,LW=0,MW=8,NW=11,kW=14,HW=31,VW=127,Cn=-1,bP=48,UP=97,FP=101,KW=102,GW=117,jW=122,SP=65,QP=69,RP=70,qW=85,WW=90,nr=function(r){return r>=bP&&r<=57},$W=function(r){return r>=55296&&r<=57343},ns=function(r){return nr(r)||r>=SP&&r<=RP||r>=UP&&r<=KW},XW=function(r){return r>=UP&&r<=jW},zW=function(r){return r>=SP&&r<=WW},YW=function(r){return XW(r)||zW(r)},JW=function(r){return r>=xW},el=function(r){return r===hc||r===mW||r===vW},fc=function(r){return YW(r)||JW(r)||r===CW},kT=function(r){return fc(r)||nr(r)||r===yr},ZW=function(r){return r>=LW&&r<=MW||r===NW||r>=kW&&r<=HW||r===VW},UA=function(r,e){return r!==to?!1:e!==hc},tl=function(r,e,t){return r===yr?fc(e)||UA(e,t):fc(r)?!0:!!(r===to&&UA(r,e))},sd=function(r,e,t){return r===Bi||r===yr?nr(e)?!0:e===Uo&&nr(t):nr(r===Uo?e:r)},e$=function(r){var e=0,t=1;(r[e]===Bi||r[e]===yr)&&(r[e]===yr&&(t=-1),e++);for(var n=[];nr(r[e]);)n.push(r[e++]);var A=n.length?parseInt(dt.apply(void 0,n),10):0;r[e]===Uo&&e++;for(var i=[];nr(r[e]);)i.push(r[e++]);var s=i.length,a=s?parseInt(dt.apply(void 0,i),10):0;(r[e]===QP||r[e]===FP)&&e++;var o=1;(r[e]===Bi||r[e]===yr)&&(r[e]===yr&&(o=-1),e++);for(var u=[];nr(r[e]);)u.push(r[e++]);var l=u.length?parseInt(dt.apply(void 0,u),10):0;return t*(A+a*Math.pow(10,-s))*Math.pow(10,o*l)},t$={type:2},r$={type:3},n$={type:4},A$={type:13},i$={type:8},s$={type:21},a$={type:9},o$={type:10},u$={type:11},l$={type:12},c$={type:14},rl={type:23},h$={type:1},f$={type:25},d$={type:24},g$={type:26},p$={type:27},m$={type:28},v$={type:29},y$={type:31},Tv={type:32},xP=(function(){function r(){this._value=[]}return r.prototype.write=function(e){this._value=this._value.concat(rh(e))},r.prototype.read=function(){for(var e=[],t=this.consumeToken();t!==Tv;)e.push(t),t=this.consumeToken();return e},r.prototype.consumeToken=function(){var e=this.consumeCodePoint();switch(e){case zu:return this.consumeStringToken(zu);case yW:var t=this.peekCodePoint(0),n=this.peekCodePoint(1),A=this.peekCodePoint(2);if(kT(t)||UA(n,A)){var i=tl(t,n,A)?pW:gW,s=this.consumeName();return{type:5,value:s,flags:i}}break;case wW:if(this.peekCodePoint(0)===ya)return this.consumeCodePoint(),A$;break;case Yu:return this.consumeStringToken(Yu);case Ju:return t$;case wa:return r$;case id:if(this.peekCodePoint(0)===ya)return this.consumeCodePoint(),c$;break;case Bi:if(sd(e,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(e),this.consumeNumericToken();break;case PW:return n$;case yr:var a=e,o=this.peekCodePoint(0),u=this.peekCodePoint(1);if(sd(a,o,u))return this.reconsumeCodePoint(e),this.consumeNumericToken();if(tl(a,o,u))return this.reconsumeCodePoint(e),this.consumeIdentLikeToken();if(o===yr&&u===TW)return this.consumeCodePoint(),this.consumeCodePoint(),d$;break;case Uo:if(sd(e,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(e),this.consumeNumericToken();break;case LT:if(this.peekCodePoint(0)===id)for(this.consumeCodePoint();;){var l=this.consumeCodePoint();if(l===id&&(l=this.consumeCodePoint(),l===LT))return this.consumeToken();if(l===Cn)return this.consumeToken()}break;case OW:return g$;case DW:return p$;case _W:if(this.peekCodePoint(0)===EW&&this.peekCodePoint(1)===yr&&this.peekCodePoint(2)===yr)return this.consumeCodePoint(),this.consumeCodePoint(),f$;break;case IW:var h=this.peekCodePoint(0),f=this.peekCodePoint(1),d=this.peekCodePoint(2);if(tl(h,f,d)){var s=this.consumeName();return{type:7,value:s}}break;case bW:return m$;case to:if(UA(e,this.peekCodePoint(0)))return this.reconsumeCodePoint(e),this.consumeIdentLikeToken();break;case UW:return v$;case FW:if(this.peekCodePoint(0)===ya)return this.consumeCodePoint(),i$;break;case SW:return u$;case QW:return l$;case GW:case qW:var g=this.peekCodePoint(0),m=this.peekCodePoint(1);return g===Bi&&(ns(m)||m===Zu)&&(this.consumeCodePoint(),this.consumeUnicodeRangeToken()),this.reconsumeCodePoint(e),this.consumeIdentLikeToken();case MT:if(this.peekCodePoint(0)===ya)return this.consumeCodePoint(),a$;if(this.peekCodePoint(0)===MT)return this.consumeCodePoint(),s$;break;case RW:if(this.peekCodePoint(0)===ya)return this.consumeCodePoint(),o$;break;case Cn:return Tv}return el(e)?(this.consumeWhiteSpace(),y$):nr(e)?(this.reconsumeCodePoint(e),this.consumeNumericToken()):fc(e)?(this.reconsumeCodePoint(e),this.consumeIdentLikeToken()):{type:6,value:dt(e)}},r.prototype.consumeCodePoint=function(){var e=this._value.shift();return typeof e>"u"?-1:e},r.prototype.reconsumeCodePoint=function(e){this._value.unshift(e)},r.prototype.peekCodePoint=function(e){return e>=this._value.length?-1:this._value[e]},r.prototype.consumeUnicodeRangeToken=function(){for(var e=[],t=this.consumeCodePoint();ns(t)&&e.length<6;)e.push(t),t=this.consumeCodePoint();for(var n=!1;t===Zu&&e.length<6;)e.push(t),t=this.consumeCodePoint(),n=!0;if(n){var A=parseInt(dt.apply(void 0,e.map(function(o){return o===Zu?bP:o})),16),i=parseInt(dt.apply(void 0,e.map(function(o){return o===Zu?RP:o})),16);return{type:30,start:A,end:i}}var s=parseInt(dt.apply(void 0,e),16);if(this.peekCodePoint(0)===yr&&ns(this.peekCodePoint(1))){this.consumeCodePoint(),t=this.consumeCodePoint();for(var a=[];ns(t)&&a.length<6;)a.push(t),t=this.consumeCodePoint();var i=parseInt(dt.apply(void 0,a),16);return{type:30,start:s,end:i}}else return{type:30,start:s,end:s}},r.prototype.consumeIdentLikeToken=function(){var e=this.consumeName();return e.toLowerCase()==="url"&&this.peekCodePoint(0)===Ju?(this.consumeCodePoint(),this.consumeUrlToken()):this.peekCodePoint(0)===Ju?(this.consumeCodePoint(),{type:19,value:e}):{type:20,value:e}},r.prototype.consumeUrlToken=function(){var e=[];if(this.consumeWhiteSpace(),this.peekCodePoint(0)===Cn)return{type:22,value:""};var t=this.peekCodePoint(0);if(t===Yu||t===zu){var n=this.consumeStringToken(this.consumeCodePoint());return n.type===0&&(this.consumeWhiteSpace(),this.peekCodePoint(0)===Cn||this.peekCodePoint(0)===wa)?(this.consumeCodePoint(),{type:22,value:n.value}):(this.consumeBadUrlRemnants(),rl)}for(;;){var A=this.consumeCodePoint();if(A===Cn||A===wa)return{type:22,value:dt.apply(void 0,e)};if(el(A))return this.consumeWhiteSpace(),this.peekCodePoint(0)===Cn||this.peekCodePoint(0)===wa?(this.consumeCodePoint(),{type:22,value:dt.apply(void 0,e)}):(this.consumeBadUrlRemnants(),rl);if(A===zu||A===Yu||A===Ju||ZW(A))return this.consumeBadUrlRemnants(),rl;if(A===to)if(UA(A,this.peekCodePoint(0)))e.push(this.consumeEscapedCodePoint());else return this.consumeBadUrlRemnants(),rl;else e.push(A)}},r.prototype.consumeWhiteSpace=function(){for(;el(this.peekCodePoint(0));)this.consumeCodePoint()},r.prototype.consumeBadUrlRemnants=function(){for(;;){var e=this.consumeCodePoint();if(e===wa||e===Cn)return;UA(e,this.peekCodePoint(0))&&this.consumeEscapedCodePoint()}},r.prototype.consumeStringSlice=function(e){for(var t=5e4,n="";e>0;){var A=Math.min(t,e);n+=dt.apply(void 0,this._value.splice(0,A)),e-=A}return this._value.shift(),n},r.prototype.consumeStringToken=function(e){var t="",n=0;do{var A=this._value[n];if(A===Cn||A===void 0||A===e)return t+=this.consumeStringSlice(n),{type:0,value:t};if(A===hc)return this._value.splice(0,n),h$;if(A===to){var i=this._value[n+1];i!==Cn&&i!==void 0&&(i===hc?(t+=this.consumeStringSlice(n),n=-1,this._value.shift()):UA(A,i)&&(t+=this.consumeStringSlice(n),t+=dt(this.consumeEscapedCodePoint()),n=-1))}n++}while(!0)},r.prototype.consumeNumber=function(){var e=[],t=zo,n=this.peekCodePoint(0);for((n===Bi||n===yr)&&e.push(this.consumeCodePoint());nr(this.peekCodePoint(0));)e.push(this.consumeCodePoint());n=this.peekCodePoint(0);var A=this.peekCodePoint(1);if(n===Uo&&nr(A))for(e.push(this.consumeCodePoint(),this.consumeCodePoint()),t=DT;nr(this.peekCodePoint(0));)e.push(this.consumeCodePoint());n=this.peekCodePoint(0),A=this.peekCodePoint(1);var i=this.peekCodePoint(2);if((n===QP||n===FP)&&((A===Bi||A===yr)&&nr(i)||nr(A)))for(e.push(this.consumeCodePoint(),this.consumeCodePoint()),t=DT;nr(this.peekCodePoint(0));)e.push(this.consumeCodePoint());return[e$(e),t]},r.prototype.consumeNumericToken=function(){var e=this.consumeNumber(),t=e[0],n=e[1],A=this.peekCodePoint(0),i=this.peekCodePoint(1),s=this.peekCodePoint(2);if(tl(A,i,s)){var a=this.consumeName();return{type:15,number:t,flags:n,unit:a}}return A===BW?(this.consumeCodePoint(),{type:16,number:t,flags:n}):{type:17,number:t,flags:n}},r.prototype.consumeEscapedCodePoint=function(){var e=this.consumeCodePoint();if(ns(e)){for(var t=dt(e);ns(this.peekCodePoint(0))&&t.length<6;)t+=dt(this.consumeCodePoint());el(this.peekCodePoint(0))&&this.consumeCodePoint();var n=parseInt(t,16);return n===0||$W(n)||n>1114111?NT:n}return e===Cn?NT:e},r.prototype.consumeName=function(){for(var e="";;){var t=this.consumeCodePoint();if(kT(t))e+=dt(t);else if(UA(t,this.peekCodePoint(0)))e+=dt(this.consumeEscapedCodePoint());else return this.reconsumeCodePoint(t),e}},r})(),PP=(function(){function r(e){this._tokens=e}return r.create=function(e){var t=new xP;return t.write(e),new r(t.read())},r.parseValue=function(e){return r.create(e).parseComponentValue()},r.parseValues=function(e){return r.create(e).parseComponentValues()},r.prototype.parseComponentValue=function(){for(var e=this.consumeToken();e.type===31;)e=this.consumeToken();if(e.type===32)throw new SyntaxError("Error parsing CSS component value, unexpected EOF");this.reconsumeToken(e);var t=this.consumeComponentValue();do e=this.consumeToken();while(e.type===31);if(e.type===32)return t;throw new SyntaxError("Error parsing CSS component value, multiple values found when expecting only one")},r.prototype.parseComponentValues=function(){for(var e=[];;){var t=this.consumeComponentValue();if(t.type===32)return e;e.push(t),e.push()}},r.prototype.consumeComponentValue=function(){var e=this.consumeToken();switch(e.type){case 11:case 28:case 2:return this.consumeSimpleBlock(e.type);case 19:return this.consumeFunction(e)}return e},r.prototype.consumeSimpleBlock=function(e){for(var t={type:e,values:[]},n=this.consumeToken();;){if(n.type===32||B$(n,e))return t;this.reconsumeToken(n),t.values.push(this.consumeComponentValue()),n=this.consumeToken()}},r.prototype.consumeFunction=function(e){for(var t={name:e.value,values:[],type:18};;){var n=this.consumeToken();if(n.type===32||n.type===3)return t;this.reconsumeToken(n),t.values.push(this.consumeComponentValue())}},r.prototype.consumeToken=function(){var e=this._tokens.shift();return typeof e>"u"?Tv:e},r.prototype.reconsumeToken=function(e){this._tokens.unshift(e)},r})(),Yo=function(r){return r.type===15},Ws=function(r){return r.type===17},Me=function(r){return r.type===20},w$=function(r){return r.type===0},Iv=function(r,e){return Me(r)&&r.value===e},OP=function(r){return r.type!==31},Ls=function(r){return r.type!==31&&r.type!==4},Sn=function(r){var e=[],t=[];return r.forEach(function(n){if(n.type===4){if(t.length===0)throw new Error("Error parsing function args, zero tokens for arg");e.push(t),t=[];return}n.type!==31&&t.push(n)}),t.length&&e.push(t),e},B$=function(r,e){return e===11&&r.type===12||e===28&&r.type===29?!0:e===2&&r.type===3},XA=function(r){return r.type===17||r.type===15},Ct=function(r){return r.type===16||XA(r)},DP=function(r){return r.length>1?[r[0],r[1]]:[r[0]]},Kt={type:17,number:0,flags:zo},jw={type:16,number:50,flags:zo},LA={type:16,number:100,flags:zo},Na=function(r,e,t){var n=r[0],A=r[1];return[He(n,e),He(typeof A<"u"?A:n,t)]},He=function(r,e){if(r.type===16)return r.number/100*e;if(Yo(r))switch(r.unit){case"rem":case"em":return 16*r.number;case"px":default:return r.number}return r.number},LP="deg",MP="grad",NP="rad",kP="turn",nh={name:"angle",parse:function(r,e){if(e.type===15)switch(e.unit){case LP:return Math.PI*e.number/180;case MP:return Math.PI/200*e.number;case NP:return e.number;case kP:return Math.PI*2*e.number}throw new Error("Unsupported angle type")}},HP=function(r){return r.type===15&&(r.unit===LP||r.unit===MP||r.unit===NP||r.unit===kP)},VP=function(r){var e=r.filter(Me).map(function(t){return t.value}).join(" ");switch(e){case"to bottom right":case"to right bottom":case"left top":case"top left":return[Kt,Kt];case"to top":case"bottom":return Gr(0);case"to bottom left":case"to left bottom":case"right top":case"top right":return[Kt,LA];case"to right":case"left":return Gr(90);case"to top left":case"to left top":case"right bottom":case"bottom right":return[LA,LA];case"to bottom":case"top":return Gr(180);case"to top right":case"to right top":case"left bottom":case"bottom left":return[LA,Kt];case"to left":case"right":return Gr(270)}return 0},Gr=function(r){return Math.PI*r/180},VA={name:"color",parse:function(r,e){if(e.type===18){var t=C$[e.name];if(typeof t>"u")throw new Error('Attempting to parse an unsupported color function "'+e.name+'"');return t(r,e.values)}if(e.type===5){if(e.value.length===3){var n=e.value.substring(0,1),A=e.value.substring(1,2),i=e.value.substring(2,3);return MA(parseInt(n+n,16),parseInt(A+A,16),parseInt(i+i,16),1)}if(e.value.length===4){var n=e.value.substring(0,1),A=e.value.substring(1,2),i=e.value.substring(2,3),s=e.value.substring(3,4);return MA(parseInt(n+n,16),parseInt(A+A,16),parseInt(i+i,16),parseInt(s+s,16)/255)}if(e.value.length===6){var n=e.value.substring(0,2),A=e.value.substring(2,4),i=e.value.substring(4,6);return MA(parseInt(n,16),parseInt(A,16),parseInt(i,16),1)}if(e.value.length===8){var n=e.value.substring(0,2),A=e.value.substring(2,4),i=e.value.substring(4,6),s=e.value.substring(6,8);return MA(parseInt(n,16),parseInt(A,16),parseInt(i,16),parseInt(s,16)/255)}}if(e.type===20){var a=nA[e.value.toUpperCase()];if(typeof a<"u")return a}return nA.TRANSPARENT}},KA=function(r){return(255&r)===0},xt=function(r){var e=255&r,t=255&r>>8,n=255&r>>16,A=255&r>>24;return e<255?"rgba("+A+","+n+","+t+","+e/255+")":"rgb("+A+","+n+","+t+")"},MA=function(r,e,t,n){return(r<<24|e<<16|t<<8|Math.round(n*255)<<0)>>>0},HT=function(r,e){if(r.type===17)return r.number;if(r.type===16){var t=e===3?1:255;return e===3?r.number/100*t:Math.round(r.number/100*t)}return 0},VT=function(r,e){var t=e.filter(Ls);if(t.length===3){var n=t.map(HT),A=n[0],i=n[1],s=n[2];return MA(A,i,s,1)}if(t.length===4){var a=t.map(HT),A=a[0],i=a[1],s=a[2],o=a[3];return MA(A,i,s,o)}return 0};function ad(r,e,t){return t<0&&(t+=1),t>=1&&(t-=1),t<1/6?(e-r)*t*6+r:t<1/2?e:t<2/3?(e-r)*6*(2/3-t)+r:r}var KT=function(r,e){var t=e.filter(Ls),n=t[0],A=t[1],i=t[2],s=t[3],a=(n.type===17?Gr(n.number):nh.parse(r,n))/(Math.PI*2),o=Ct(A)?A.number/100:0,u=Ct(i)?i.number/100:0,l=typeof s<"u"&&Ct(s)?He(s,1):1;if(o===0)return MA(u*255,u*255,u*255,1);var h=u<=.5?u*(o+1):u+o-u*o,f=u*2-h,d=ad(f,h,a+1/3),g=ad(f,h,a),m=ad(f,h,a-1/3);return MA(d*255,g*255,m*255,l)},C$={hsl:KT,hsla:KT,rgb:VT,rgba:VT},ro=function(r,e){return VA.parse(r,PP.create(e).parseComponentValue())},nA={ALICEBLUE:4042850303,ANTIQUEWHITE:4209760255,AQUA:16777215,AQUAMARINE:2147472639,AZURE:4043309055,BEIGE:4126530815,BISQUE:4293182719,BLACK:255,BLANCHEDALMOND:4293643775,BLUE:65535,BLUEVIOLET:2318131967,BROWN:2771004159,BURLYWOOD:3736635391,CADETBLUE:1604231423,CHARTREUSE:2147418367,CHOCOLATE:3530104575,CORAL:4286533887,CORNFLOWERBLUE:1687547391,CORNSILK:4294499583,CRIMSON:3692313855,CYAN:16777215,DARKBLUE:35839,DARKCYAN:9145343,DARKGOLDENROD:3095837695,DARKGRAY:2846468607,DARKGREEN:6553855,DARKGREY:2846468607,DARKKHAKI:3182914559,DARKMAGENTA:2332068863,DARKOLIVEGREEN:1433087999,DARKORANGE:4287365375,DARKORCHID:2570243327,DARKRED:2332033279,DARKSALMON:3918953215,DARKSEAGREEN:2411499519,DARKSLATEBLUE:1211993087,DARKSLATEGRAY:793726975,DARKSLATEGREY:793726975,DARKTURQUOISE:13554175,DARKVIOLET:2483082239,DEEPPINK:4279538687,DEEPSKYBLUE:12582911,DIMGRAY:1768516095,DIMGREY:1768516095,DODGERBLUE:512819199,FIREBRICK:2988581631,FLORALWHITE:4294635775,FORESTGREEN:579543807,FUCHSIA:4278255615,GAINSBORO:3705462015,GHOSTWHITE:4177068031,GOLD:4292280575,GOLDENROD:3668254975,GRAY:2155905279,GREEN:8388863,GREENYELLOW:2919182335,GREY:2155905279,HONEYDEW:4043305215,HOTPINK:4285117695,INDIANRED:3445382399,INDIGO:1258324735,IVORY:4294963455,KHAKI:4041641215,LAVENDER:3873897215,LAVENDERBLUSH:4293981695,LAWNGREEN:2096890111,LEMONCHIFFON:4294626815,LIGHTBLUE:2916673279,LIGHTCORAL:4034953471,LIGHTCYAN:3774873599,LIGHTGOLDENRODYELLOW:4210742015,LIGHTGRAY:3553874943,LIGHTGREEN:2431553791,LIGHTGREY:3553874943,LIGHTPINK:4290167295,LIGHTSALMON:4288707327,LIGHTSEAGREEN:548580095,LIGHTSKYBLUE:2278488831,LIGHTSLATEGRAY:2005441023,LIGHTSLATEGREY:2005441023,LIGHTSTEELBLUE:2965692159,LIGHTYELLOW:4294959359,LIME:16711935,LIMEGREEN:852308735,LINEN:4210091775,MAGENTA:4278255615,MAROON:2147483903,MEDIUMAQUAMARINE:1724754687,MEDIUMBLUE:52735,MEDIUMORCHID:3126187007,MEDIUMPURPLE:2473647103,MEDIUMSEAGREEN:1018393087,MEDIUMSLATEBLUE:2070474495,MEDIUMSPRINGGREEN:16423679,MEDIUMTURQUOISE:1221709055,MEDIUMVIOLETRED:3340076543,MIDNIGHTBLUE:421097727,MINTCREAM:4127193855,MISTYROSE:4293190143,MOCCASIN:4293178879,NAVAJOWHITE:4292783615,NAVY:33023,OLDLACE:4260751103,OLIVE:2155872511,OLIVEDRAB:1804477439,ORANGE:4289003775,ORANGERED:4282712319,ORCHID:3664828159,PALEGOLDENROD:4008225535,PALEGREEN:2566625535,PALETURQUOISE:2951671551,PALEVIOLETRED:3681588223,PAPAYAWHIP:4293907967,PEACHPUFF:4292524543,PERU:3448061951,PINK:4290825215,PLUM:3718307327,POWDERBLUE:2967529215,PURPLE:2147516671,REBECCAPURPLE:1714657791,RED:4278190335,ROSYBROWN:3163525119,ROYALBLUE:1097458175,SADDLEBROWN:2336560127,SALMON:4202722047,SANDYBROWN:4104413439,SEAGREEN:780883967,SEASHELL:4294307583,SIENNA:2689740287,SILVER:3233857791,SKYBLUE:2278484991,SLATEBLUE:1784335871,SLATEGRAY:1887473919,SLATEGREY:1887473919,SNOW:4294638335,SPRINGGREEN:16744447,STEELBLUE:1182971135,TAN:3535047935,TEAL:8421631,THISTLE:3636451583,TOMATO:4284696575,TRANSPARENT:0,TURQUOISE:1088475391,VIOLET:4001558271,WHEAT:4125012991,WHITE:4294967295,WHITESMOKE:4126537215,YELLOW:4294902015,YELLOWGREEN:2597139199},E$={name:"background-clip",initialValue:"border-box",prefix:!1,type:1,parse:function(r,e){return e.map(function(t){if(Me(t))switch(t.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},_$={name:"background-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},Ah=function(r,e){var t=VA.parse(r,e[0]),n=e[1];return n&&Ct(n)?{color:t,stop:n}:{color:t,stop:null}},GT=function(r,e){var t=r[0],n=r[r.length-1];t.stop===null&&(t.stop=Kt),n.stop===null&&(n.stop=LA);for(var A=[],i=0,s=0;s<r.length;s++){var a=r[s].stop;if(a!==null){var o=He(a,e);o>i?A.push(o):A.push(i),i=o}else A.push(null)}for(var u=null,s=0;s<A.length;s++){var l=A[s];if(l===null)u===null&&(u=s);else if(u!==null){for(var h=s-u,f=A[u-1],d=(l-f)/(h+1),g=1;g<=h;g++)A[u+g-1]=d*g;u=null}}return r.map(function(m,C){var E=m.color;return{color:E,stop:Math.max(Math.min(1,A[C]/e),0)}})},T$=function(r,e,t){var n=e/2,A=t/2,i=He(r[0],e)-n,s=A-He(r[1],t);return(Math.atan2(s,i)+Math.PI*2)%(Math.PI*2)},I$=function(r,e,t){var n=typeof r=="number"?r:T$(r,e,t),A=Math.abs(e*Math.sin(n))+Math.abs(t*Math.cos(n)),i=e/2,s=t/2,a=A/2,o=Math.sin(n-Math.PI/2)*a,u=Math.cos(n-Math.PI/2)*a;return[A,i-u,i+u,s-o,s+o]},sn=function(r,e){return Math.sqrt(r*r+e*e)},jT=function(r,e,t,n,A){var i=[[0,0],[0,e],[r,0],[r,e]];return i.reduce(function(s,a){var o=a[0],u=a[1],l=sn(t-o,n-u);return(A?l<s.optimumDistance:l>s.optimumDistance)?{optimumCorner:a,optimumDistance:l}:s},{optimumDistance:A?1/0:-1/0,optimumCorner:null}).optimumCorner},b$=function(r,e,t,n,A){var i=0,s=0;switch(r.size){case 0:r.shape===0?i=s=Math.min(Math.abs(e),Math.abs(e-n),Math.abs(t),Math.abs(t-A)):r.shape===1&&(i=Math.min(Math.abs(e),Math.abs(e-n)),s=Math.min(Math.abs(t),Math.abs(t-A)));break;case 2:if(r.shape===0)i=s=Math.min(sn(e,t),sn(e,t-A),sn(e-n,t),sn(e-n,t-A));else if(r.shape===1){var a=Math.min(Math.abs(t),Math.abs(t-A))/Math.min(Math.abs(e),Math.abs(e-n)),o=jT(n,A,e,t,!0),u=o[0],l=o[1];i=sn(u-e,(l-t)/a),s=a*i}break;case 1:r.shape===0?i=s=Math.max(Math.abs(e),Math.abs(e-n),Math.abs(t),Math.abs(t-A)):r.shape===1&&(i=Math.max(Math.abs(e),Math.abs(e-n)),s=Math.max(Math.abs(t),Math.abs(t-A)));break;case 3:if(r.shape===0)i=s=Math.max(sn(e,t),sn(e,t-A),sn(e-n,t),sn(e-n,t-A));else if(r.shape===1){var a=Math.max(Math.abs(t),Math.abs(t-A))/Math.max(Math.abs(e),Math.abs(e-n)),h=jT(n,A,e,t,!1),u=h[0],l=h[1];i=sn(u-e,(l-t)/a),s=a*i}break}return Array.isArray(r.size)&&(i=He(r.size[0],n),s=r.size.length===2?He(r.size[1],A):i),[i,s]},U$=function(r,e){var t=Gr(180),n=[];return Sn(e).forEach(function(A,i){if(i===0){var s=A[0];if(s.type===20&&s.value==="to"){t=VP(A);return}else if(HP(s)){t=nh.parse(r,s);return}}var a=Ah(r,A);n.push(a)}),{angle:t,stops:n,type:1}},nl=function(r,e){var t=Gr(180),n=[];return Sn(e).forEach(function(A,i){if(i===0){var s=A[0];if(s.type===20&&["top","left","right","bottom"].indexOf(s.value)!==-1){t=VP(A);return}else if(HP(s)){t=(nh.parse(r,s)+Gr(270))%Gr(360);return}}var a=Ah(r,A);n.push(a)}),{angle:t,stops:n,type:1}},F$=function(r,e){var t=Gr(180),n=[],A=1,i=0,s=3,a=[];return Sn(e).forEach(function(o,u){var l=o[0];if(u===0){if(Me(l)&&l.value==="linear"){A=1;return}else if(Me(l)&&l.value==="radial"){A=2;return}}if(l.type===18){if(l.name==="from"){var h=VA.parse(r,l.values[0]);n.push({stop:Kt,color:h})}else if(l.name==="to"){var h=VA.parse(r,l.values[0]);n.push({stop:LA,color:h})}else if(l.name==="color-stop"){var f=l.values.filter(Ls);if(f.length===2){var h=VA.parse(r,f[1]),d=f[0];Ws(d)&&n.push({stop:{type:16,number:d.number*100,flags:d.flags},color:h})}}}}),A===1?{angle:(t+Gr(180))%Gr(360),stops:n,type:A}:{size:s,shape:i,stops:n,position:a,type:A}},KP="closest-side",GP="farthest-side",jP="closest-corner",qP="farthest-corner",WP="circle",$P="ellipse",XP="cover",zP="contain",S$=function(r,e){var t=0,n=3,A=[],i=[];return Sn(e).forEach(function(s,a){var o=!0;if(a===0){var u=!1;o=s.reduce(function(h,f){if(u)if(Me(f))switch(f.value){case"center":return i.push(jw),h;case"top":case"left":return i.push(Kt),h;case"right":case"bottom":return i.push(LA),h}else(Ct(f)||XA(f))&&i.push(f);else if(Me(f))switch(f.value){case WP:return t=0,!1;case $P:return t=1,!1;case"at":return u=!0,!1;case KP:return n=0,!1;case XP:case GP:return n=1,!1;case zP:case jP:return n=2,!1;case qP:return n=3,!1}else if(XA(f)||Ct(f))return Array.isArray(n)||(n=[]),n.push(f),!1;return h},o)}if(o){var l=Ah(r,s);A.push(l)}}),{size:n,shape:t,stops:A,position:i,type:2}},Al=function(r,e){var t=0,n=3,A=[],i=[];return Sn(e).forEach(function(s,a){var o=!0;if(a===0?o=s.reduce(function(l,h){if(Me(h))switch(h.value){case"center":return i.push(jw),!1;case"top":case"left":return i.push(Kt),!1;case"right":case"bottom":return i.push(LA),!1}else if(Ct(h)||XA(h))return i.push(h),!1;return l},o):a===1&&(o=s.reduce(function(l,h){if(Me(h))switch(h.value){case WP:return t=0,!1;case $P:return t=1,!1;case zP:case KP:return n=0,!1;case GP:return n=1,!1;case jP:return n=2,!1;case XP:case qP:return n=3,!1}else if(XA(h)||Ct(h))return Array.isArray(n)||(n=[]),n.push(h),!1;return l},o)),o){var u=Ah(r,s);A.push(u)}}),{size:n,shape:t,stops:A,position:i,type:2}},Q$=function(r){return r.type===1},R$=function(r){return r.type===2},qw={name:"image",parse:function(r,e){if(e.type===22){var t={url:e.value,type:0};return r.cache.addImage(e.value),t}if(e.type===18){var n=YP[e.name];if(typeof n>"u")throw new Error('Attempting to parse an unsupported image function "'+e.name+'"');return n(r,e.values)}throw new Error("Unsupported image type "+e.type)}};function x$(r){return!(r.type===20&&r.value==="none")&&(r.type!==18||!!YP[r.name])}var YP={"linear-gradient":U$,"-moz-linear-gradient":nl,"-ms-linear-gradient":nl,"-o-linear-gradient":nl,"-webkit-linear-gradient":nl,"radial-gradient":S$,"-moz-radial-gradient":Al,"-ms-radial-gradient":Al,"-o-radial-gradient":Al,"-webkit-radial-gradient":Al,"-webkit-gradient":F$},P$={name:"background-image",initialValue:"none",type:1,prefix:!1,parse:function(r,e){if(e.length===0)return[];var t=e[0];return t.type===20&&t.value==="none"?[]:e.filter(function(n){return Ls(n)&&x$(n)}).map(function(n){return qw.parse(r,n)})}},O$={name:"background-origin",initialValue:"border-box",prefix:!1,type:1,parse:function(r,e){return e.map(function(t){if(Me(t))switch(t.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},D$={name:"background-position",initialValue:"0% 0%",type:1,prefix:!1,parse:function(r,e){return Sn(e).map(function(t){return t.filter(Ct)}).map(DP)}},L$={name:"background-repeat",initialValue:"repeat",prefix:!1,type:1,parse:function(r,e){return Sn(e).map(function(t){return t.filter(Me).map(function(n){return n.value}).join(" ")}).map(M$)}},M$=function(r){switch(r){case"no-repeat":return 1;case"repeat-x":case"repeat no-repeat":return 2;case"repeat-y":case"no-repeat repeat":return 3;case"repeat":default:return 0}},Is;(function(r){r.AUTO="auto",r.CONTAIN="contain",r.COVER="cover"})(Is||(Is={}));var N$={name:"background-size",initialValue:"0",prefix:!1,type:1,parse:function(r,e){return Sn(e).map(function(t){return t.filter(k$)})}},k$=function(r){return Me(r)||Ct(r)},ih=function(r){return{name:"border-"+r+"-color",initialValue:"transparent",prefix:!1,type:3,format:"color"}},H$=ih("top"),V$=ih("right"),K$=ih("bottom"),G$=ih("left"),sh=function(r){return{name:"border-radius-"+r,initialValue:"0 0",prefix:!1,type:1,parse:function(e,t){return DP(t.filter(Ct))}}},j$=sh("top-left"),q$=sh("top-right"),W$=sh("bottom-right"),$$=sh("bottom-left"),ah=function(r){return{name:"border-"+r+"-style",initialValue:"solid",prefix:!1,type:2,parse:function(e,t){switch(t){case"none":return 0;case"dashed":return 2;case"dotted":return 3;case"double":return 4}return 1}}},X$=ah("top"),z$=ah("right"),Y$=ah("bottom"),J$=ah("left"),oh=function(r){return{name:"border-"+r+"-width",initialValue:"0",type:0,prefix:!1,parse:function(e,t){return Yo(t)?t.number:0}}},Z$=oh("top"),eX=oh("right"),tX=oh("bottom"),rX=oh("left"),nX={name:"color",initialValue:"transparent",prefix:!1,type:3,format:"color"},AX={name:"direction",initialValue:"ltr",prefix:!1,type:2,parse:function(r,e){switch(e){case"rtl":return 1;case"ltr":default:return 0}}},iX={name:"display",initialValue:"inline-block",prefix:!1,type:1,parse:function(r,e){return e.filter(Me).reduce(function(t,n){return t|sX(n.value)},0)}},sX=function(r){switch(r){case"block":case"-webkit-box":return 2;case"inline":return 4;case"run-in":return 8;case"flow":return 16;case"flow-root":return 32;case"table":return 64;case"flex":case"-webkit-flex":return 128;case"grid":case"-ms-grid":return 256;case"ruby":return 512;case"subgrid":return 1024;case"list-item":return 2048;case"table-row-group":return 4096;case"table-header-group":return 8192;case"table-footer-group":return 16384;case"table-row":return 32768;case"table-cell":return 65536;case"table-column-group":return 131072;case"table-column":return 262144;case"table-caption":return 524288;case"ruby-base":return 1048576;case"ruby-text":return 2097152;case"ruby-base-container":return 4194304;case"ruby-text-container":return 8388608;case"contents":return 16777216;case"inline-block":return 33554432;case"inline-list-item":return 67108864;case"inline-table":return 134217728;case"inline-flex":return 268435456;case"inline-grid":return 536870912}return 0},aX={name:"float",initialValue:"none",prefix:!1,type:2,parse:function(r,e){switch(e){case"left":return 1;case"right":return 2;case"inline-start":return 3;case"inline-end":return 4}return 0}},oX={name:"letter-spacing",initialValue:"0",prefix:!1,type:0,parse:function(r,e){return e.type===20&&e.value==="normal"?0:e.type===17||e.type===15?e.number:0}},dc;(function(r){r.NORMAL="normal",r.STRICT="strict"})(dc||(dc={}));var uX={name:"line-break",initialValue:"normal",prefix:!1,type:2,parse:function(r,e){switch(e){case"strict":return dc.STRICT;case"normal":default:return dc.NORMAL}}},lX={name:"line-height",initialValue:"normal",prefix:!1,type:4},qT=function(r,e){return Me(r)&&r.value==="normal"?1.2*e:r.type===17?e*r.number:Ct(r)?He(r,e):e},cX={name:"list-style-image",initialValue:"none",type:0,prefix:!1,parse:function(r,e){return e.type===20&&e.value==="none"?null:qw.parse(r,e)}},hX={name:"list-style-position",initialValue:"outside",prefix:!1,type:2,parse:function(r,e){switch(e){case"inside":return 0;case"outside":default:return 1}}},bv={name:"list-style-type",initialValue:"none",prefix:!1,type:2,parse:function(r,e){switch(e){case"disc":return 0;case"circle":return 1;case"square":return 2;case"decimal":return 3;case"cjk-decimal":return 4;case"decimal-leading-zero":return 5;case"lower-roman":return 6;case"upper-roman":return 7;case"lower-greek":return 8;case"lower-alpha":return 9;case"upper-alpha":return 10;case"arabic-indic":return 11;case"armenian":return 12;case"bengali":return 13;case"cambodian":return 14;case"cjk-earthly-branch":return 15;case"cjk-heavenly-stem":return 16;case"cjk-ideographic":return 17;case"devanagari":return 18;case"ethiopic-numeric":return 19;case"georgian":return 20;case"gujarati":return 21;case"gurmukhi":return 22;case"hebrew":return 22;case"hiragana":return 23;case"hiragana-iroha":return 24;case"japanese-formal":return 25;case"japanese-informal":return 26;case"kannada":return 27;case"katakana":return 28;case"katakana-iroha":return 29;case"khmer":return 30;case"korean-hangul-formal":return 31;case"korean-hanja-formal":return 32;case"korean-hanja-informal":return 33;case"lao":return 34;case"lower-armenian":return 35;case"malayalam":return 36;case"mongolian":return 37;case"myanmar":return 38;case"oriya":return 39;case"persian":return 40;case"simp-chinese-formal":return 41;case"simp-chinese-informal":return 42;case"tamil":return 43;case"telugu":return 44;case"thai":return 45;case"tibetan":return 46;case"trad-chinese-formal":return 47;case"trad-chinese-informal":return 48;case"upper-armenian":return 49;case"disclosure-open":return 50;case"disclosure-closed":return 51;case"none":default:return-1}}},uh=function(r){return{name:"margin-"+r,initialValue:"0",prefix:!1,type:4}},fX=uh("top"),dX=uh("right"),gX=uh("bottom"),pX=uh("left"),mX={name:"overflow",initialValue:"visible",prefix:!1,type:1,parse:function(r,e){return e.filter(Me).map(function(t){switch(t.value){case"hidden":return 1;case"scroll":return 2;case"clip":return 3;case"auto":return 4;case"visible":default:return 0}})}},vX={name:"overflow-wrap",initialValue:"normal",prefix:!1,type:2,parse:function(r,e){switch(e){case"break-word":return"break-word";case"normal":default:return"normal"}}},lh=function(r){return{name:"padding-"+r,initialValue:"0",prefix:!1,type:3,format:"length-percentage"}},yX=lh("top"),wX=lh("right"),BX=lh("bottom"),CX=lh("left"),EX={name:"text-align",initialValue:"left",prefix:!1,type:2,parse:function(r,e){switch(e){case"right":return 2;case"center":case"justify":return 1;case"left":default:return 0}}},_X={name:"position",initialValue:"static",prefix:!1,type:2,parse:function(r,e){switch(e){case"relative":return 1;case"absolute":return 2;case"fixed":return 3;case"sticky":return 4}return 0}},TX={name:"text-shadow",initialValue:"none",type:1,prefix:!1,parse:function(r,e){return e.length===1&&Iv(e[0],"none")?[]:Sn(e).map(function(t){for(var n={color:nA.TRANSPARENT,offsetX:Kt,offsetY:Kt,blur:Kt},A=0,i=0;i<t.length;i++){var s=t[i];XA(s)?(A===0?n.offsetX=s:A===1?n.offsetY=s:n.blur=s,A++):n.color=VA.parse(r,s)}return n})}},IX={name:"text-transform",initialValue:"none",prefix:!1,type:2,parse:function(r,e){switch(e){case"uppercase":return 2;case"lowercase":return 1;case"capitalize":return 3}return 0}},bX={name:"transform",initialValue:"none",prefix:!0,type:0,parse:function(r,e){if(e.type===20&&e.value==="none")return null;if(e.type===18){var t=SX[e.name];if(typeof t>"u")throw new Error('Attempting to parse an unsupported transform function "'+e.name+'"');return t(e.values)}return null}},UX=function(r){var e=r.filter(function(t){return t.type===17}).map(function(t){return t.number});return e.length===6?e:null},FX=function(r){var e=r.filter(function(o){return o.type===17}).map(function(o){return o.number}),t=e[0],n=e[1];e[2],e[3];var A=e[4],i=e[5];e[6],e[7],e[8],e[9],e[10],e[11];var s=e[12],a=e[13];return e[14],e[15],e.length===16?[t,n,A,i,s,a]:null},SX={matrix:UX,matrix3d:FX},WT={type:16,number:50,flags:zo},QX=[WT,WT],RX={name:"transform-origin",initialValue:"50% 50%",prefix:!0,type:1,parse:function(r,e){var t=e.filter(Ct);return t.length!==2?QX:[t[0],t[1]]}},xX={name:"visible",initialValue:"none",prefix:!1,type:2,parse:function(r,e){switch(e){case"hidden":return 1;case"collapse":return 2;case"visible":default:return 0}}},no;(function(r){r.NORMAL="normal",r.BREAK_ALL="break-all",r.KEEP_ALL="keep-all"})(no||(no={}));var PX={name:"word-break",initialValue:"normal",prefix:!1,type:2,parse:function(r,e){switch(e){case"break-all":return no.BREAK_ALL;case"keep-all":return no.KEEP_ALL;case"normal":default:return no.NORMAL}}},OX={name:"z-index",initialValue:"auto",prefix:!1,type:0,parse:function(r,e){if(e.type===20)return{auto:!0,order:0};if(Ws(e))return{auto:!1,order:e.number};throw new Error("Invalid z-index number parsed")}},JP={name:"time",parse:function(r,e){if(e.type===15)switch(e.unit.toLowerCase()){case"s":return 1e3*e.number;case"ms":return e.number}throw new Error("Unsupported time type")}},DX={name:"opacity",initialValue:"1",type:0,prefix:!1,parse:function(r,e){return Ws(e)?e.number:1}},LX={name:"text-decoration-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},MX={name:"text-decoration-line",initialValue:"none",prefix:!1,type:1,parse:function(r,e){return e.filter(Me).map(function(t){switch(t.value){case"underline":return 1;case"overline":return 2;case"line-through":return 3;case"none":return 4}return 0}).filter(function(t){return t!==0})}},NX={name:"font-family",initialValue:"",prefix:!1,type:1,parse:function(r,e){var t=[],n=[];return e.forEach(function(A){switch(A.type){case 20:case 0:t.push(A.value);break;case 17:t.push(A.number.toString());break;case 4:n.push(t.join(" ")),t.length=0;break}}),t.length&&n.push(t.join(" ")),n.map(function(A){return A.indexOf(" ")===-1?A:"'"+A+"'"})}},kX={name:"font-size",initialValue:"0",prefix:!1,type:3,format:"length"},HX={name:"font-weight",initialValue:"normal",type:0,prefix:!1,parse:function(r,e){if(Ws(e))return e.number;if(Me(e))switch(e.value){case"bold":return 700;case"normal":default:return 400}return 400}},VX={name:"font-variant",initialValue:"none",type:1,prefix:!1,parse:function(r,e){return e.filter(Me).map(function(t){return t.value})}},KX={name:"font-style",initialValue:"normal",prefix:!1,type:2,parse:function(r,e){switch(e){case"oblique":return"oblique";case"italic":return"italic";case"normal":default:return"normal"}}},It=function(r,e){return(r&e)!==0},GX={name:"content",initialValue:"none",type:1,prefix:!1,parse:function(r,e){if(e.length===0)return[];var t=e[0];return t.type===20&&t.value==="none"?[]:e}},jX={name:"counter-increment",initialValue:"none",prefix:!0,type:1,parse:function(r,e){if(e.length===0)return null;var t=e[0];if(t.type===20&&t.value==="none")return null;for(var n=[],A=e.filter(OP),i=0;i<A.length;i++){var s=A[i],a=A[i+1];if(s.type===20){var o=a&&Ws(a)?a.number:1;n.push({counter:s.value,increment:o})}}return n}},qX={name:"counter-reset",initialValue:"none",prefix:!0,type:1,parse:function(r,e){if(e.length===0)return[];for(var t=[],n=e.filter(OP),A=0;A<n.length;A++){var i=n[A],s=n[A+1];if(Me(i)&&i.value!=="none"){var a=s&&Ws(s)?s.number:0;t.push({counter:i.value,reset:a})}}return t}},WX={name:"duration",initialValue:"0s",prefix:!1,type:1,parse:function(r,e){return e.filter(Yo).map(function(t){return JP.parse(r,t)})}},$X={name:"quotes",initialValue:"none",prefix:!0,type:1,parse:function(r,e){if(e.length===0)return null;var t=e[0];if(t.type===20&&t.value==="none")return null;var n=[],A=e.filter(w$);if(A.length%2!==0)return null;for(var i=0;i<A.length;i+=2){var s=A[i].value,a=A[i+1].value;n.push({open:s,close:a})}return n}},$T=function(r,e,t){if(!r)return"";var n=r[Math.min(e,r.length-1)];return n?t?n.open:n.close:""},XX={name:"box-shadow",initialValue:"none",type:1,prefix:!1,parse:function(r,e){return e.length===1&&Iv(e[0],"none")?[]:Sn(e).map(function(t){for(var n={color:255,offsetX:Kt,offsetY:Kt,blur:Kt,spread:Kt,inset:!1},A=0,i=0;i<t.length;i++){var s=t[i];Iv(s,"inset")?n.inset=!0:XA(s)?(A===0?n.offsetX=s:A===1?n.offsetY=s:A===2?n.blur=s:n.spread=s,A++):n.color=VA.parse(r,s)}return n})}},zX={name:"paint-order",initialValue:"normal",prefix:!1,type:1,parse:function(r,e){var t=[0,1,2],n=[];return e.filter(Me).forEach(function(A){switch(A.value){case"stroke":n.push(1);break;case"fill":n.push(0);break;case"markers":n.push(2);break}}),t.forEach(function(A){n.indexOf(A)===-1&&n.push(A)}),n}},YX={name:"-webkit-text-stroke-color",initialValue:"currentcolor",prefix:!1,type:3,format:"color"},JX={name:"-webkit-text-stroke-width",initialValue:"0",type:0,prefix:!1,parse:function(r,e){return Yo(e)?e.number:0}},ZX=(function(){function r(e,t){var n,A;this.animationDuration=Ae(e,WX,t.animationDuration),this.backgroundClip=Ae(e,E$,t.backgroundClip),this.backgroundColor=Ae(e,_$,t.backgroundColor),this.backgroundImage=Ae(e,P$,t.backgroundImage),this.backgroundOrigin=Ae(e,O$,t.backgroundOrigin),this.backgroundPosition=Ae(e,D$,t.backgroundPosition),this.backgroundRepeat=Ae(e,L$,t.backgroundRepeat),this.backgroundSize=Ae(e,N$,t.backgroundSize),this.borderTopColor=Ae(e,H$,t.borderTopColor),this.borderRightColor=Ae(e,V$,t.borderRightColor),this.borderBottomColor=Ae(e,K$,t.borderBottomColor),this.borderLeftColor=Ae(e,G$,t.borderLeftColor),this.borderTopLeftRadius=Ae(e,j$,t.borderTopLeftRadius),this.borderTopRightRadius=Ae(e,q$,t.borderTopRightRadius),this.borderBottomRightRadius=Ae(e,W$,t.borderBottomRightRadius),this.borderBottomLeftRadius=Ae(e,$$,t.borderBottomLeftRadius),this.borderTopStyle=Ae(e,X$,t.borderTopStyle),this.borderRightStyle=Ae(e,z$,t.borderRightStyle),this.borderBottomStyle=Ae(e,Y$,t.borderBottomStyle),this.borderLeftStyle=Ae(e,J$,t.borderLeftStyle),this.borderTopWidth=Ae(e,Z$,t.borderTopWidth),this.borderRightWidth=Ae(e,eX,t.borderRightWidth),this.borderBottomWidth=Ae(e,tX,t.borderBottomWidth),this.borderLeftWidth=Ae(e,rX,t.borderLeftWidth),this.boxShadow=Ae(e,XX,t.boxShadow),this.color=Ae(e,nX,t.color),this.direction=Ae(e,AX,t.direction),this.display=Ae(e,iX,t.display),this.float=Ae(e,aX,t.cssFloat),this.fontFamily=Ae(e,NX,t.fontFamily),this.fontSize=Ae(e,kX,t.fontSize),this.fontStyle=Ae(e,KX,t.fontStyle),this.fontVariant=Ae(e,VX,t.fontVariant),this.fontWeight=Ae(e,HX,t.fontWeight),this.letterSpacing=Ae(e,oX,t.letterSpacing),this.lineBreak=Ae(e,uX,t.lineBreak),this.lineHeight=Ae(e,lX,t.lineHeight),this.listStyleImage=Ae(e,cX,t.listStyleImage),this.listStylePosition=Ae(e,hX,t.listStylePosition),this.listStyleType=Ae(e,bv,t.listStyleType),this.marginTop=Ae(e,fX,t.marginTop),this.marginRight=Ae(e,dX,t.marginRight),this.marginBottom=Ae(e,gX,t.marginBottom),this.marginLeft=Ae(e,pX,t.marginLeft),this.opacity=Ae(e,DX,t.opacity);var i=Ae(e,mX,t.overflow);this.overflowX=i[0],this.overflowY=i[i.length>1?1:0],this.overflowWrap=Ae(e,vX,t.overflowWrap),this.paddingTop=Ae(e,yX,t.paddingTop),this.paddingRight=Ae(e,wX,t.paddingRight),this.paddingBottom=Ae(e,BX,t.paddingBottom),this.paddingLeft=Ae(e,CX,t.paddingLeft),this.paintOrder=Ae(e,zX,t.paintOrder),this.position=Ae(e,_X,t.position),this.textAlign=Ae(e,EX,t.textAlign),this.textDecorationColor=Ae(e,LX,(n=t.textDecorationColor)!==null&&n!==void 0?n:t.color),this.textDecorationLine=Ae(e,MX,(A=t.textDecorationLine)!==null&&A!==void 0?A:t.textDecoration),this.textShadow=Ae(e,TX,t.textShadow),this.textTransform=Ae(e,IX,t.textTransform),this.transform=Ae(e,bX,t.transform),this.transformOrigin=Ae(e,RX,t.transformOrigin),this.visibility=Ae(e,xX,t.visibility),this.webkitTextStrokeColor=Ae(e,YX,t.webkitTextStrokeColor),this.webkitTextStrokeWidth=Ae(e,JX,t.webkitTextStrokeWidth),this.wordBreak=Ae(e,PX,t.wordBreak),this.zIndex=Ae(e,OX,t.zIndex)}return r.prototype.isVisible=function(){return this.display>0&&this.opacity>0&&this.visibility===0},r.prototype.isTransparent=function(){return KA(this.backgroundColor)},r.prototype.isTransformed=function(){return this.transform!==null},r.prototype.isPositioned=function(){return this.position!==0},r.prototype.isPositionedWithZIndex=function(){return this.isPositioned()&&!this.zIndex.auto},r.prototype.isFloating=function(){return this.float!==0},r.prototype.isInlineLevel=function(){return It(this.display,4)||It(this.display,33554432)||It(this.display,268435456)||It(this.display,536870912)||It(this.display,67108864)||It(this.display,134217728)},r})(),ez=(function(){function r(e,t){this.content=Ae(e,GX,t.content),this.quotes=Ae(e,$X,t.quotes)}return r})(),XT=(function(){function r(e,t){this.counterIncrement=Ae(e,jX,t.counterIncrement),this.counterReset=Ae(e,qX,t.counterReset)}return r})(),Ae=function(r,e,t){var n=new xP,A=t!==null&&typeof t<"u"?t.toString():e.initialValue;n.write(A);var i=new PP(n.read());switch(e.type){case 2:var s=i.parseComponentValue();return e.parse(r,Me(s)?s.value:e.initialValue);case 0:return e.parse(r,i.parseComponentValue());case 1:return e.parse(r,i.parseComponentValues());case 4:return i.parseComponentValue();case 3:switch(e.format){case"angle":return nh.parse(r,i.parseComponentValue());case"color":return VA.parse(r,i.parseComponentValue());case"image":return qw.parse(r,i.parseComponentValue());case"length":var a=i.parseComponentValue();return XA(a)?a:Kt;case"length-percentage":var o=i.parseComponentValue();return Ct(o)?o:Kt;case"time":return JP.parse(r,i.parseComponentValue())}break}},tz="data-html2canvas-debug",rz=function(r){var e=r.getAttribute(tz);switch(e){case"all":return 1;case"clone":return 2;case"parse":return 3;case"render":return 4;default:return 0}},Uv=function(r,e){var t=rz(r);return t===1||e===t},Qn=(function(){function r(e,t){if(this.context=e,this.textNodes=[],this.elements=[],this.flags=0,Uv(t,3))debugger;this.styles=new ZX(e,window.getComputedStyle(t,null)),Qv(t)&&(this.styles.animationDuration.some(function(n){return n>0})&&(t.style.animationDuration="0s"),this.styles.transform!==null&&(t.style.transform="none")),this.bounds=th(this.context,t),Uv(t,4)&&(this.flags|=16)}return r})(),nz="AAAAAAAAAAAAEA4AGBkAAFAaAAACAAAAAAAIABAAGAAwADgACAAQAAgAEAAIABAACAAQAAgAEAAIABAACAAQAAgAEAAIABAAQABIAEQATAAIABAACAAQAAgAEAAIABAAVABcAAgAEAAIABAACAAQAGAAaABwAHgAgACIAI4AlgAIABAAmwCjAKgAsAC2AL4AvQDFAMoA0gBPAVYBWgEIAAgACACMANoAYgFkAWwBdAF8AX0BhQGNAZUBlgGeAaMBlQGWAasBswF8AbsBwwF0AcsBYwHTAQgA2wG/AOMBdAF8AekB8QF0AfkB+wHiAHQBfAEIAAMC5gQIAAsCEgIIAAgAFgIeAggAIgIpAggAMQI5AkACygEIAAgASAJQAlgCYAIIAAgACAAKBQoFCgUTBRMFGQUrBSsFCAAIAAgACAAIAAgACAAIAAgACABdAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABoAmgCrwGvAQgAbgJ2AggAHgEIAAgACADnAXsCCAAIAAgAgwIIAAgACAAIAAgACACKAggAkQKZAggAPADJAAgAoQKkAqwCsgK6AsICCADJAggA0AIIAAgACAAIANYC3gIIAAgACAAIAAgACABAAOYCCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAkASoB+QIEAAgACAA8AEMCCABCBQgACABJBVAFCAAIAAgACAAIAAgACAAIAAgACABTBVoFCAAIAFoFCABfBWUFCAAIAAgACAAIAAgAbQUIAAgACAAIAAgACABzBXsFfQWFBYoFigWKBZEFigWKBYoFmAWfBaYFrgWxBbkFCAAIAAgACAAIAAgACAAIAAgACAAIAMEFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAMgFCADQBQgACAAIAAgACAAIAAgACAAIAAgACAAIAO4CCAAIAAgAiQAIAAgACABAAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAD0AggACAD8AggACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIANYFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAMDvwAIAAgAJAIIAAgACAAIAAgACAAIAAgACwMTAwgACAB9BOsEGwMjAwgAKwMyAwsFYgE3A/MEPwMIAEUDTQNRAwgAWQOsAGEDCAAIAAgACAAIAAgACABpAzQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFIQUoBSwFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABtAwgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABMAEwACAAIAAgACAAIABgACAAIAAgACAC/AAgACAAyAQgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACAAIAAwAAgACAAIAAgACAAIAAgACAAIAAAARABIAAgACAAIABQASAAIAAgAIABwAEAAjgCIABsAqAC2AL0AigDQAtwC+IJIQqVAZUBWQqVAZUBlQGVAZUBlQGrC5UBlQGVAZUBlQGVAZUBlQGVAXsKlQGVAbAK6wsrDGUMpQzlDJUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAfAKAAuZA64AtwCJALoC6ADwAAgAuACgA/oEpgO6AqsD+AAIAAgAswMIAAgACAAIAIkAuwP5AfsBwwPLAwgACAAIAAgACADRA9kDCAAIAOED6QMIAAgACAAIAAgACADuA/YDCAAIAP4DyQAIAAgABgQIAAgAXQAOBAgACAAIAAgACAAIABMECAAIAAgACAAIAAgACAD8AAQBCAAIAAgAGgQiBCoECAExBAgAEAEIAAgACAAIAAgACAAIAAgACAAIAAgACAA4BAgACABABEYECAAIAAgATAQYAQgAVAQIAAgACAAIAAgACAAIAAgACAAIAFoECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAOQEIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAB+BAcACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAEABhgSMBAgACAAIAAgAlAQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAwAEAAQABAADAAMAAwADAAQABAAEAAQABAAEAAQABHATAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAdQMIAAgACAAIAAgACAAIAMkACAAIAAgAfQMIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACFA4kDCAAIAAgACAAIAOcBCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAIcDCAAIAAgACAAIAAgACAAIAAgACAAIAJEDCAAIAAgACADFAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABgBAgAZgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAbAQCBXIECAAIAHkECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABAAJwEQACjBKoEsgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAC6BMIECAAIAAgACAAIAAgACABmBAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAxwQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAGYECAAIAAgAzgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBd0FXwUIAOIF6gXxBYoF3gT5BQAGCAaKBYoFigWKBYoFigWKBYoFigWKBYoFigXWBIoFigWKBYoFigWKBYoFigWKBYsFEAaKBYoFigWKBYoFigWKBRQGCACKBYoFigWKBQgACAAIANEECAAIABgGigUgBggAJgYIAC4GMwaKBYoF0wQ3Bj4GigWKBYoFigWKBYoFigWKBYoFigWKBYoFigUIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWLBf///////wQABAAEAAQABAAEAAQABAAEAAQAAwAEAAQAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAQADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUAAAAFAAUAAAAFAAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAQAAAAUABQAFAAUABQAFAAAAAAAFAAUAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAFAAUAAQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAAABwAHAAcAAAAHAAcABwAFAAEAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAcABwAFAAUAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAQABAAAAAAAAAAAAAAAFAAUABQAFAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAHAAcAAAAHAAcAAAAAAAUABQAHAAUAAQAHAAEABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwABAAUABQAFAAUAAAAAAAAAAAAAAAEAAQABAAEAAQABAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABQANAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAABQAHAAUABQAFAAAAAAAAAAcABQAFAAUABQAFAAQABAAEAAQABAAEAAQABAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUAAAAFAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAUAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAcABwAFAAcABwAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUABwAHAAUABQAFAAUAAAAAAAcABwAAAAAABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAAAAAAAAAAABQAFAAAAAAAFAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAFAAUABQAFAAUAAAAFAAUABwAAAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABwAFAAUABQAFAAAAAAAHAAcAAAAAAAcABwAFAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAAAAAAAAAHAAcABwAAAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAUABQAFAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAHAAcABQAHAAcAAAAFAAcABwAAAAcABwAFAAUAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAFAAcABwAFAAUABQAAAAUAAAAHAAcABwAHAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAHAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUAAAAFAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAUAAAAFAAUAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABwAFAAUABQAFAAUABQAAAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABQAFAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAFAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAHAAUABQAFAAUABQAFAAUABwAHAAcABwAHAAcABwAHAAUABwAHAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABwAHAAcABwAFAAUABwAHAAcAAAAAAAAAAAAHAAcABQAHAAcABwAHAAcABwAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAUABQAFAAUABQAFAAUAAAAFAAAABQAAAAAABQAFAAUABQAFAAUABQAFAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAUABQAFAAUABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABwAFAAcABwAHAAcABwAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAUABQAFAAUABwAHAAUABQAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABQAFAAcABwAHAAUABwAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAcABQAFAAUABQAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAAAAAABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAAAAAAAAAFAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAUABQAHAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAFAAUABQAFAAcABwAFAAUABwAHAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAcABwAFAAUABwAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABQAAAAAABQAFAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAcABwAAAAAAAAAAAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAcABwAFAAcABwAAAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAFAAUABQAAAAUABQAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABwAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAHAAcABQAHAAUABQAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAAABwAHAAAAAAAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAFAAUABwAFAAcABwAFAAcABQAFAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAAAAAABwAHAAcABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAFAAcABwAFAAUABQAFAAUABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAUABQAFAAcABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABQAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAAAAAAFAAUABwAHAAcABwAFAAAAAAAAAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAHAAUABQAFAAUABQAFAAUABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAABQAAAAUABQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAHAAcAAAAFAAUAAAAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABQAFAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAABQAFAAUABQAFAAUABQAAAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAFAAUABQAFAAUADgAOAA4ADgAOAA4ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAMAAwADAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAAAAAAAAAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAAAAAAAAAAAAsADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwACwAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAADgAOAA4AAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAAAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4AAAAOAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAAAAAAAAAAAA4AAAAOAAAAAAAAAAAADgAOAA4AAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAA=",zT="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",ka=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var il=0;il<zT.length;il++)ka[zT.charCodeAt(il)]=il;var Az=function(r){var e=r.length*.75,t=r.length,n,A=0,i,s,a,o;r[r.length-1]==="="&&(e--,r[r.length-2]==="="&&e--);var u=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(e):new Array(e),l=Array.isArray(u)?u:new Uint8Array(u);for(n=0;n<t;n+=4)i=ka[r.charCodeAt(n)],s=ka[r.charCodeAt(n+1)],a=ka[r.charCodeAt(n+2)],o=ka[r.charCodeAt(n+3)],l[A++]=i<<2|s>>4,l[A++]=(s&15)<<4|a>>2,l[A++]=(a&3)<<6|o&63;return u},iz=function(r){for(var e=r.length,t=[],n=0;n<e;n+=2)t.push(r[n+1]<<8|r[n]);return t},sz=function(r){for(var e=r.length,t=[],n=0;n<e;n+=4)t.push(r[n+3]<<24|r[n+2]<<16|r[n+1]<<8|r[n]);return t},bi=5,Ww=11,od=2,az=Ww-bi,ZP=65536>>bi,oz=1<<bi,ud=oz-1,uz=1024>>bi,lz=ZP+uz,cz=lz,hz=32,fz=cz+hz,dz=65536>>Ww,gz=1<<az,pz=gz-1,YT=function(r,e,t){return r.slice?r.slice(e,t):new Uint16Array(Array.prototype.slice.call(r,e,t))},mz=function(r,e,t){return r.slice?r.slice(e,t):new Uint32Array(Array.prototype.slice.call(r,e,t))},vz=function(r,e){var t=Az(r),n=Array.isArray(t)?sz(t):new Uint32Array(t),A=Array.isArray(t)?iz(t):new Uint16Array(t),i=24,s=YT(A,i/2,n[4]/2),a=n[5]===2?YT(A,(i+n[4])/2):mz(n,Math.ceil((i+n[4])/4));return new yz(n[0],n[1],n[2],n[3],s,a)},yz=(function(){function r(e,t,n,A,i,s){this.initialValue=e,this.errorValue=t,this.highStart=n,this.highValueIndex=A,this.index=i,this.data=s}return r.prototype.get=function(e){var t;if(e>=0){if(e<55296||e>56319&&e<=65535)return t=this.index[e>>bi],t=(t<<od)+(e&ud),this.data[t];if(e<=65535)return t=this.index[ZP+(e-55296>>bi)],t=(t<<od)+(e&ud),this.data[t];if(e<this.highStart)return t=fz-dz+(e>>Ww),t=this.index[t],t+=e>>bi&pz,t=this.index[t],t=(t<<od)+(e&ud),this.data[t];if(e<=1114111)return this.data[this.highValueIndex]}return this.errorValue},r})(),JT="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",wz=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var sl=0;sl<JT.length;sl++)wz[JT.charCodeAt(sl)]=sl;var Bz=1,ld=2,cd=3,ZT=4,eI=5,Cz=7,tI=8,hd=9,fd=10,rI=11,nI=12,AI=13,iI=14,dd=15,Ez=function(r){for(var e=[],t=0,n=r.length;t<n;){var A=r.charCodeAt(t++);if(A>=55296&&A<=56319&&t<n){var i=r.charCodeAt(t++);(i&64512)===56320?e.push(((A&1023)<<10)+(i&1023)+65536):(e.push(A),t--)}else e.push(A)}return e},_z=function(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];if(String.fromCodePoint)return String.fromCodePoint.apply(String,r);var t=r.length;if(!t)return"";for(var n=[],A=-1,i="";++A<t;){var s=r[A];s<=65535?n.push(s):(s-=65536,n.push((s>>10)+55296,s%1024+56320)),(A+1===t||n.length>16384)&&(i+=String.fromCharCode.apply(String,n),n.length=0)}return i},Tz=vz(nz),Hr="",gd="",Iz=function(r){return Tz.get(r)},bz=function(r,e,t){var n=t-2,A=e[n],i=e[t-1],s=e[t];if(i===ld&&s===cd)return Hr;if(i===ld||i===cd||i===ZT||s===ld||s===cd||s===ZT)return gd;if(i===tI&&[tI,hd,rI,nI].indexOf(s)!==-1||(i===rI||i===hd)&&(s===hd||s===fd)||(i===nI||i===fd)&&s===fd||s===AI||s===eI||s===Cz||i===Bz)return Hr;if(i===AI&&s===iI){for(;A===eI;)A=e[--n];if(A===iI)return Hr}if(i===dd&&s===dd){for(var a=0;A===dd;)a++,A=e[--n];if(a%2===0)return Hr}return gd},Uz=function(r){var e=Ez(r),t=e.length,n=0,A=0,i=e.map(Iz);return{next:function(){if(n>=t)return{done:!0,value:null};for(var s=Hr;n<t&&(s=bz(e,i,++n))===Hr;);if(s!==Hr||n===t){var a=_z.apply(null,e.slice(A,n));return A=n,{value:a,done:!1}}return{done:!0,value:null}}}},Fz=function(r){for(var e=Uz(r),t=[],n;!(n=e.next()).done;)n.value&&t.push(n.value.slice());return t},Sz=function(r){var e=123;if(r.createRange){var t=r.createRange();if(t.getBoundingClientRect){var n=r.createElement("boundtest");n.style.height=e+"px",n.style.display="block",r.body.appendChild(n),t.selectNode(n);var A=t.getBoundingClientRect(),i=Math.round(A.height);if(r.body.removeChild(n),i===e)return!0}}return!1},Qz=function(r){var e=r.createElement("boundtest");e.style.width="50px",e.style.display="block",e.style.fontSize="12px",e.style.letterSpacing="0px",e.style.wordSpacing="0px",r.body.appendChild(e);var t=r.createRange();e.innerHTML=typeof"".repeat=="function"?"&#128104;".repeat(10):"";var n=e.firstChild,A=rh(n.data).map(function(o){return dt(o)}),i=0,s={},a=A.every(function(o,u){t.setStart(n,i),t.setEnd(n,i+o.length);var l=t.getBoundingClientRect();i+=o.length;var h=l.x>s.x||l.y>s.y;return s=l,u===0?!0:h});return r.body.removeChild(e),a},Rz=function(){return typeof new Image().crossOrigin<"u"},xz=function(){return typeof new XMLHttpRequest().responseType=="string"},Pz=function(r){var e=new Image,t=r.createElement("canvas"),n=t.getContext("2d");if(!n)return!1;e.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{n.drawImage(e,0,0),t.toDataURL()}catch{return!1}return!0},sI=function(r){return r[0]===0&&r[1]===255&&r[2]===0&&r[3]===255},Oz=function(r){var e=r.createElement("canvas"),t=100;e.width=t,e.height=t;var n=e.getContext("2d");if(!n)return Promise.reject(!1);n.fillStyle="rgb(0, 255, 0)",n.fillRect(0,0,t,t);var A=new Image,i=e.toDataURL();A.src=i;var s=Fv(t,t,0,0,A);return n.fillStyle="red",n.fillRect(0,0,t,t),aI(s).then(function(a){n.drawImage(a,0,0);var o=n.getImageData(0,0,t,t).data;n.fillStyle="red",n.fillRect(0,0,t,t);var u=r.createElement("div");return u.style.backgroundImage="url("+i+")",u.style.height=t+"px",sI(o)?aI(Fv(t,t,0,0,u)):Promise.reject(!1)}).then(function(a){return n.drawImage(a,0,0),sI(n.getImageData(0,0,t,t).data)}).catch(function(){return!1})},Fv=function(r,e,t,n,A){var i="http://www.w3.org/2000/svg",s=document.createElementNS(i,"svg"),a=document.createElementNS(i,"foreignObject");return s.setAttributeNS(null,"width",r.toString()),s.setAttributeNS(null,"height",e.toString()),a.setAttributeNS(null,"width","100%"),a.setAttributeNS(null,"height","100%"),a.setAttributeNS(null,"x",t.toString()),a.setAttributeNS(null,"y",n.toString()),a.setAttributeNS(null,"externalResourcesRequired","true"),s.appendChild(a),a.appendChild(A),s},aI=function(r){return new Promise(function(e,t){var n=new Image;n.onload=function(){return e(n)},n.onerror=t,n.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(r))})},kt={get SUPPORT_RANGE_BOUNDS(){var r=Sz(document);return Object.defineProperty(kt,"SUPPORT_RANGE_BOUNDS",{value:r}),r},get SUPPORT_WORD_BREAKING(){var r=kt.SUPPORT_RANGE_BOUNDS&&Qz(document);return Object.defineProperty(kt,"SUPPORT_WORD_BREAKING",{value:r}),r},get SUPPORT_SVG_DRAWING(){var r=Pz(document);return Object.defineProperty(kt,"SUPPORT_SVG_DRAWING",{value:r}),r},get SUPPORT_FOREIGNOBJECT_DRAWING(){var r=typeof Array.from=="function"&&typeof window.fetch=="function"?Oz(document):Promise.resolve(!1);return Object.defineProperty(kt,"SUPPORT_FOREIGNOBJECT_DRAWING",{value:r}),r},get SUPPORT_CORS_IMAGES(){var r=Rz();return Object.defineProperty(kt,"SUPPORT_CORS_IMAGES",{value:r}),r},get SUPPORT_RESPONSE_TYPE(){var r=xz();return Object.defineProperty(kt,"SUPPORT_RESPONSE_TYPE",{value:r}),r},get SUPPORT_CORS_XHR(){var r="withCredentials"in new XMLHttpRequest;return Object.defineProperty(kt,"SUPPORT_CORS_XHR",{value:r}),r},get SUPPORT_NATIVE_TEXT_SEGMENTATION(){var r=!!(typeof Intl<"u"&&Intl.Segmenter);return Object.defineProperty(kt,"SUPPORT_NATIVE_TEXT_SEGMENTATION",{value:r}),r}},Ao=(function(){function r(e,t){this.text=e,this.bounds=t}return r})(),Dz=function(r,e,t,n){var A=Nz(e,t),i=[],s=0;return A.forEach(function(a){if(t.textDecorationLine.length||a.trim().length>0)if(kt.SUPPORT_RANGE_BOUNDS){var o=oI(n,s,a.length).getClientRects();if(o.length>1){var u=$w(a),l=0;u.forEach(function(f){i.push(new Ao(f,hA.fromDOMRectList(r,oI(n,l+s,f.length).getClientRects()))),l+=f.length})}else i.push(new Ao(a,hA.fromDOMRectList(r,o)))}else{var h=n.splitText(a.length);i.push(new Ao(a,Lz(r,n))),n=h}else kt.SUPPORT_RANGE_BOUNDS||(n=n.splitText(a.length));s+=a.length}),i},Lz=function(r,e){var t=e.ownerDocument;if(t){var n=t.createElement("html2canvaswrapper");n.appendChild(e.cloneNode(!0));var A=e.parentNode;if(A){A.replaceChild(n,e);var i=th(r,n);return n.firstChild&&A.replaceChild(n.firstChild,n),i}}return hA.EMPTY},oI=function(r,e,t){var n=r.ownerDocument;if(!n)throw new Error("Node has no owner document");var A=n.createRange();return A.setStart(r,e),A.setEnd(r,e+t),A},$w=function(r){if(kt.SUPPORT_NATIVE_TEXT_SEGMENTATION){var e=new Intl.Segmenter(void 0,{granularity:"grapheme"});return Array.from(e.segment(r)).map(function(t){return t.segment})}return Fz(r)},Mz=function(r,e){if(kt.SUPPORT_NATIVE_TEXT_SEGMENTATION){var t=new Intl.Segmenter(void 0,{granularity:"word"});return Array.from(t.segment(r)).map(function(n){return n.segment})}return Hz(r,e)},Nz=function(r,e){return e.letterSpacing!==0?$w(r):Mz(r,e)},kz=[32,160,4961,65792,65793,4153,4241],Hz=function(r,e){for(var t=dW(r,{lineBreak:e.lineBreak,wordBreak:e.overflowWrap==="break-word"?"break-word":e.wordBreak}),n=[],A,i=function(){if(A.value){var s=A.value.slice(),a=rh(s),o="";a.forEach(function(u){kz.indexOf(u)===-1?o+=dt(u):(o.length&&n.push(o),n.push(dt(u)),o="")}),o.length&&n.push(o)}};!(A=t.next()).done;)i();return n},Vz=(function(){function r(e,t,n){this.text=Kz(t.data,n.textTransform),this.textBounds=Dz(e,this.text,n,t)}return r})(),Kz=function(r,e){switch(e){case 1:return r.toLowerCase();case 3:return r.replace(Gz,jz);case 2:return r.toUpperCase();default:return r}},Gz=/(^|\s|:|-|\(|\))([a-z])/g,jz=function(r,e,t){return r.length>0?e+t.toUpperCase():r},eO=(function(r){pn(e,r);function e(t,n){var A=r.call(this,t,n)||this;return A.src=n.currentSrc||n.src,A.intrinsicWidth=n.naturalWidth,A.intrinsicHeight=n.naturalHeight,A.context.cache.addImage(A.src),A}return e})(Qn),tO=(function(r){pn(e,r);function e(t,n){var A=r.call(this,t,n)||this;return A.canvas=n,A.intrinsicWidth=n.width,A.intrinsicHeight=n.height,A}return e})(Qn),rO=(function(r){pn(e,r);function e(t,n){var A=r.call(this,t,n)||this,i=new XMLSerializer,s=th(t,n);return n.setAttribute("width",s.width+"px"),n.setAttribute("height",s.height+"px"),A.svg="data:image/svg+xml,"+encodeURIComponent(i.serializeToString(n)),A.intrinsicWidth=n.width.baseVal.value,A.intrinsicHeight=n.height.baseVal.value,A.context.cache.addImage(A.svg),A}return e})(Qn),nO=(function(r){pn(e,r);function e(t,n){var A=r.call(this,t,n)||this;return A.value=n.value,A}return e})(Qn),Sv=(function(r){pn(e,r);function e(t,n){var A=r.call(this,t,n)||this;return A.start=n.start,A.reversed=typeof n.reversed=="boolean"&&n.reversed===!0,A}return e})(Qn),qz=[{type:15,flags:0,unit:"px",number:3}],Wz=[{type:16,flags:0,number:50}],$z=function(r){return r.width>r.height?new hA(r.left+(r.width-r.height)/2,r.top,r.height,r.height):r.width<r.height?new hA(r.left,r.top+(r.height-r.width)/2,r.width,r.width):r},Xz=function(r){var e=r.type===zz?new Array(r.value.length+1).join(""):r.value;return e.length===0?r.placeholder||"":e},gc="checkbox",pc="radio",zz="password",uI=707406591,Xw=(function(r){pn(e,r);function e(t,n){var A=r.call(this,t,n)||this;switch(A.type=n.type.toLowerCase(),A.checked=n.checked,A.value=Xz(n),(A.type===gc||A.type===pc)&&(A.styles.backgroundColor=3739148031,A.styles.borderTopColor=A.styles.borderRightColor=A.styles.borderBottomColor=A.styles.borderLeftColor=2779096575,A.styles.borderTopWidth=A.styles.borderRightWidth=A.styles.borderBottomWidth=A.styles.borderLeftWidth=1,A.styles.borderTopStyle=A.styles.borderRightStyle=A.styles.borderBottomStyle=A.styles.borderLeftStyle=1,A.styles.backgroundClip=[0],A.styles.backgroundOrigin=[0],A.bounds=$z(A.bounds)),A.type){case gc:A.styles.borderTopRightRadius=A.styles.borderTopLeftRadius=A.styles.borderBottomRightRadius=A.styles.borderBottomLeftRadius=qz;break;case pc:A.styles.borderTopRightRadius=A.styles.borderTopLeftRadius=A.styles.borderBottomRightRadius=A.styles.borderBottomLeftRadius=Wz;break}return A}return e})(Qn),AO=(function(r){pn(e,r);function e(t,n){var A=r.call(this,t,n)||this,i=n.options[n.selectedIndex||0];return A.value=i&&i.text||"",A}return e})(Qn),iO=(function(r){pn(e,r);function e(t,n){var A=r.call(this,t,n)||this;return A.value=n.value,A}return e})(Qn),sO=(function(r){pn(e,r);function e(t,n){var A=r.call(this,t,n)||this;A.src=n.src,A.width=parseInt(n.width,10)||0,A.height=parseInt(n.height,10)||0,A.backgroundColor=A.styles.backgroundColor;try{if(n.contentWindow&&n.contentWindow.document&&n.contentWindow.document.documentElement){A.tree=oO(t,n.contentWindow.document.documentElement);var i=n.contentWindow.document.documentElement?ro(t,getComputedStyle(n.contentWindow.document.documentElement).backgroundColor):nA.TRANSPARENT,s=n.contentWindow.document.body?ro(t,getComputedStyle(n.contentWindow.document.body).backgroundColor):nA.TRANSPARENT;A.backgroundColor=KA(i)?KA(s)?A.styles.backgroundColor:s:i}}catch{}return A}return e})(Qn),Yz=["OL","UL","MENU"],Pl=function(r,e,t,n){for(var A=e.firstChild,i=void 0;A;A=i)if(i=A.nextSibling,uO(A)&&A.data.trim().length>0)t.textNodes.push(new Vz(r,A,t.styles));else if(ys(A))if(fO(A)&&A.assignedNodes)A.assignedNodes().forEach(function(a){return Pl(r,a,t,n)});else{var s=aO(r,A);s.styles.isVisible()&&(Jz(A,s,n)?s.flags|=4:Zz(s.styles)&&(s.flags|=2),Yz.indexOf(A.tagName)!==-1&&(s.flags|=8),t.elements.push(s),A.slot,A.shadowRoot?Pl(r,A.shadowRoot,s,n):!mc(A)&&!lO(A)&&!vc(A)&&Pl(r,A,s,n))}},aO=function(r,e){return Rv(e)?new eO(r,e):cO(e)?new tO(r,e):lO(e)?new rO(r,e):eY(e)?new nO(r,e):tY(e)?new Sv(r,e):rY(e)?new Xw(r,e):vc(e)?new AO(r,e):mc(e)?new iO(r,e):hO(e)?new sO(r,e):new Qn(r,e)},oO=function(r,e){var t=aO(r,e);return t.flags|=4,Pl(r,e,t,t),t},Jz=function(r,e,t){return e.styles.isPositionedWithZIndex()||e.styles.opacity<1||e.styles.isTransformed()||zw(r)&&t.styles.isTransparent()},Zz=function(r){return r.isPositioned()||r.isFloating()},uO=function(r){return r.nodeType===Node.TEXT_NODE},ys=function(r){return r.nodeType===Node.ELEMENT_NODE},Qv=function(r){return ys(r)&&typeof r.style<"u"&&!Ol(r)},Ol=function(r){return typeof r.className=="object"},eY=function(r){return r.tagName==="LI"},tY=function(r){return r.tagName==="OL"},rY=function(r){return r.tagName==="INPUT"},nY=function(r){return r.tagName==="HTML"},lO=function(r){return r.tagName==="svg"},zw=function(r){return r.tagName==="BODY"},cO=function(r){return r.tagName==="CANVAS"},lI=function(r){return r.tagName==="VIDEO"},Rv=function(r){return r.tagName==="IMG"},hO=function(r){return r.tagName==="IFRAME"},cI=function(r){return r.tagName==="STYLE"},AY=function(r){return r.tagName==="SCRIPT"},mc=function(r){return r.tagName==="TEXTAREA"},vc=function(r){return r.tagName==="SELECT"},fO=function(r){return r.tagName==="SLOT"},hI=function(r){return r.tagName.indexOf("-")>0},iY=(function(){function r(){this.counters={}}return r.prototype.getCounterValue=function(e){var t=this.counters[e];return t&&t.length?t[t.length-1]:1},r.prototype.getCounterValues=function(e){var t=this.counters[e];return t||[]},r.prototype.pop=function(e){var t=this;e.forEach(function(n){return t.counters[n].pop()})},r.prototype.parse=function(e){var t=this,n=e.counterIncrement,A=e.counterReset,i=!0;n!==null&&n.forEach(function(a){var o=t.counters[a.counter];o&&a.increment!==0&&(i=!1,o.length||o.push(1),o[Math.max(0,o.length-1)]+=a.increment)});var s=[];return i&&A.forEach(function(a){var o=t.counters[a.counter];s.push(a.counter),o||(o=t.counters[a.counter]=[]),o.push(a.reset)}),s},r})(),fI={integers:[1e3,900,500,400,100,90,50,40,10,9,5,4,1],values:["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"]},dI={integers:[9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},sY={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,400,300,200,100,90,80,70,60,50,40,30,20,19,18,17,16,15,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},aY={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},As=function(r,e,t,n,A,i){return r<e||r>t?Fo(r,A,i.length>0):n.integers.reduce(function(s,a,o){for(;r>=a;)r-=a,s+=n.values[o];return s},"")+i},dO=function(r,e,t,n){var A="";do t||r--,A=n(r)+A,r/=e;while(r*e>=e);return A},ht=function(r,e,t,n,A){var i=t-e+1;return(r<0?"-":"")+(dO(Math.abs(r),i,n,function(s){return dt(Math.floor(s%i)+e)})+A)},oi=function(r,e,t){t===void 0&&(t=". ");var n=e.length;return dO(Math.abs(r),n,!1,function(A){return e[Math.floor(A%n)]})+t},ls=1,IA=2,bA=4,Ha=8,qn=function(r,e,t,n,A,i){if(r<-9999||r>9999)return Fo(r,4,A.length>0);var s=Math.abs(r),a=A;if(s===0)return e[0]+a;for(var o=0;s>0&&o<=4;o++){var u=s%10;u===0&&It(i,ls)&&a!==""?a=e[u]+a:u>1||u===1&&o===0||u===1&&o===1&&It(i,IA)||u===1&&o===1&&It(i,bA)&&r>100||u===1&&o>1&&It(i,Ha)?a=e[u]+(o>0?t[o-1]:"")+a:u===1&&o>0&&(a=t[o-1]+a),s=Math.floor(s/10)}return(r<0?n:"")+a},gI="",pI="",mI="",pd="",Fo=function(r,e,t){var n=t?". ":"",A=t?"":"",i=t?", ":"",s=t?" ":"";switch(e){case 0:return""+s;case 1:return""+s;case 2:return""+s;case 5:var a=ht(r,48,57,!0,n);return a.length<4?"0"+a:a;case 4:return oi(r,"",A);case 6:return As(r,1,3999,fI,3,n).toLowerCase();case 7:return As(r,1,3999,fI,3,n);case 8:return ht(r,945,969,!1,n);case 9:return ht(r,97,122,!1,n);case 10:return ht(r,65,90,!1,n);case 11:return ht(r,1632,1641,!0,n);case 12:case 49:return As(r,1,9999,dI,3,n);case 35:return As(r,1,9999,dI,3,n).toLowerCase();case 13:return ht(r,2534,2543,!0,n);case 14:case 30:return ht(r,6112,6121,!0,n);case 15:return oi(r,"",A);case 16:return oi(r,"",A);case 17:case 48:return qn(r,"",gI,"",A,IA|bA|Ha);case 47:return qn(r,"",pI,"",A,ls|IA|bA|Ha);case 42:return qn(r,"",gI,"",A,IA|bA|Ha);case 41:return qn(r,"",pI,"",A,ls|IA|bA|Ha);case 26:return qn(r,"","",mI,A,0);case 25:return qn(r,"","",mI,A,ls|IA|bA);case 31:return qn(r,"","",pd,i,ls|IA|bA);case 33:return qn(r,"","",pd,i,0);case 32:return qn(r,"","",pd,i,ls|IA|bA);case 18:return ht(r,2406,2415,!0,n);case 20:return As(r,1,19999,aY,3,n);case 21:return ht(r,2790,2799,!0,n);case 22:return ht(r,2662,2671,!0,n);case 22:return As(r,1,10999,sY,3,n);case 23:return oi(r,"");case 24:return oi(r,"");case 27:return ht(r,3302,3311,!0,n);case 28:return oi(r,"",A);case 29:return oi(r,"",A);case 34:return ht(r,3792,3801,!0,n);case 37:return ht(r,6160,6169,!0,n);case 38:return ht(r,4160,4169,!0,n);case 39:return ht(r,2918,2927,!0,n);case 40:return ht(r,1776,1785,!0,n);case 43:return ht(r,3046,3055,!0,n);case 44:return ht(r,3174,3183,!0,n);case 45:return ht(r,3664,3673,!0,n);case 46:return ht(r,3872,3881,!0,n);case 3:default:return ht(r,48,57,!0,n)}},gO="data-html2canvas-ignore",vI=(function(){function r(e,t,n){if(this.context=e,this.options=n,this.scrolledElements=[],this.referenceElement=t,this.counters=new iY,this.quoteDepth=0,!t.ownerDocument)throw new Error("Cloned element does not have an owner document");this.documentElement=this.cloneNode(t.ownerDocument.documentElement,!1)}return r.prototype.toIFrame=function(e,t){var n=this,A=oY(e,t);if(!A.contentWindow)return Promise.reject("Unable to find iframe window");var i=e.defaultView.pageXOffset,s=e.defaultView.pageYOffset,a=A.contentWindow,o=a.document,u=cY(A).then(function(){return cr(n,void 0,void 0,function(){var l,h;return tr(this,function(f){switch(f.label){case 0:return this.scrolledElements.forEach(gY),a&&(a.scrollTo(t.left,t.top),/(iPad|iPhone|iPod)/g.test(navigator.userAgent)&&(a.scrollY!==t.top||a.scrollX!==t.left)&&(this.context.logger.warn("Unable to restore scroll position for cloned document"),this.context.windowBounds=this.context.windowBounds.add(a.scrollX-t.left,a.scrollY-t.top,0,0))),l=this.options.onclone,h=this.clonedReferenceElement,typeof h>"u"?[2,Promise.reject("Error finding the "+this.referenceElement.nodeName+" in the cloned document")]:o.fonts&&o.fonts.ready?[4,o.fonts.ready]:[3,2];case 1:f.sent(),f.label=2;case 2:return/(AppleWebKit)/g.test(navigator.userAgent)?[4,lY(o)]:[3,4];case 3:f.sent(),f.label=4;case 4:return typeof l=="function"?[2,Promise.resolve().then(function(){return l(o,h)}).then(function(){return A})]:[2,A]}})})});return o.open(),o.write(fY(document.doctype)+"<html></html>"),dY(this.referenceElement.ownerDocument,i,s),o.replaceChild(o.adoptNode(this.documentElement),o.documentElement),o.close(),u},r.prototype.createElementClone=function(e){if(Uv(e,2))debugger;if(cO(e))return this.createCanvasClone(e);if(lI(e))return this.createVideoClone(e);if(cI(e))return this.createStyleClone(e);var t=e.cloneNode(!1);return Rv(t)&&(Rv(e)&&e.currentSrc&&e.currentSrc!==e.src&&(t.src=e.currentSrc,t.srcset=""),t.loading==="lazy"&&(t.loading="eager")),hI(t)?this.createCustomElementClone(t):t},r.prototype.createCustomElementClone=function(e){var t=document.createElement("html2canvascustomelement");return md(e.style,t),t},r.prototype.createStyleClone=function(e){try{var t=e.sheet;if(t&&t.cssRules){var n=[].slice.call(t.cssRules,0).reduce(function(i,s){return s&&typeof s.cssText=="string"?i+s.cssText:i},""),A=e.cloneNode(!1);return A.textContent=n,A}}catch(i){if(this.context.logger.error("Unable to access cssRules property",i),i.name!=="SecurityError")throw i}return e.cloneNode(!1)},r.prototype.createCanvasClone=function(e){var t;if(this.options.inlineImages&&e.ownerDocument){var n=e.ownerDocument.createElement("img");try{return n.src=e.toDataURL(),n}catch{this.context.logger.info("Unable to inline canvas contents, canvas is tainted",e)}}var A=e.cloneNode(!1);try{A.width=e.width,A.height=e.height;var i=e.getContext("2d"),s=A.getContext("2d");if(s)if(!this.options.allowTaint&&i)s.putImageData(i.getImageData(0,0,e.width,e.height),0,0);else{var a=(t=e.getContext("webgl2"))!==null&&t!==void 0?t:e.getContext("webgl");if(a){var o=a.getContextAttributes();o?.preserveDrawingBuffer===!1&&this.context.logger.warn("Unable to clone WebGL context as it has preserveDrawingBuffer=false",e)}s.drawImage(e,0,0)}return A}catch{this.context.logger.info("Unable to clone canvas as it is tainted",e)}return A},r.prototype.createVideoClone=function(e){var t=e.ownerDocument.createElement("canvas");t.width=e.offsetWidth,t.height=e.offsetHeight;var n=t.getContext("2d");try{return n&&(n.drawImage(e,0,0,t.width,t.height),this.options.allowTaint||n.getImageData(0,0,t.width,t.height)),t}catch{this.context.logger.info("Unable to clone video as it is tainted",e)}var A=e.ownerDocument.createElement("canvas");return A.width=e.offsetWidth,A.height=e.offsetHeight,A},r.prototype.appendChildNode=function(e,t,n){(!ys(t)||!AY(t)&&!t.hasAttribute(gO)&&(typeof this.options.ignoreElements!="function"||!this.options.ignoreElements(t)))&&(!this.options.copyStyles||!ys(t)||!cI(t))&&e.appendChild(this.cloneNode(t,n))},r.prototype.cloneChildNodes=function(e,t,n){for(var A=this,i=e.shadowRoot?e.shadowRoot.firstChild:e.firstChild;i;i=i.nextSibling)if(ys(i)&&fO(i)&&typeof i.assignedNodes=="function"){var s=i.assignedNodes();s.length&&s.forEach(function(a){return A.appendChildNode(t,a,n)})}else this.appendChildNode(t,i,n)},r.prototype.cloneNode=function(e,t){if(uO(e))return document.createTextNode(e.data);if(!e.ownerDocument)return e.cloneNode(!1);var n=e.ownerDocument.defaultView;if(n&&ys(e)&&(Qv(e)||Ol(e))){var A=this.createElementClone(e);A.style.transitionProperty="none";var i=n.getComputedStyle(e),s=n.getComputedStyle(e,":before"),a=n.getComputedStyle(e,":after");this.referenceElement===e&&Qv(A)&&(this.clonedReferenceElement=A),zw(A)&&vY(A);var o=this.counters.parse(new XT(this.context,i)),u=this.resolvePseudoContent(e,A,s,io.BEFORE);hI(e)&&(t=!0),lI(e)||this.cloneChildNodes(e,A,t),u&&A.insertBefore(u,A.firstChild);var l=this.resolvePseudoContent(e,A,a,io.AFTER);return l&&A.appendChild(l),this.counters.pop(o),(i&&(this.options.copyStyles||Ol(e))&&!hO(e)||t)&&md(i,A),(e.scrollTop!==0||e.scrollLeft!==0)&&this.scrolledElements.push([A,e.scrollLeft,e.scrollTop]),(mc(e)||vc(e))&&(mc(A)||vc(A))&&(A.value=e.value),A}return e.cloneNode(!1)},r.prototype.resolvePseudoContent=function(e,t,n,A){var i=this;if(n){var s=n.content,a=t.ownerDocument;if(!(!a||!s||s==="none"||s==="-moz-alt-content"||n.display==="none")){this.counters.parse(new XT(this.context,n));var o=new ez(this.context,n),u=a.createElement("html2canvaspseudoelement");md(n,u),o.content.forEach(function(h){if(h.type===0)u.appendChild(a.createTextNode(h.value));else if(h.type===22){var f=a.createElement("img");f.src=h.value,f.style.opacity="1",u.appendChild(f)}else if(h.type===18){if(h.name==="attr"){var d=h.values.filter(Me);d.length&&u.appendChild(a.createTextNode(e.getAttribute(d[0].value)||""))}else if(h.name==="counter"){var g=h.values.filter(Ls),m=g[0],C=g[1];if(m&&Me(m)){var E=i.counters.getCounterValue(m.value),T=C&&Me(C)?bv.parse(i.context,C.value):3;u.appendChild(a.createTextNode(Fo(E,T,!1)))}}else if(h.name==="counters"){var I=h.values.filter(Ls),m=I[0],b=I[1],C=I[2];if(m&&Me(m)){var P=i.counters.getCounterValues(m.value),Q=C&&Me(C)?bv.parse(i.context,C.value):3,v=b&&b.type===0?b.value:"",y=P.map(function(F){return Fo(F,Q,!1)}).join(v);u.appendChild(a.createTextNode(y))}}}else if(h.type===20)switch(h.value){case"open-quote":u.appendChild(a.createTextNode($T(o.quotes,i.quoteDepth++,!0)));break;case"close-quote":u.appendChild(a.createTextNode($T(o.quotes,--i.quoteDepth,!1)));break;default:u.appendChild(a.createTextNode(h.value))}}),u.className=xv+" "+Pv;var l=A===io.BEFORE?" "+xv:" "+Pv;return Ol(t)?t.className.baseValue+=l:t.className+=l,u}}},r.destroy=function(e){return e.parentNode?(e.parentNode.removeChild(e),!0):!1},r})(),io;(function(r){r[r.BEFORE=0]="BEFORE",r[r.AFTER=1]="AFTER"})(io||(io={}));var oY=function(r,e){var t=r.createElement("iframe");return t.className="html2canvas-container",t.style.visibility="hidden",t.style.position="fixed",t.style.left="-10000px",t.style.top="0px",t.style.border="0",t.width=e.width.toString(),t.height=e.height.toString(),t.scrolling="no",t.setAttribute(gO,"true"),r.body.appendChild(t),t},uY=function(r){return new Promise(function(e){if(r.complete){e();return}if(!r.src){e();return}r.onload=e,r.onerror=e})},lY=function(r){return Promise.all([].slice.call(r.images,0).map(uY))},cY=function(r){return new Promise(function(e,t){var n=r.contentWindow;if(!n)return t("No window assigned for iframe");var A=n.document;n.onload=r.onload=function(){n.onload=r.onload=null;var i=setInterval(function(){A.body.childNodes.length>0&&A.readyState==="complete"&&(clearInterval(i),e(r))},50)}})},hY=["all","d","content"],md=function(r,e){for(var t=r.length-1;t>=0;t--){var n=r.item(t);hY.indexOf(n)===-1&&e.style.setProperty(n,r.getPropertyValue(n))}return e},fY=function(r){var e="";return r&&(e+="<!DOCTYPE ",r.name&&(e+=r.name),r.internalSubset&&(e+=r.internalSubset),r.publicId&&(e+='"'+r.publicId+'"'),r.systemId&&(e+='"'+r.systemId+'"'),e+=">"),e},dY=function(r,e,t){r&&r.defaultView&&(e!==r.defaultView.pageXOffset||t!==r.defaultView.pageYOffset)&&r.defaultView.scrollTo(e,t)},gY=function(r){var e=r[0],t=r[1],n=r[2];e.scrollLeft=t,e.scrollTop=n},pY=":before",mY=":after",xv="___html2canvas___pseudoelement_before",Pv="___html2canvas___pseudoelement_after",yI=`{
    content: "" !important;
    display: none !important;
}`,vY=function(r){yY(r,"."+xv+pY+yI+`
         .`+Pv+mY+yI)},yY=function(r,e){var t=r.ownerDocument;if(t){var n=t.createElement("style");n.textContent=e,r.appendChild(n)}},pO=(function(){function r(){}return r.getOrigin=function(e){var t=r._link;return t?(t.href=e,t.href=t.href,t.protocol+t.hostname+t.port):"about:blank"},r.isSameOrigin=function(e){return r.getOrigin(e)===r._origin},r.setContext=function(e){r._link=e.document.createElement("a"),r._origin=r.getOrigin(e.location.href)},r._origin="about:blank",r})(),wY=(function(){function r(e,t){this.context=e,this._options=t,this._cache={}}return r.prototype.addImage=function(e){var t=Promise.resolve();return this.has(e)||(yd(e)||_Y(e))&&(this._cache[e]=this.loadImage(e)).catch(function(){}),t},r.prototype.match=function(e){return this._cache[e]},r.prototype.loadImage=function(e){return cr(this,void 0,void 0,function(){var t,n,A,i,s=this;return tr(this,function(a){switch(a.label){case 0:return t=pO.isSameOrigin(e),n=!vd(e)&&this._options.useCORS===!0&&kt.SUPPORT_CORS_IMAGES&&!t,A=!vd(e)&&!t&&!yd(e)&&typeof this._options.proxy=="string"&&kt.SUPPORT_CORS_XHR&&!n,!t&&this._options.allowTaint===!1&&!vd(e)&&!yd(e)&&!A&&!n?[2]:(i=e,A?[4,this.proxy(i)]:[3,2]);case 1:i=a.sent(),a.label=2;case 2:return this.context.logger.debug("Added image "+e.substring(0,256)),[4,new Promise(function(o,u){var l=new Image;l.onload=function(){return o(l)},l.onerror=u,(TY(i)||n)&&(l.crossOrigin="anonymous"),l.src=i,l.complete===!0&&setTimeout(function(){return o(l)},500),s._options.imageTimeout>0&&setTimeout(function(){return u("Timed out ("+s._options.imageTimeout+"ms) loading image")},s._options.imageTimeout)})];case 3:return[2,a.sent()]}})})},r.prototype.has=function(e){return typeof this._cache[e]<"u"},r.prototype.keys=function(){return Promise.resolve(Object.keys(this._cache))},r.prototype.proxy=function(e){var t=this,n=this._options.proxy;if(!n)throw new Error("No proxy defined");var A=e.substring(0,256);return new Promise(function(i,s){var a=kt.SUPPORT_RESPONSE_TYPE?"blob":"text",o=new XMLHttpRequest;o.onload=function(){if(o.status===200)if(a==="text")i(o.response);else{var h=new FileReader;h.addEventListener("load",function(){return i(h.result)},!1),h.addEventListener("error",function(f){return s(f)},!1),h.readAsDataURL(o.response)}else s("Failed to proxy resource "+A+" with status code "+o.status)},o.onerror=s;var u=n.indexOf("?")>-1?"&":"?";if(o.open("GET",""+n+u+"url="+encodeURIComponent(e)+"&responseType="+a),a!=="text"&&o instanceof XMLHttpRequest&&(o.responseType=a),t._options.imageTimeout){var l=t._options.imageTimeout;o.timeout=l,o.ontimeout=function(){return s("Timed out ("+l+"ms) proxying "+A)}}o.send()})},r})(),BY=/^data:image\/svg\+xml/i,CY=/^data:image\/.*;base64,/i,EY=/^data:image\/.*/i,_Y=function(r){return kt.SUPPORT_SVG_DRAWING||!IY(r)},vd=function(r){return EY.test(r)},TY=function(r){return CY.test(r)},yd=function(r){return r.substr(0,4)==="blob"},IY=function(r){return r.substr(-3).toLowerCase()==="svg"||BY.test(r)},re=(function(){function r(e,t){this.type=0,this.x=e,this.y=t}return r.prototype.add=function(e,t){return new r(this.x+e,this.y+t)},r})(),is=function(r,e,t){return new re(r.x+(e.x-r.x)*t,r.y+(e.y-r.y)*t)},al=(function(){function r(e,t,n,A){this.type=1,this.start=e,this.startControl=t,this.endControl=n,this.end=A}return r.prototype.subdivide=function(e,t){var n=is(this.start,this.startControl,e),A=is(this.startControl,this.endControl,e),i=is(this.endControl,this.end,e),s=is(n,A,e),a=is(A,i,e),o=is(s,a,e);return t?new r(this.start,n,s,o):new r(o,a,i,this.end)},r.prototype.add=function(e,t){return new r(this.start.add(e,t),this.startControl.add(e,t),this.endControl.add(e,t),this.end.add(e,t))},r.prototype.reverse=function(){return new r(this.end,this.endControl,this.startControl,this.start)},r})(),Vr=function(r){return r.type===1},bY=(function(){function r(e){var t=e.styles,n=e.bounds,A=Na(t.borderTopLeftRadius,n.width,n.height),i=A[0],s=A[1],a=Na(t.borderTopRightRadius,n.width,n.height),o=a[0],u=a[1],l=Na(t.borderBottomRightRadius,n.width,n.height),h=l[0],f=l[1],d=Na(t.borderBottomLeftRadius,n.width,n.height),g=d[0],m=d[1],C=[];C.push((i+o)/n.width),C.push((g+h)/n.width),C.push((s+m)/n.height),C.push((u+f)/n.height);var E=Math.max.apply(Math,C);E>1&&(i/=E,s/=E,o/=E,u/=E,h/=E,f/=E,g/=E,m/=E);var T=n.width-o,I=n.height-f,b=n.width-h,P=n.height-m,Q=t.borderTopWidth,v=t.borderRightWidth,y=t.borderBottomWidth,w=t.borderLeftWidth,U=He(t.paddingTop,e.bounds.width),F=He(t.paddingRight,e.bounds.width),R=He(t.paddingBottom,e.bounds.width),S=He(t.paddingLeft,e.bounds.width);this.topLeftBorderDoubleOuterBox=i>0||s>0?ze(n.left+w/3,n.top+Q/3,i-w/3,s-Q/3,Oe.TOP_LEFT):new re(n.left+w/3,n.top+Q/3),this.topRightBorderDoubleOuterBox=i>0||s>0?ze(n.left+T,n.top+Q/3,o-v/3,u-Q/3,Oe.TOP_RIGHT):new re(n.left+n.width-v/3,n.top+Q/3),this.bottomRightBorderDoubleOuterBox=h>0||f>0?ze(n.left+b,n.top+I,h-v/3,f-y/3,Oe.BOTTOM_RIGHT):new re(n.left+n.width-v/3,n.top+n.height-y/3),this.bottomLeftBorderDoubleOuterBox=g>0||m>0?ze(n.left+w/3,n.top+P,g-w/3,m-y/3,Oe.BOTTOM_LEFT):new re(n.left+w/3,n.top+n.height-y/3),this.topLeftBorderDoubleInnerBox=i>0||s>0?ze(n.left+w*2/3,n.top+Q*2/3,i-w*2/3,s-Q*2/3,Oe.TOP_LEFT):new re(n.left+w*2/3,n.top+Q*2/3),this.topRightBorderDoubleInnerBox=i>0||s>0?ze(n.left+T,n.top+Q*2/3,o-v*2/3,u-Q*2/3,Oe.TOP_RIGHT):new re(n.left+n.width-v*2/3,n.top+Q*2/3),this.bottomRightBorderDoubleInnerBox=h>0||f>0?ze(n.left+b,n.top+I,h-v*2/3,f-y*2/3,Oe.BOTTOM_RIGHT):new re(n.left+n.width-v*2/3,n.top+n.height-y*2/3),this.bottomLeftBorderDoubleInnerBox=g>0||m>0?ze(n.left+w*2/3,n.top+P,g-w*2/3,m-y*2/3,Oe.BOTTOM_LEFT):new re(n.left+w*2/3,n.top+n.height-y*2/3),this.topLeftBorderStroke=i>0||s>0?ze(n.left+w/2,n.top+Q/2,i-w/2,s-Q/2,Oe.TOP_LEFT):new re(n.left+w/2,n.top+Q/2),this.topRightBorderStroke=i>0||s>0?ze(n.left+T,n.top+Q/2,o-v/2,u-Q/2,Oe.TOP_RIGHT):new re(n.left+n.width-v/2,n.top+Q/2),this.bottomRightBorderStroke=h>0||f>0?ze(n.left+b,n.top+I,h-v/2,f-y/2,Oe.BOTTOM_RIGHT):new re(n.left+n.width-v/2,n.top+n.height-y/2),this.bottomLeftBorderStroke=g>0||m>0?ze(n.left+w/2,n.top+P,g-w/2,m-y/2,Oe.BOTTOM_LEFT):new re(n.left+w/2,n.top+n.height-y/2),this.topLeftBorderBox=i>0||s>0?ze(n.left,n.top,i,s,Oe.TOP_LEFT):new re(n.left,n.top),this.topRightBorderBox=o>0||u>0?ze(n.left+T,n.top,o,u,Oe.TOP_RIGHT):new re(n.left+n.width,n.top),this.bottomRightBorderBox=h>0||f>0?ze(n.left+b,n.top+I,h,f,Oe.BOTTOM_RIGHT):new re(n.left+n.width,n.top+n.height),this.bottomLeftBorderBox=g>0||m>0?ze(n.left,n.top+P,g,m,Oe.BOTTOM_LEFT):new re(n.left,n.top+n.height),this.topLeftPaddingBox=i>0||s>0?ze(n.left+w,n.top+Q,Math.max(0,i-w),Math.max(0,s-Q),Oe.TOP_LEFT):new re(n.left+w,n.top+Q),this.topRightPaddingBox=o>0||u>0?ze(n.left+Math.min(T,n.width-v),n.top+Q,T>n.width+v?0:Math.max(0,o-v),Math.max(0,u-Q),Oe.TOP_RIGHT):new re(n.left+n.width-v,n.top+Q),this.bottomRightPaddingBox=h>0||f>0?ze(n.left+Math.min(b,n.width-w),n.top+Math.min(I,n.height-y),Math.max(0,h-v),Math.max(0,f-y),Oe.BOTTOM_RIGHT):new re(n.left+n.width-v,n.top+n.height-y),this.bottomLeftPaddingBox=g>0||m>0?ze(n.left+w,n.top+Math.min(P,n.height-y),Math.max(0,g-w),Math.max(0,m-y),Oe.BOTTOM_LEFT):new re(n.left+w,n.top+n.height-y),this.topLeftContentBox=i>0||s>0?ze(n.left+w+S,n.top+Q+U,Math.max(0,i-(w+S)),Math.max(0,s-(Q+U)),Oe.TOP_LEFT):new re(n.left+w+S,n.top+Q+U),this.topRightContentBox=o>0||u>0?ze(n.left+Math.min(T,n.width+w+S),n.top+Q+U,T>n.width+w+S?0:o-w+S,u-(Q+U),Oe.TOP_RIGHT):new re(n.left+n.width-(v+F),n.top+Q+U),this.bottomRightContentBox=h>0||f>0?ze(n.left+Math.min(b,n.width-(w+S)),n.top+Math.min(I,n.height+Q+U),Math.max(0,h-(v+F)),f-(y+R),Oe.BOTTOM_RIGHT):new re(n.left+n.width-(v+F),n.top+n.height-(y+R)),this.bottomLeftContentBox=g>0||m>0?ze(n.left+w+S,n.top+P,Math.max(0,g-(w+S)),m-(y+R),Oe.BOTTOM_LEFT):new re(n.left+w+S,n.top+n.height-(y+R))}return r})(),Oe;(function(r){r[r.TOP_LEFT=0]="TOP_LEFT",r[r.TOP_RIGHT=1]="TOP_RIGHT",r[r.BOTTOM_RIGHT=2]="BOTTOM_RIGHT",r[r.BOTTOM_LEFT=3]="BOTTOM_LEFT"})(Oe||(Oe={}));var ze=function(r,e,t,n,A){var i=4*((Math.sqrt(2)-1)/3),s=t*i,a=n*i,o=r+t,u=e+n;switch(A){case Oe.TOP_LEFT:return new al(new re(r,u),new re(r,u-a),new re(o-s,e),new re(o,e));case Oe.TOP_RIGHT:return new al(new re(r,e),new re(r+s,e),new re(o,u-a),new re(o,u));case Oe.BOTTOM_RIGHT:return new al(new re(o,e),new re(o,e+a),new re(r+s,u),new re(r,u));case Oe.BOTTOM_LEFT:default:return new al(new re(o,u),new re(o-s,u),new re(r,e+a),new re(r,e))}},yc=function(r){return[r.topLeftBorderBox,r.topRightBorderBox,r.bottomRightBorderBox,r.bottomLeftBorderBox]},UY=function(r){return[r.topLeftContentBox,r.topRightContentBox,r.bottomRightContentBox,r.bottomLeftContentBox]},wc=function(r){return[r.topLeftPaddingBox,r.topRightPaddingBox,r.bottomRightPaddingBox,r.bottomLeftPaddingBox]},FY=(function(){function r(e,t,n){this.offsetX=e,this.offsetY=t,this.matrix=n,this.type=0,this.target=6}return r})(),ol=(function(){function r(e,t){this.path=e,this.target=t,this.type=1}return r})(),SY=(function(){function r(e){this.opacity=e,this.type=2,this.target=6}return r})(),QY=function(r){return r.type===0},mO=function(r){return r.type===1},RY=function(r){return r.type===2},wI=function(r,e){return r.length===e.length?r.some(function(t,n){return t===e[n]}):!1},xY=function(r,e,t,n,A){return r.map(function(i,s){switch(s){case 0:return i.add(e,t);case 1:return i.add(e+n,t);case 2:return i.add(e+n,t+A);case 3:return i.add(e,t+A)}return i})},vO=(function(){function r(e){this.element=e,this.inlineLevel=[],this.nonInlineLevel=[],this.negativeZIndex=[],this.zeroOrAutoZIndexOrTransformedOrOpacity=[],this.positiveZIndex=[],this.nonPositionedFloats=[],this.nonPositionedInlineLevel=[]}return r})(),yO=(function(){function r(e,t){if(this.container=e,this.parent=t,this.effects=[],this.curves=new bY(this.container),this.container.styles.opacity<1&&this.effects.push(new SY(this.container.styles.opacity)),this.container.styles.transform!==null){var n=this.container.bounds.left+this.container.styles.transformOrigin[0].number,A=this.container.bounds.top+this.container.styles.transformOrigin[1].number,i=this.container.styles.transform;this.effects.push(new FY(n,A,i))}if(this.container.styles.overflowX!==0){var s=yc(this.curves),a=wc(this.curves);wI(s,a)?this.effects.push(new ol(s,6)):(this.effects.push(new ol(s,2)),this.effects.push(new ol(a,4)))}}return r.prototype.getEffects=function(e){for(var t=[2,3].indexOf(this.container.styles.position)===-1,n=this.parent,A=this.effects.slice(0);n;){var i=n.effects.filter(function(o){return!mO(o)});if(t||n.container.styles.position!==0||!n.parent){if(A.unshift.apply(A,i),t=[2,3].indexOf(n.container.styles.position)===-1,n.container.styles.overflowX!==0){var s=yc(n.curves),a=wc(n.curves);wI(s,a)||A.unshift(new ol(a,6))}}else A.unshift.apply(A,i);n=n.parent}return A.filter(function(o){return It(o.target,e)})},r})(),Ov=function(r,e,t,n){r.container.elements.forEach(function(A){var i=It(A.flags,4),s=It(A.flags,2),a=new yO(A,r);It(A.styles.display,2048)&&n.push(a);var o=It(A.flags,8)?[]:n;if(i||s){var u=i||A.styles.isPositioned()?t:e,l=new vO(a);if(A.styles.isPositioned()||A.styles.opacity<1||A.styles.isTransformed()){var h=A.styles.zIndex.order;if(h<0){var f=0;u.negativeZIndex.some(function(g,m){return h>g.element.container.styles.zIndex.order?(f=m,!1):f>0}),u.negativeZIndex.splice(f,0,l)}else if(h>0){var d=0;u.positiveZIndex.some(function(g,m){return h>=g.element.container.styles.zIndex.order?(d=m+1,!1):d>0}),u.positiveZIndex.splice(d,0,l)}else u.zeroOrAutoZIndexOrTransformedOrOpacity.push(l)}else A.styles.isFloating()?u.nonPositionedFloats.push(l):u.nonPositionedInlineLevel.push(l);Ov(a,l,i?l:t,o)}else A.styles.isInlineLevel()?e.inlineLevel.push(a):e.nonInlineLevel.push(a),Ov(a,e,t,o);It(A.flags,8)&&wO(A,o)})},wO=function(r,e){for(var t=r instanceof Sv?r.start:1,n=r instanceof Sv?r.reversed:!1,A=0;A<e.length;A++){var i=e[A];i.container instanceof nO&&typeof i.container.value=="number"&&i.container.value!==0&&(t=i.container.value),i.listValue=Fo(t,i.container.styles.listStyleType,!0),t+=n?-1:1}},PY=function(r){var e=new yO(r,null),t=new vO(e),n=[];return Ov(e,t,t,n),wO(e.container,n),t},BI=function(r,e){switch(e){case 0:return jr(r.topLeftBorderBox,r.topLeftPaddingBox,r.topRightBorderBox,r.topRightPaddingBox);case 1:return jr(r.topRightBorderBox,r.topRightPaddingBox,r.bottomRightBorderBox,r.bottomRightPaddingBox);case 2:return jr(r.bottomRightBorderBox,r.bottomRightPaddingBox,r.bottomLeftBorderBox,r.bottomLeftPaddingBox);case 3:default:return jr(r.bottomLeftBorderBox,r.bottomLeftPaddingBox,r.topLeftBorderBox,r.topLeftPaddingBox)}},OY=function(r,e){switch(e){case 0:return jr(r.topLeftBorderBox,r.topLeftBorderDoubleOuterBox,r.topRightBorderBox,r.topRightBorderDoubleOuterBox);case 1:return jr(r.topRightBorderBox,r.topRightBorderDoubleOuterBox,r.bottomRightBorderBox,r.bottomRightBorderDoubleOuterBox);case 2:return jr(r.bottomRightBorderBox,r.bottomRightBorderDoubleOuterBox,r.bottomLeftBorderBox,r.bottomLeftBorderDoubleOuterBox);case 3:default:return jr(r.bottomLeftBorderBox,r.bottomLeftBorderDoubleOuterBox,r.topLeftBorderBox,r.topLeftBorderDoubleOuterBox)}},DY=function(r,e){switch(e){case 0:return jr(r.topLeftBorderDoubleInnerBox,r.topLeftPaddingBox,r.topRightBorderDoubleInnerBox,r.topRightPaddingBox);case 1:return jr(r.topRightBorderDoubleInnerBox,r.topRightPaddingBox,r.bottomRightBorderDoubleInnerBox,r.bottomRightPaddingBox);case 2:return jr(r.bottomRightBorderDoubleInnerBox,r.bottomRightPaddingBox,r.bottomLeftBorderDoubleInnerBox,r.bottomLeftPaddingBox);case 3:default:return jr(r.bottomLeftBorderDoubleInnerBox,r.bottomLeftPaddingBox,r.topLeftBorderDoubleInnerBox,r.topLeftPaddingBox)}},LY=function(r,e){switch(e){case 0:return ul(r.topLeftBorderStroke,r.topRightBorderStroke);case 1:return ul(r.topRightBorderStroke,r.bottomRightBorderStroke);case 2:return ul(r.bottomRightBorderStroke,r.bottomLeftBorderStroke);case 3:default:return ul(r.bottomLeftBorderStroke,r.topLeftBorderStroke)}},ul=function(r,e){var t=[];return Vr(r)?t.push(r.subdivide(.5,!1)):t.push(r),Vr(e)?t.push(e.subdivide(.5,!0)):t.push(e),t},jr=function(r,e,t,n){var A=[];return Vr(r)?A.push(r.subdivide(.5,!1)):A.push(r),Vr(t)?A.push(t.subdivide(.5,!0)):A.push(t),Vr(n)?A.push(n.subdivide(.5,!0).reverse()):A.push(n),Vr(e)?A.push(e.subdivide(.5,!1).reverse()):A.push(e),A},BO=function(r){var e=r.bounds,t=r.styles;return e.add(t.borderLeftWidth,t.borderTopWidth,-(t.borderRightWidth+t.borderLeftWidth),-(t.borderTopWidth+t.borderBottomWidth))},Bc=function(r){var e=r.styles,t=r.bounds,n=He(e.paddingLeft,t.width),A=He(e.paddingRight,t.width),i=He(e.paddingTop,t.width),s=He(e.paddingBottom,t.width);return t.add(n+e.borderLeftWidth,i+e.borderTopWidth,-(e.borderRightWidth+e.borderLeftWidth+n+A),-(e.borderTopWidth+e.borderBottomWidth+i+s))},MY=function(r,e){return r===0?e.bounds:r===2?Bc(e):BO(e)},NY=function(r,e){return r===0?e.bounds:r===2?Bc(e):BO(e)},wd=function(r,e,t){var n=MY(cs(r.styles.backgroundOrigin,e),r),A=NY(cs(r.styles.backgroundClip,e),r),i=kY(cs(r.styles.backgroundSize,e),t,n),s=i[0],a=i[1],o=Na(cs(r.styles.backgroundPosition,e),n.width-s,n.height-a),u=HY(cs(r.styles.backgroundRepeat,e),o,i,n,A),l=Math.round(n.left+o[0]),h=Math.round(n.top+o[1]);return[u,l,h,s,a]},ss=function(r){return Me(r)&&r.value===Is.AUTO},ll=function(r){return typeof r=="number"},kY=function(r,e,t){var n=e[0],A=e[1],i=e[2],s=r[0],a=r[1];if(!s)return[0,0];if(Ct(s)&&a&&Ct(a))return[He(s,t.width),He(a,t.height)];var o=ll(i);if(Me(s)&&(s.value===Is.CONTAIN||s.value===Is.COVER)){if(ll(i)){var u=t.width/t.height;return u<i!=(s.value===Is.COVER)?[t.width,t.width/i]:[t.height*i,t.height]}return[t.width,t.height]}var l=ll(n),h=ll(A),f=l||h;if(ss(s)&&(!a||ss(a))){if(l&&h)return[n,A];if(!o&&!f)return[t.width,t.height];if(f&&o){var d=l?n:A*i,g=h?A:n/i;return[d,g]}var m=l?n:t.width,C=h?A:t.height;return[m,C]}if(o){var E=0,T=0;return Ct(s)?E=He(s,t.width):Ct(a)&&(T=He(a,t.height)),ss(s)?E=T*i:(!a||ss(a))&&(T=E/i),[E,T]}var I=null,b=null;if(Ct(s)?I=He(s,t.width):a&&Ct(a)&&(b=He(a,t.height)),I!==null&&(!a||ss(a))&&(b=l&&h?I/n*A:t.height),b!==null&&ss(s)&&(I=l&&h?b/A*n:t.width),I!==null&&b!==null)return[I,b];throw new Error("Unable to calculate background-size for element")},cs=function(r,e){var t=r[e];return typeof t>"u"?r[0]:t},HY=function(r,e,t,n,A){var i=e[0],s=e[1],a=t[0],o=t[1];switch(r){case 2:return[new re(Math.round(n.left),Math.round(n.top+s)),new re(Math.round(n.left+n.width),Math.round(n.top+s)),new re(Math.round(n.left+n.width),Math.round(o+n.top+s)),new re(Math.round(n.left),Math.round(o+n.top+s))];case 3:return[new re(Math.round(n.left+i),Math.round(n.top)),new re(Math.round(n.left+i+a),Math.round(n.top)),new re(Math.round(n.left+i+a),Math.round(n.height+n.top)),new re(Math.round(n.left+i),Math.round(n.height+n.top))];case 1:return[new re(Math.round(n.left+i),Math.round(n.top+s)),new re(Math.round(n.left+i+a),Math.round(n.top+s)),new re(Math.round(n.left+i+a),Math.round(n.top+s+o)),new re(Math.round(n.left+i),Math.round(n.top+s+o))];default:return[new re(Math.round(A.left),Math.round(A.top)),new re(Math.round(A.left+A.width),Math.round(A.top)),new re(Math.round(A.left+A.width),Math.round(A.height+A.top)),new re(Math.round(A.left),Math.round(A.height+A.top))]}},VY="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",CI="Hidden Text",KY=(function(){function r(e){this._data={},this._document=e}return r.prototype.parseMetrics=function(e,t){var n=this._document.createElement("div"),A=this._document.createElement("img"),i=this._document.createElement("span"),s=this._document.body;n.style.visibility="hidden",n.style.fontFamily=e,n.style.fontSize=t,n.style.margin="0",n.style.padding="0",n.style.whiteSpace="nowrap",s.appendChild(n),A.src=VY,A.width=1,A.height=1,A.style.margin="0",A.style.padding="0",A.style.verticalAlign="baseline",i.style.fontFamily=e,i.style.fontSize=t,i.style.margin="0",i.style.padding="0",i.appendChild(this._document.createTextNode(CI)),n.appendChild(i),n.appendChild(A);var a=A.offsetTop-i.offsetTop+2;n.removeChild(i),n.appendChild(this._document.createTextNode(CI)),n.style.lineHeight="normal",A.style.verticalAlign="super";var o=A.offsetTop-n.offsetTop+2;return s.removeChild(n),{baseline:a,middle:o}},r.prototype.getMetrics=function(e,t){var n=e+" "+t;return typeof this._data[n]>"u"&&(this._data[n]=this.parseMetrics(e,t)),this._data[n]},r})(),CO=(function(){function r(e,t){this.context=e,this.options=t}return r})(),GY=1e4,jY=(function(r){pn(e,r);function e(t,n){var A=r.call(this,t,n)||this;return A._activeEffects=[],A.canvas=n.canvas?n.canvas:document.createElement("canvas"),A.ctx=A.canvas.getContext("2d"),n.canvas||(A.canvas.width=Math.floor(n.width*n.scale),A.canvas.height=Math.floor(n.height*n.scale),A.canvas.style.width=n.width+"px",A.canvas.style.height=n.height+"px"),A.fontMetrics=new KY(document),A.ctx.scale(A.options.scale,A.options.scale),A.ctx.translate(-n.x,-n.y),A.ctx.textBaseline="bottom",A._activeEffects=[],A.context.logger.debug("Canvas renderer initialized ("+n.width+"x"+n.height+") with scale "+n.scale),A}return e.prototype.applyEffects=function(t){for(var n=this;this._activeEffects.length;)this.popEffect();t.forEach(function(A){return n.applyEffect(A)})},e.prototype.applyEffect=function(t){this.ctx.save(),RY(t)&&(this.ctx.globalAlpha=t.opacity),QY(t)&&(this.ctx.translate(t.offsetX,t.offsetY),this.ctx.transform(t.matrix[0],t.matrix[1],t.matrix[2],t.matrix[3],t.matrix[4],t.matrix[5]),this.ctx.translate(-t.offsetX,-t.offsetY)),mO(t)&&(this.path(t.path),this.ctx.clip()),this._activeEffects.push(t)},e.prototype.popEffect=function(){this._activeEffects.pop(),this.ctx.restore()},e.prototype.renderStack=function(t){return cr(this,void 0,void 0,function(){var n;return tr(this,function(A){switch(A.label){case 0:return n=t.element.container.styles,n.isVisible()?[4,this.renderStackContent(t)]:[3,2];case 1:A.sent(),A.label=2;case 2:return[2]}})})},e.prototype.renderNode=function(t){return cr(this,void 0,void 0,function(){return tr(this,function(n){switch(n.label){case 0:if(It(t.container.flags,16))debugger;return t.container.styles.isVisible()?[4,this.renderNodeBackgroundAndBorders(t)]:[3,3];case 1:return n.sent(),[4,this.renderNodeContent(t)];case 2:n.sent(),n.label=3;case 3:return[2]}})})},e.prototype.renderTextWithLetterSpacing=function(t,n,A){var i=this;if(n===0)this.ctx.fillText(t.text,t.bounds.left,t.bounds.top+A);else{var s=$w(t.text);s.reduce(function(a,o){return i.ctx.fillText(o,a,t.bounds.top+A),a+i.ctx.measureText(o).width},t.bounds.left)}},e.prototype.createFontStyle=function(t){var n=t.fontVariant.filter(function(s){return s==="normal"||s==="small-caps"}).join(""),A=zY(t.fontFamily).join(", "),i=Yo(t.fontSize)?""+t.fontSize.number+t.fontSize.unit:t.fontSize.number+"px";return[[t.fontStyle,n,t.fontWeight,i,A].join(" "),A,i]},e.prototype.renderTextNode=function(t,n){return cr(this,void 0,void 0,function(){var A,i,s,a,o,u,l,h,f=this;return tr(this,function(d){return A=this.createFontStyle(n),i=A[0],s=A[1],a=A[2],this.ctx.font=i,this.ctx.direction=n.direction===1?"rtl":"ltr",this.ctx.textAlign="left",this.ctx.textBaseline="alphabetic",o=this.fontMetrics.getMetrics(s,a),u=o.baseline,l=o.middle,h=n.paintOrder,t.textBounds.forEach(function(g){h.forEach(function(m){switch(m){case 0:f.ctx.fillStyle=xt(n.color),f.renderTextWithLetterSpacing(g,n.letterSpacing,u);var C=n.textShadow;C.length&&g.text.trim().length&&(C.slice(0).reverse().forEach(function(E){f.ctx.shadowColor=xt(E.color),f.ctx.shadowOffsetX=E.offsetX.number*f.options.scale,f.ctx.shadowOffsetY=E.offsetY.number*f.options.scale,f.ctx.shadowBlur=E.blur.number,f.renderTextWithLetterSpacing(g,n.letterSpacing,u)}),f.ctx.shadowColor="",f.ctx.shadowOffsetX=0,f.ctx.shadowOffsetY=0,f.ctx.shadowBlur=0),n.textDecorationLine.length&&(f.ctx.fillStyle=xt(n.textDecorationColor||n.color),n.textDecorationLine.forEach(function(E){switch(E){case 1:f.ctx.fillRect(g.bounds.left,Math.round(g.bounds.top+u),g.bounds.width,1);break;case 2:f.ctx.fillRect(g.bounds.left,Math.round(g.bounds.top),g.bounds.width,1);break;case 3:f.ctx.fillRect(g.bounds.left,Math.ceil(g.bounds.top+l),g.bounds.width,1);break}}));break;case 1:n.webkitTextStrokeWidth&&g.text.trim().length&&(f.ctx.strokeStyle=xt(n.webkitTextStrokeColor),f.ctx.lineWidth=n.webkitTextStrokeWidth,f.ctx.lineJoin=window.chrome?"miter":"round",f.ctx.strokeText(g.text,g.bounds.left,g.bounds.top+u)),f.ctx.strokeStyle="",f.ctx.lineWidth=0,f.ctx.lineJoin="miter";break}})}),[2]})})},e.prototype.renderReplacedElement=function(t,n,A){if(A&&t.intrinsicWidth>0&&t.intrinsicHeight>0){var i=Bc(t),s=wc(n);this.path(s),this.ctx.save(),this.ctx.clip(),this.ctx.drawImage(A,0,0,t.intrinsicWidth,t.intrinsicHeight,i.left,i.top,i.width,i.height),this.ctx.restore()}},e.prototype.renderNodeContent=function(t){return cr(this,void 0,void 0,function(){var n,A,i,s,a,o,T,T,u,l,h,f,b,d,g,P,m,C,E,T,I,b,P;return tr(this,function(Q){switch(Q.label){case 0:this.applyEffects(t.getEffects(4)),n=t.container,A=t.curves,i=n.styles,s=0,a=n.textNodes,Q.label=1;case 1:return s<a.length?(o=a[s],[4,this.renderTextNode(o,i)]):[3,4];case 2:Q.sent(),Q.label=3;case 3:return s++,[3,1];case 4:if(!(n instanceof eO))return[3,8];Q.label=5;case 5:return Q.trys.push([5,7,,8]),[4,this.context.cache.match(n.src)];case 6:return T=Q.sent(),this.renderReplacedElement(n,A,T),[3,8];case 7:return Q.sent(),this.context.logger.error("Error loading image "+n.src),[3,8];case 8:if(n instanceof tO&&this.renderReplacedElement(n,A,n.canvas),!(n instanceof rO))return[3,12];Q.label=9;case 9:return Q.trys.push([9,11,,12]),[4,this.context.cache.match(n.svg)];case 10:return T=Q.sent(),this.renderReplacedElement(n,A,T),[3,12];case 11:return Q.sent(),this.context.logger.error("Error loading svg "+n.svg.substring(0,255)),[3,12];case 12:return n instanceof sO&&n.tree?(u=new e(this.context,{scale:this.options.scale,backgroundColor:n.backgroundColor,x:0,y:0,width:n.width,height:n.height}),[4,u.render(n.tree)]):[3,14];case 13:l=Q.sent(),n.width&&n.height&&this.ctx.drawImage(l,0,0,n.width,n.height,n.bounds.left,n.bounds.top,n.bounds.width,n.bounds.height),Q.label=14;case 14:if(n instanceof Xw&&(h=Math.min(n.bounds.width,n.bounds.height),n.type===gc?n.checked&&(this.ctx.save(),this.path([new re(n.bounds.left+h*.39363,n.bounds.top+h*.79),new re(n.bounds.left+h*.16,n.bounds.top+h*.5549),new re(n.bounds.left+h*.27347,n.bounds.top+h*.44071),new re(n.bounds.left+h*.39694,n.bounds.top+h*.5649),new re(n.bounds.left+h*.72983,n.bounds.top+h*.23),new re(n.bounds.left+h*.84,n.bounds.top+h*.34085),new re(n.bounds.left+h*.39363,n.bounds.top+h*.79)]),this.ctx.fillStyle=xt(uI),this.ctx.fill(),this.ctx.restore()):n.type===pc&&n.checked&&(this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(n.bounds.left+h/2,n.bounds.top+h/2,h/4,0,Math.PI*2,!0),this.ctx.fillStyle=xt(uI),this.ctx.fill(),this.ctx.restore())),qY(n)&&n.value.length){switch(f=this.createFontStyle(i),b=f[0],d=f[1],g=this.fontMetrics.getMetrics(b,d).baseline,this.ctx.font=b,this.ctx.fillStyle=xt(i.color),this.ctx.textBaseline="alphabetic",this.ctx.textAlign=$Y(n.styles.textAlign),P=Bc(n),m=0,n.styles.textAlign){case 1:m+=P.width/2;break;case 2:m+=P.width;break}C=P.add(m,0,0,-P.height/2+1),this.ctx.save(),this.path([new re(P.left,P.top),new re(P.left+P.width,P.top),new re(P.left+P.width,P.top+P.height),new re(P.left,P.top+P.height)]),this.ctx.clip(),this.renderTextWithLetterSpacing(new Ao(n.value,C),i.letterSpacing,g),this.ctx.restore(),this.ctx.textBaseline="alphabetic",this.ctx.textAlign="left"}if(!It(n.styles.display,2048))return[3,20];if(n.styles.listStyleImage===null)return[3,19];if(E=n.styles.listStyleImage,E.type!==0)return[3,18];T=void 0,I=E.url,Q.label=15;case 15:return Q.trys.push([15,17,,18]),[4,this.context.cache.match(I)];case 16:return T=Q.sent(),this.ctx.drawImage(T,n.bounds.left-(T.width+10),n.bounds.top),[3,18];case 17:return Q.sent(),this.context.logger.error("Error loading list-style-image "+I),[3,18];case 18:return[3,20];case 19:t.listValue&&n.styles.listStyleType!==-1&&(b=this.createFontStyle(i)[0],this.ctx.font=b,this.ctx.fillStyle=xt(i.color),this.ctx.textBaseline="middle",this.ctx.textAlign="right",P=new hA(n.bounds.left,n.bounds.top+He(n.styles.paddingTop,n.bounds.width),n.bounds.width,qT(i.lineHeight,i.fontSize.number)/2+1),this.renderTextWithLetterSpacing(new Ao(t.listValue,P),i.letterSpacing,qT(i.lineHeight,i.fontSize.number)/2+2),this.ctx.textBaseline="bottom",this.ctx.textAlign="left"),Q.label=20;case 20:return[2]}})})},e.prototype.renderStackContent=function(t){return cr(this,void 0,void 0,function(){var n,A,E,i,s,E,a,o,E,u,l,E,h,f,E,d,g,E,m,C,E;return tr(this,function(T){switch(T.label){case 0:if(It(t.element.container.flags,16))debugger;return[4,this.renderNodeBackgroundAndBorders(t.element)];case 1:T.sent(),n=0,A=t.negativeZIndex,T.label=2;case 2:return n<A.length?(E=A[n],[4,this.renderStack(E)]):[3,5];case 3:T.sent(),T.label=4;case 4:return n++,[3,2];case 5:return[4,this.renderNodeContent(t.element)];case 6:T.sent(),i=0,s=t.nonInlineLevel,T.label=7;case 7:return i<s.length?(E=s[i],[4,this.renderNode(E)]):[3,10];case 8:T.sent(),T.label=9;case 9:return i++,[3,7];case 10:a=0,o=t.nonPositionedFloats,T.label=11;case 11:return a<o.length?(E=o[a],[4,this.renderStack(E)]):[3,14];case 12:T.sent(),T.label=13;case 13:return a++,[3,11];case 14:u=0,l=t.nonPositionedInlineLevel,T.label=15;case 15:return u<l.length?(E=l[u],[4,this.renderStack(E)]):[3,18];case 16:T.sent(),T.label=17;case 17:return u++,[3,15];case 18:h=0,f=t.inlineLevel,T.label=19;case 19:return h<f.length?(E=f[h],[4,this.renderNode(E)]):[3,22];case 20:T.sent(),T.label=21;case 21:return h++,[3,19];case 22:d=0,g=t.zeroOrAutoZIndexOrTransformedOrOpacity,T.label=23;case 23:return d<g.length?(E=g[d],[4,this.renderStack(E)]):[3,26];case 24:T.sent(),T.label=25;case 25:return d++,[3,23];case 26:m=0,C=t.positiveZIndex,T.label=27;case 27:return m<C.length?(E=C[m],[4,this.renderStack(E)]):[3,30];case 28:T.sent(),T.label=29;case 29:return m++,[3,27];case 30:return[2]}})})},e.prototype.mask=function(t){this.ctx.beginPath(),this.ctx.moveTo(0,0),this.ctx.lineTo(this.canvas.width,0),this.ctx.lineTo(this.canvas.width,this.canvas.height),this.ctx.lineTo(0,this.canvas.height),this.ctx.lineTo(0,0),this.formatPath(t.slice(0).reverse()),this.ctx.closePath()},e.prototype.path=function(t){this.ctx.beginPath(),this.formatPath(t),this.ctx.closePath()},e.prototype.formatPath=function(t){var n=this;t.forEach(function(A,i){var s=Vr(A)?A.start:A;i===0?n.ctx.moveTo(s.x,s.y):n.ctx.lineTo(s.x,s.y),Vr(A)&&n.ctx.bezierCurveTo(A.startControl.x,A.startControl.y,A.endControl.x,A.endControl.y,A.end.x,A.end.y)})},e.prototype.renderRepeat=function(t,n,A,i){this.path(t),this.ctx.fillStyle=n,this.ctx.translate(A,i),this.ctx.fill(),this.ctx.translate(-A,-i)},e.prototype.resizeImage=function(t,n,A){var i;if(t.width===n&&t.height===A)return t;var s=(i=this.canvas.ownerDocument)!==null&&i!==void 0?i:document,a=s.createElement("canvas");a.width=Math.max(1,n),a.height=Math.max(1,A);var o=a.getContext("2d");return o.drawImage(t,0,0,t.width,t.height,0,0,n,A),a},e.prototype.renderBackgroundImage=function(t){return cr(this,void 0,void 0,function(){var n,A,i,s,a,o;return tr(this,function(u){switch(u.label){case 0:n=t.styles.backgroundImage.length-1,A=function(l){var h,f,d,U,H,k,S,L,y,g,U,H,k,S,L,m,C,E,T,I,b,P,Q,v,y,w,U,F,R,S,L,q,H,k,V,j,$,O,N,G,z,W;return tr(this,function(se){switch(se.label){case 0:if(l.type!==0)return[3,5];h=void 0,f=l.url,se.label=1;case 1:return se.trys.push([1,3,,4]),[4,i.context.cache.match(f)];case 2:return h=se.sent(),[3,4];case 3:return se.sent(),i.context.logger.error("Error loading background-image "+f),[3,4];case 4:return h&&(d=wd(t,n,[h.width,h.height,h.width/h.height]),U=d[0],H=d[1],k=d[2],S=d[3],L=d[4],y=i.ctx.createPattern(i.resizeImage(h,S,L),"repeat"),i.renderRepeat(U,y,H,k)),[3,6];case 5:Q$(l)?(g=wd(t,n,[null,null,null]),U=g[0],H=g[1],k=g[2],S=g[3],L=g[4],m=I$(l.angle,S,L),C=m[0],E=m[1],T=m[2],I=m[3],b=m[4],P=document.createElement("canvas"),P.width=S,P.height=L,Q=P.getContext("2d"),v=Q.createLinearGradient(E,I,T,b),GT(l.stops,C).forEach(function(ne){return v.addColorStop(ne.stop,xt(ne.color))}),Q.fillStyle=v,Q.fillRect(0,0,S,L),S>0&&L>0&&(y=i.ctx.createPattern(P,"repeat"),i.renderRepeat(U,y,H,k))):R$(l)&&(w=wd(t,n,[null,null,null]),U=w[0],F=w[1],R=w[2],S=w[3],L=w[4],q=l.position.length===0?[jw]:l.position,H=He(q[0],S),k=He(q[q.length-1],L),V=b$(l,H,k,S,L),j=V[0],$=V[1],j>0&&$>0&&(O=i.ctx.createRadialGradient(F+H,R+k,0,F+H,R+k,j),GT(l.stops,j*2).forEach(function(ne){return O.addColorStop(ne.stop,xt(ne.color))}),i.path(U),i.ctx.fillStyle=O,j!==$?(N=t.bounds.left+.5*t.bounds.width,G=t.bounds.top+.5*t.bounds.height,z=$/j,W=1/z,i.ctx.save(),i.ctx.translate(N,G),i.ctx.transform(1,0,0,z,0,0),i.ctx.translate(-N,-G),i.ctx.fillRect(F,W*(R-G)+G,S,L*W),i.ctx.restore()):i.ctx.fill())),se.label=6;case 6:return n--,[2]}})},i=this,s=0,a=t.styles.backgroundImage.slice(0).reverse(),u.label=1;case 1:return s<a.length?(o=a[s],[5,A(o)]):[3,4];case 2:u.sent(),u.label=3;case 3:return s++,[3,1];case 4:return[2]}})})},e.prototype.renderSolidBorder=function(t,n,A){return cr(this,void 0,void 0,function(){return tr(this,function(i){return this.path(BI(A,n)),this.ctx.fillStyle=xt(t),this.ctx.fill(),[2]})})},e.prototype.renderDoubleBorder=function(t,n,A,i){return cr(this,void 0,void 0,function(){var s,a;return tr(this,function(o){switch(o.label){case 0:return n<3?[4,this.renderSolidBorder(t,A,i)]:[3,2];case 1:return o.sent(),[2];case 2:return s=OY(i,A),this.path(s),this.ctx.fillStyle=xt(t),this.ctx.fill(),a=DY(i,A),this.path(a),this.ctx.fill(),[2]}})})},e.prototype.renderNodeBackgroundAndBorders=function(t){return cr(this,void 0,void 0,function(){var n,A,i,s,a,o,u,l,h=this;return tr(this,function(f){switch(f.label){case 0:return this.applyEffects(t.getEffects(2)),n=t.container.styles,A=!KA(n.backgroundColor)||n.backgroundImage.length,i=[{style:n.borderTopStyle,color:n.borderTopColor,width:n.borderTopWidth},{style:n.borderRightStyle,color:n.borderRightColor,width:n.borderRightWidth},{style:n.borderBottomStyle,color:n.borderBottomColor,width:n.borderBottomWidth},{style:n.borderLeftStyle,color:n.borderLeftColor,width:n.borderLeftWidth}],s=WY(cs(n.backgroundClip,0),t.curves),A||n.boxShadow.length?(this.ctx.save(),this.path(s),this.ctx.clip(),KA(n.backgroundColor)||(this.ctx.fillStyle=xt(n.backgroundColor),this.ctx.fill()),[4,this.renderBackgroundImage(t.container)]):[3,2];case 1:f.sent(),this.ctx.restore(),n.boxShadow.slice(0).reverse().forEach(function(d){h.ctx.save();var g=yc(t.curves),m=d.inset?0:GY,C=xY(g,-m+(d.inset?1:-1)*d.spread.number,(d.inset?1:-1)*d.spread.number,d.spread.number*(d.inset?-2:2),d.spread.number*(d.inset?-2:2));d.inset?(h.path(g),h.ctx.clip(),h.mask(C)):(h.mask(g),h.ctx.clip(),h.path(C)),h.ctx.shadowOffsetX=d.offsetX.number+m,h.ctx.shadowOffsetY=d.offsetY.number,h.ctx.shadowColor=xt(d.color),h.ctx.shadowBlur=d.blur.number,h.ctx.fillStyle=d.inset?xt(d.color):"rgba(0,0,0,1)",h.ctx.fill(),h.ctx.restore()}),f.label=2;case 2:a=0,o=0,u=i,f.label=3;case 3:return o<u.length?(l=u[o],l.style!==0&&!KA(l.color)&&l.width>0?l.style!==2?[3,5]:[4,this.renderDashedDottedBorder(l.color,l.width,a,t.curves,2)]:[3,11]):[3,13];case 4:return f.sent(),[3,11];case 5:return l.style!==3?[3,7]:[4,this.renderDashedDottedBorder(l.color,l.width,a,t.curves,3)];case 6:return f.sent(),[3,11];case 7:return l.style!==4?[3,9]:[4,this.renderDoubleBorder(l.color,l.width,a,t.curves)];case 8:return f.sent(),[3,11];case 9:return[4,this.renderSolidBorder(l.color,a,t.curves)];case 10:f.sent(),f.label=11;case 11:a++,f.label=12;case 12:return o++,[3,3];case 13:return[2]}})})},e.prototype.renderDashedDottedBorder=function(t,n,A,i,s){return cr(this,void 0,void 0,function(){var a,o,u,l,h,f,d,g,m,C,E,T,I,b,P,Q,P,Q;return tr(this,function(v){return this.ctx.save(),a=LY(i,A),o=BI(i,A),s===2&&(this.path(o),this.ctx.clip()),Vr(o[0])?(u=o[0].start.x,l=o[0].start.y):(u=o[0].x,l=o[0].y),Vr(o[1])?(h=o[1].end.x,f=o[1].end.y):(h=o[1].x,f=o[1].y),A===0||A===2?d=Math.abs(u-h):d=Math.abs(l-f),this.ctx.beginPath(),s===3?this.formatPath(a):this.formatPath(o.slice(0,2)),g=n<3?n*3:n*2,m=n<3?n*2:n,s===3&&(g=n,m=n),C=!0,d<=g*2?C=!1:d<=g*2+m?(E=d/(2*g+m),g*=E,m*=E):(T=Math.floor((d+m)/(g+m)),I=(d-T*g)/(T-1),b=(d-(T+1)*g)/T,m=b<=0||Math.abs(m-I)<Math.abs(m-b)?I:b),C&&(s===3?this.ctx.setLineDash([0,g+m]):this.ctx.setLineDash([g,m])),s===3?(this.ctx.lineCap="round",this.ctx.lineWidth=n):this.ctx.lineWidth=n*2+1.1,this.ctx.strokeStyle=xt(t),this.ctx.stroke(),this.ctx.setLineDash([]),s===2&&(Vr(o[0])&&(P=o[3],Q=o[0],this.ctx.beginPath(),this.formatPath([new re(P.end.x,P.end.y),new re(Q.start.x,Q.start.y)]),this.ctx.stroke()),Vr(o[1])&&(P=o[1],Q=o[2],this.ctx.beginPath(),this.formatPath([new re(P.end.x,P.end.y),new re(Q.start.x,Q.start.y)]),this.ctx.stroke())),this.ctx.restore(),[2]})})},e.prototype.render=function(t){return cr(this,void 0,void 0,function(){var n;return tr(this,function(A){switch(A.label){case 0:return this.options.backgroundColor&&(this.ctx.fillStyle=xt(this.options.backgroundColor),this.ctx.fillRect(this.options.x,this.options.y,this.options.width,this.options.height)),n=PY(t),[4,this.renderStack(n)];case 1:return A.sent(),this.applyEffects([]),[2,this.canvas]}})})},e})(CO),qY=function(r){return r instanceof iO||r instanceof AO?!0:r instanceof Xw&&r.type!==pc&&r.type!==gc},WY=function(r,e){switch(r){case 0:return yc(e);case 2:return UY(e);case 1:default:return wc(e)}},$Y=function(r){switch(r){case 1:return"center";case 2:return"right";case 0:default:return"left"}},XY=["-apple-system","system-ui"],zY=function(r){return/iPhone OS 15_(0|1)/.test(window.navigator.userAgent)?r.filter(function(e){return XY.indexOf(e)===-1}):r},YY=(function(r){pn(e,r);function e(t,n){var A=r.call(this,t,n)||this;return A.canvas=n.canvas?n.canvas:document.createElement("canvas"),A.ctx=A.canvas.getContext("2d"),A.options=n,A.canvas.width=Math.floor(n.width*n.scale),A.canvas.height=Math.floor(n.height*n.scale),A.canvas.style.width=n.width+"px",A.canvas.style.height=n.height+"px",A.ctx.scale(A.options.scale,A.options.scale),A.ctx.translate(-n.x,-n.y),A.context.logger.debug("EXPERIMENTAL ForeignObject renderer initialized ("+n.width+"x"+n.height+" at "+n.x+","+n.y+") with scale "+n.scale),A}return e.prototype.render=function(t){return cr(this,void 0,void 0,function(){var n,A;return tr(this,function(i){switch(i.label){case 0:return n=Fv(this.options.width*this.options.scale,this.options.height*this.options.scale,this.options.scale,this.options.scale,t),[4,JY(n)];case 1:return A=i.sent(),this.options.backgroundColor&&(this.ctx.fillStyle=xt(this.options.backgroundColor),this.ctx.fillRect(0,0,this.options.width*this.options.scale,this.options.height*this.options.scale)),this.ctx.drawImage(A,-this.options.x*this.options.scale,-this.options.y*this.options.scale),[2,this.canvas]}})})},e})(CO),JY=function(r){return new Promise(function(e,t){var n=new Image;n.onload=function(){e(n)},n.onerror=t,n.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(r))})},ZY=(function(){function r(e){var t=e.id,n=e.enabled;this.id=t,this.enabled=n,this.start=Date.now()}return r.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.enabled&&(typeof window<"u"&&window.console&&typeof console.debug=="function"?console.debug.apply(console,Vu([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},r.prototype.getTime=function(){return Date.now()-this.start},r.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.enabled&&typeof window<"u"&&window.console&&typeof console.info=="function"&&console.info.apply(console,Vu([this.id,this.getTime()+"ms"],e))},r.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.enabled&&(typeof window<"u"&&window.console&&typeof console.warn=="function"?console.warn.apply(console,Vu([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},r.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.enabled&&(typeof window<"u"&&window.console&&typeof console.error=="function"?console.error.apply(console,Vu([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},r.instances={},r})(),e7=(function(){function r(e,t){var n;this.windowBounds=t,this.instanceName="#"+r.instanceCount++,this.logger=new ZY({id:this.instanceName,enabled:e.logging}),this.cache=(n=e.cache)!==null&&n!==void 0?n:new wY(this,e)}return r.instanceCount=1,r})(),t7=function(r,e){return e===void 0&&(e={}),r7(r,e)};typeof window<"u"&&pO.setContext(window);var r7=function(r,e){return cr(void 0,void 0,void 0,function(){var t,n,A,i,s,a,o,u,l,h,f,d,g,m,C,E,T,I,b,P,v,Q,v,y,w,U,F,R,S,L,q,H,k,V,j,$,O,N,G,z;return tr(this,function(W){switch(W.label){case 0:if(!r||typeof r!="object")return[2,Promise.reject("Invalid element provided as first argument")];if(t=r.ownerDocument,!t)throw new Error("Element is not attached to a Document");if(n=t.defaultView,!n)throw new Error("Document is not attached to a Window");return A={allowTaint:(y=e.allowTaint)!==null&&y!==void 0?y:!1,imageTimeout:(w=e.imageTimeout)!==null&&w!==void 0?w:15e3,proxy:e.proxy,useCORS:(U=e.useCORS)!==null&&U!==void 0?U:!1},i=dv({logging:(F=e.logging)!==null&&F!==void 0?F:!0,cache:e.cache},A),s={windowWidth:(R=e.windowWidth)!==null&&R!==void 0?R:n.innerWidth,windowHeight:(S=e.windowHeight)!==null&&S!==void 0?S:n.innerHeight,scrollX:(L=e.scrollX)!==null&&L!==void 0?L:n.pageXOffset,scrollY:(q=e.scrollY)!==null&&q!==void 0?q:n.pageYOffset},a=new hA(s.scrollX,s.scrollY,s.windowWidth,s.windowHeight),o=new e7(i,a),u=(H=e.foreignObjectRendering)!==null&&H!==void 0?H:!1,l={allowTaint:(k=e.allowTaint)!==null&&k!==void 0?k:!1,onclone:e.onclone,ignoreElements:e.ignoreElements,inlineImages:u,copyStyles:u},o.logger.debug("Starting document clone with size "+a.width+"x"+a.height+" scrolled to "+-a.left+","+-a.top),h=new vI(o,r,l),f=h.clonedReferenceElement,f?[4,h.toIFrame(t,a)]:[2,Promise.reject("Unable to find element in cloned iframe")];case 1:return d=W.sent(),g=zw(f)||nY(f)?x9(f.ownerDocument):th(o,f),m=g.width,C=g.height,E=g.left,T=g.top,I=n7(o,f,e.backgroundColor),b={canvas:e.canvas,backgroundColor:I,scale:(j=(V=e.scale)!==null&&V!==void 0?V:n.devicePixelRatio)!==null&&j!==void 0?j:1,x:(($=e.x)!==null&&$!==void 0?$:0)+E,y:((O=e.y)!==null&&O!==void 0?O:0)+T,width:(N=e.width)!==null&&N!==void 0?N:Math.ceil(m),height:(G=e.height)!==null&&G!==void 0?G:Math.ceil(C)},u?(o.logger.debug("Document cloned, using foreign object rendering"),v=new YY(o,b),[4,v.render(f)]):[3,3];case 2:return P=W.sent(),[3,5];case 3:return o.logger.debug("Document cloned, element located at "+E+","+T+" with size "+m+"x"+C+" using computed rendering"),o.logger.debug("Starting DOM parsing"),Q=oO(o,f),I===Q.styles.backgroundColor&&(Q.styles.backgroundColor=nA.TRANSPARENT),o.logger.debug("Starting renderer for element at "+b.x+","+b.y+" with size "+b.width+"x"+b.height),v=new jY(o,b),[4,v.render(Q)];case 4:P=W.sent(),W.label=5;case 5:return(!((z=e.removeContainer)!==null&&z!==void 0)||z)&&(vI.destroy(d)||o.logger.error("Cannot detach cloned iframe as it is not in the DOM anymore")),o.logger.debug("Finished rendering"),[2,P]}})})},n7=function(r,e,t){var n=e.ownerDocument,A=n.documentElement?ro(r,getComputedStyle(n.documentElement).backgroundColor):nA.TRANSPARENT,i=n.body?ro(r,getComputedStyle(n.body).backgroundColor):nA.TRANSPARENT,s=typeof t=="string"?ro(r,t):t===null?nA.TRANSPARENT:4294967295;return e===n.documentElement?KA(A)?KA(i)?s:i:A:s};const Ree=Object.freeze(Object.defineProperty({__proto__:null,default:t7},Symbol.toStringTag,{value:"Module"}));/*! @license DOMPurify 3.2.7 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.2.7/LICENSE */const{entries:EO,setPrototypeOf:EI,isFrozen:A7,getPrototypeOf:i7,getOwnPropertyDescriptor:s7}=Object;let{freeze:fr,seal:Yr,create:_O}=Object,{apply:Dv,construct:Lv}=typeof Reflect<"u"&&Reflect;fr||(fr=function(e){return e});Yr||(Yr=function(e){return e});Dv||(Dv=function(e,t){for(var n=arguments.length,A=new Array(n>2?n-2:0),i=2;i<n;i++)A[i-2]=arguments[i];return e.apply(t,A)});Lv||(Lv=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),A=1;A<t;A++)n[A-1]=arguments[A];return new e(...n)});const cl=dr(Array.prototype.forEach),a7=dr(Array.prototype.lastIndexOf),_I=dr(Array.prototype.pop),Ba=dr(Array.prototype.push),o7=dr(Array.prototype.splice),Dl=dr(String.prototype.toLowerCase),Bd=dr(String.prototype.toString),Cd=dr(String.prototype.match),Ca=dr(String.prototype.replace),u7=dr(String.prototype.indexOf),l7=dr(String.prototype.trim),un=dr(Object.prototype.hasOwnProperty),lr=dr(RegExp.prototype.test),Ea=c7(TypeError);function dr(r){return function(e){e instanceof RegExp&&(e.lastIndex=0);for(var t=arguments.length,n=new Array(t>1?t-1:0),A=1;A<t;A++)n[A-1]=arguments[A];return Dv(r,e,n)}}function c7(r){return function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Lv(r,t)}}function Ie(r,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Dl;EI&&EI(r,null);let n=e.length;for(;n--;){let A=e[n];if(typeof A=="string"){const i=t(A);i!==A&&(A7(e)||(e[n]=i),A=i)}r[A]=!0}return r}function h7(r){for(let e=0;e<r.length;e++)un(r,e)||(r[e]=null);return r}function Xn(r){const e=_O(null);for(const[t,n]of EO(r))un(r,t)&&(Array.isArray(n)?e[t]=h7(n):n&&typeof n=="object"&&n.constructor===Object?e[t]=Xn(n):e[t]=n);return e}function _a(r,e){for(;r!==null;){const n=s7(r,e);if(n){if(n.get)return dr(n.get);if(typeof n.value=="function")return dr(n.value)}r=i7(r)}function t(){return null}return t}const TI=fr(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","search","section","select","shadow","slot","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),Ed=fr(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","enterkeyhint","exportparts","filter","font","g","glyph","glyphref","hkern","image","inputmode","line","lineargradient","marker","mask","metadata","mpath","part","path","pattern","polygon","polyline","radialgradient","rect","slot","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),_d=fr(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),f7=fr(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),Td=fr(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),d7=fr(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),II=fr(["#text"]),bI=fr(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","exportparts","face","for","headers","height","hidden","high","href","hreflang","id","inert","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","part","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","slot","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),Id=fr(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),UI=fr(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),hl=fr(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),g7=Yr(/\{\{[\w\W]*|[\w\W]*\}\}/gm),p7=Yr(/<%[\w\W]*|[\w\W]*%>/gm),m7=Yr(/\$\{[\w\W]*/gm),v7=Yr(/^data-[\-\w.\u00B7-\uFFFF]+$/),y7=Yr(/^aria-[\-\w]+$/),TO=Yr(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp|matrix):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),w7=Yr(/^(?:\w+script|data):/i),B7=Yr(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),IO=Yr(/^html$/i),C7=Yr(/^[a-z][.\w]*(-[.\w]+)+$/i);var FI=Object.freeze({__proto__:null,ARIA_ATTR:y7,ATTR_WHITESPACE:B7,CUSTOM_ELEMENT:C7,DATA_ATTR:v7,DOCTYPE_NAME:IO,ERB_EXPR:p7,IS_ALLOWED_URI:TO,IS_SCRIPT_OR_DATA:w7,MUSTACHE_EXPR:g7,TMPLIT_EXPR:m7});const Ta={element:1,text:3,progressingInstruction:7,comment:8,document:9},E7=function(){return typeof window>"u"?null:window},_7=function(e,t){if(typeof e!="object"||typeof e.createPolicy!="function")return null;let n=null;const A="data-tt-policy-suffix";t&&t.hasAttribute(A)&&(n=t.getAttribute(A));const i="dompurify"+(n?"#"+n:"");try{return e.createPolicy(i,{createHTML(s){return s},createScriptURL(s){return s}})}catch{return console.warn("TrustedTypes policy "+i+" could not be created."),null}},SI=function(){return{afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}};function bO(){let r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:E7();const e=le=>bO(le);if(e.version="3.2.7",e.removed=[],!r||!r.document||r.document.nodeType!==Ta.document||!r.Element)return e.isSupported=!1,e;let{document:t}=r;const n=t,A=n.currentScript,{DocumentFragment:i,HTMLTemplateElement:s,Node:a,Element:o,NodeFilter:u,NamedNodeMap:l=r.NamedNodeMap||r.MozNamedAttrMap,HTMLFormElement:h,DOMParser:f,trustedTypes:d}=r,g=o.prototype,m=_a(g,"cloneNode"),C=_a(g,"remove"),E=_a(g,"nextSibling"),T=_a(g,"childNodes"),I=_a(g,"parentNode");if(typeof s=="function"){const le=t.createElement("template");le.content&&le.content.ownerDocument&&(t=le.content.ownerDocument)}let b,P="";const{implementation:Q,createNodeIterator:v,createDocumentFragment:y,getElementsByTagName:w}=t,{importNode:U}=n;let F=SI();e.isSupported=typeof EO=="function"&&typeof I=="function"&&Q&&Q.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:R,ERB_EXPR:S,TMPLIT_EXPR:L,DATA_ATTR:q,ARIA_ATTR:H,IS_SCRIPT_OR_DATA:k,ATTR_WHITESPACE:V,CUSTOM_ELEMENT:j}=FI;let{IS_ALLOWED_URI:$}=FI,O=null;const N=Ie({},[...TI,...Ed,..._d,...Td,...II]);let G=null;const z=Ie({},[...bI,...Id,...UI,...hl]);let W=Object.seal(_O(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),se=null,ne=null,Ee=!0,_e=!0,xe=!1,ut=!0,We=!1,Ve=!0,Pe=!1,_t=!1,Wt=!1,Ut=!1,mr=!1,br=!1,ur=!0,mt=!1;const Ft="user-content-";let Tt=!0,ee=!1,fe={},ce=null;const ge=Ie({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let Te=null;const Dt=Ie({},["audio","video","img","source","image","track"]);let $t=null;const Xt=Ie({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),nt="http://www.w3.org/1998/Math/MathML",Ur="http://www.w3.org/2000/svg",St="http://www.w3.org/1999/xhtml";let zt=St,Pn=!1,On=null;const Dn=Ie({},[nt,Ur,St],Bd);let Dr=Ie({},["mi","mo","mn","ms","mtext"]),Lr=Ie({},["annotation-xml"]);const Zr=Ie({},["title","style","font","a","script"]);let $e=null;const Ys=["application/xhtml+xml","text/html"],Ln="text/html";let lt=null,en=null;const uu=t.createElement("form"),vA=function(D){return D instanceof RegExp||D instanceof Function},$i=function(){let D=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(en&&en===D)){if((!D||typeof D!="object")&&(D={}),D=Xn(D),$e=Ys.indexOf(D.PARSER_MEDIA_TYPE)===-1?Ln:D.PARSER_MEDIA_TYPE,lt=$e==="application/xhtml+xml"?Bd:Dl,O=un(D,"ALLOWED_TAGS")?Ie({},D.ALLOWED_TAGS,lt):N,G=un(D,"ALLOWED_ATTR")?Ie({},D.ALLOWED_ATTR,lt):z,On=un(D,"ALLOWED_NAMESPACES")?Ie({},D.ALLOWED_NAMESPACES,Bd):Dn,$t=un(D,"ADD_URI_SAFE_ATTR")?Ie(Xn(Xt),D.ADD_URI_SAFE_ATTR,lt):Xt,Te=un(D,"ADD_DATA_URI_TAGS")?Ie(Xn(Dt),D.ADD_DATA_URI_TAGS,lt):Dt,ce=un(D,"FORBID_CONTENTS")?Ie({},D.FORBID_CONTENTS,lt):ge,se=un(D,"FORBID_TAGS")?Ie({},D.FORBID_TAGS,lt):Xn({}),ne=un(D,"FORBID_ATTR")?Ie({},D.FORBID_ATTR,lt):Xn({}),fe=un(D,"USE_PROFILES")?D.USE_PROFILES:!1,Ee=D.ALLOW_ARIA_ATTR!==!1,_e=D.ALLOW_DATA_ATTR!==!1,xe=D.ALLOW_UNKNOWN_PROTOCOLS||!1,ut=D.ALLOW_SELF_CLOSE_IN_ATTR!==!1,We=D.SAFE_FOR_TEMPLATES||!1,Ve=D.SAFE_FOR_XML!==!1,Pe=D.WHOLE_DOCUMENT||!1,Ut=D.RETURN_DOM||!1,mr=D.RETURN_DOM_FRAGMENT||!1,br=D.RETURN_TRUSTED_TYPE||!1,Wt=D.FORCE_BODY||!1,ur=D.SANITIZE_DOM!==!1,mt=D.SANITIZE_NAMED_PROPS||!1,Tt=D.KEEP_CONTENT!==!1,ee=D.IN_PLACE||!1,$=D.ALLOWED_URI_REGEXP||TO,zt=D.NAMESPACE||St,Dr=D.MATHML_TEXT_INTEGRATION_POINTS||Dr,Lr=D.HTML_INTEGRATION_POINTS||Lr,W=D.CUSTOM_ELEMENT_HANDLING||{},D.CUSTOM_ELEMENT_HANDLING&&vA(D.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(W.tagNameCheck=D.CUSTOM_ELEMENT_HANDLING.tagNameCheck),D.CUSTOM_ELEMENT_HANDLING&&vA(D.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(W.attributeNameCheck=D.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),D.CUSTOM_ELEMENT_HANDLING&&typeof D.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(W.allowCustomizedBuiltInElements=D.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),We&&(_e=!1),mr&&(Ut=!0),fe&&(O=Ie({},II),G=[],fe.html===!0&&(Ie(O,TI),Ie(G,bI)),fe.svg===!0&&(Ie(O,Ed),Ie(G,Id),Ie(G,hl)),fe.svgFilters===!0&&(Ie(O,_d),Ie(G,Id),Ie(G,hl)),fe.mathMl===!0&&(Ie(O,Td),Ie(G,UI),Ie(G,hl))),D.ADD_TAGS&&(O===N&&(O=Xn(O)),Ie(O,D.ADD_TAGS,lt)),D.ADD_ATTR&&(G===z&&(G=Xn(G)),Ie(G,D.ADD_ATTR,lt)),D.ADD_URI_SAFE_ATTR&&Ie($t,D.ADD_URI_SAFE_ATTR,lt),D.FORBID_CONTENTS&&(ce===ge&&(ce=Xn(ce)),Ie(ce,D.FORBID_CONTENTS,lt)),Tt&&(O["#text"]=!0),Pe&&Ie(O,["html","head","body"]),O.table&&(Ie(O,["tbody"]),delete se.tbody),D.TRUSTED_TYPES_POLICY){if(typeof D.TRUSTED_TYPES_POLICY.createHTML!="function")throw Ea('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof D.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw Ea('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');b=D.TRUSTED_TYPES_POLICY,P=b.createHTML("")}else b===void 0&&(b=_7(d,A)),b!==null&&typeof P=="string"&&(P=b.createHTML(""));fr&&fr(D),en=D}},Qt=Ie({},[...Ed,..._d,...f7]),Js=Ie({},[...Td,...d7]),ni=function(D){let Z=I(D);(!Z||!Z.tagName)&&(Z={namespaceURI:zt,tagName:"template"});const ae=Dl(D.tagName),Ne=Dl(Z.tagName);return On[D.namespaceURI]?D.namespaceURI===Ur?Z.namespaceURI===St?ae==="svg":Z.namespaceURI===nt?ae==="svg"&&(Ne==="annotation-xml"||Dr[Ne]):!!Qt[ae]:D.namespaceURI===nt?Z.namespaceURI===St?ae==="math":Z.namespaceURI===Ur?ae==="math"&&Lr[Ne]:!!Js[ae]:D.namespaceURI===St?Z.namespaceURI===Ur&&!Lr[Ne]||Z.namespaceURI===nt&&!Dr[Ne]?!1:!Js[ae]&&(Zr[ae]||!Qt[ae]):!!($e==="application/xhtml+xml"&&On[D.namespaceURI]):!1},Yt=function(D){Ba(e.removed,{element:D});try{I(D).removeChild(D)}catch{C(D)}},Mn=function(D,Z){try{Ba(e.removed,{attribute:Z.getAttributeNode(D),from:Z})}catch{Ba(e.removed,{attribute:null,from:Z})}if(Z.removeAttribute(D),D==="is")if(Ut||mr)try{Yt(Z)}catch{}else try{Z.setAttribute(D,"")}catch{}},lu=function(D){let Z=null,ae=null;if(Wt)D="<remove></remove>"+D;else{const Ke=Cd(D,/^[\r\n\t ]+/);ae=Ke&&Ke[0]}$e==="application/xhtml+xml"&&zt===St&&(D='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+D+"</body></html>");const Ne=b?b.createHTML(D):D;if(zt===St)try{Z=new f().parseFromString(Ne,$e)}catch{}if(!Z||!Z.documentElement){Z=Q.createDocument(zt,"template",null);try{Z.documentElement.innerHTML=Pn?P:Ne}catch{}}const Rt=Z.body||Z.documentElement;return D&&ae&&Rt.insertBefore(t.createTextNode(ae),Rt.childNodes[0]||null),zt===St?w.call(Z,Pe?"html":"body")[0]:Pe?Z.documentElement:Rt},Nn=function(D){return v.call(D.ownerDocument||D,D,u.SHOW_ELEMENT|u.SHOW_COMMENT|u.SHOW_TEXT|u.SHOW_PROCESSING_INSTRUCTION|u.SHOW_CDATA_SECTION,null)},Zs=function(D){return D instanceof h&&(typeof D.nodeName!="string"||typeof D.textContent!="string"||typeof D.removeChild!="function"||!(D.attributes instanceof l)||typeof D.removeAttribute!="function"||typeof D.setAttribute!="function"||typeof D.namespaceURI!="string"||typeof D.insertBefore!="function"||typeof D.hasChildNodes!="function")},cu=function(D){return typeof a=="function"&&D instanceof a};function vr(le,D,Z){cl(le,ae=>{ae.call(e,D,Z,en)})}const ea=function(D){let Z=null;if(vr(F.beforeSanitizeElements,D,null),Zs(D))return Yt(D),!0;const ae=lt(D.nodeName);if(vr(F.uponSanitizeElement,D,{tagName:ae,allowedTags:O}),Ve&&D.hasChildNodes()&&!cu(D.firstElementChild)&&lr(/<[/\w!]/g,D.innerHTML)&&lr(/<[/\w!]/g,D.textContent)||D.nodeType===Ta.progressingInstruction||Ve&&D.nodeType===Ta.comment&&lr(/<[/\w]/g,D.data))return Yt(D),!0;if(!O[ae]||se[ae]){if(!se[ae]&&Ai(ae)&&(W.tagNameCheck instanceof RegExp&&lr(W.tagNameCheck,ae)||W.tagNameCheck instanceof Function&&W.tagNameCheck(ae)))return!1;if(Tt&&!ce[ae]){const Ne=I(D)||D.parentNode,Rt=T(D)||D.childNodes;if(Rt&&Ne){const Ke=Rt.length;for(let Lt=Ke-1;Lt>=0;--Lt){const Fr=m(Rt[Lt],!0);Fr.__removalCount=(D.__removalCount||0)+1,Ne.insertBefore(Fr,E(D))}}}return Yt(D),!0}return D instanceof o&&!ni(D)||(ae==="noscript"||ae==="noembed"||ae==="noframes")&&lr(/<\/no(script|embed|frames)/i,D.innerHTML)?(Yt(D),!0):(We&&D.nodeType===Ta.text&&(Z=D.textContent,cl([R,S,L],Ne=>{Z=Ca(Z,Ne," ")}),D.textContent!==Z&&(Ba(e.removed,{element:D.cloneNode()}),D.textContent=Z)),vr(F.afterSanitizeElements,D,null),!1)},Xi=function(D,Z,ae){if(ur&&(Z==="id"||Z==="name")&&(ae in t||ae in uu))return!1;if(!(_e&&!ne[Z]&&lr(q,Z))){if(!(Ee&&lr(H,Z))){if(!G[Z]||ne[Z]){if(!(Ai(D)&&(W.tagNameCheck instanceof RegExp&&lr(W.tagNameCheck,D)||W.tagNameCheck instanceof Function&&W.tagNameCheck(D))&&(W.attributeNameCheck instanceof RegExp&&lr(W.attributeNameCheck,Z)||W.attributeNameCheck instanceof Function&&W.attributeNameCheck(Z,D))||Z==="is"&&W.allowCustomizedBuiltInElements&&(W.tagNameCheck instanceof RegExp&&lr(W.tagNameCheck,ae)||W.tagNameCheck instanceof Function&&W.tagNameCheck(ae))))return!1}else if(!$t[Z]){if(!lr($,Ca(ae,V,""))){if(!((Z==="src"||Z==="xlink:href"||Z==="href")&&D!=="script"&&u7(ae,"data:")===0&&Te[D])){if(!(xe&&!lr(k,Ca(ae,V,"")))){if(ae)return!1}}}}}}return!0},Ai=function(D){return D!=="annotation-xml"&&Cd(D,j)},tn=function(D){vr(F.beforeSanitizeAttributes,D,null);const{attributes:Z}=D;if(!Z||Zs(D))return;const ae={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:G,forceKeepAttr:void 0};let Ne=Z.length;for(;Ne--;){const Rt=Z[Ne],{name:Ke,namespaceURI:Lt,value:Fr}=Rt,Mr=lt(Ke),rn=Fr;let ct=Ke==="value"?rn:l7(rn);if(ae.attrName=Mr,ae.attrValue=ct,ae.keepAttr=!0,ae.forceKeepAttr=void 0,vr(F.uponSanitizeAttribute,D,ae),ct=ae.attrValue,mt&&(Mr==="id"||Mr==="name")&&(Mn(Ke,D),ct=Ft+ct),Ve&&lr(/((--!?|])>)|<\/(style|title|textarea)/i,ct)){Mn(Ke,D);continue}if(Mr==="attributename"&&Cd(ct,"href")){Mn(Ke,D);continue}if(ae.forceKeepAttr)continue;if(!ae.keepAttr){Mn(Ke,D);continue}if(!ut&&lr(/\/>/i,ct)){Mn(Ke,D);continue}We&&cl([R,S,L],ta=>{ct=Ca(ct,ta," ")});const fu=lt(D.nodeName);if(!Xi(fu,Mr,ct)){Mn(Ke,D);continue}if(b&&typeof d=="object"&&typeof d.getAttributeType=="function"&&!Lt)switch(d.getAttributeType(fu,Mr)){case"TrustedHTML":{ct=b.createHTML(ct);break}case"TrustedScriptURL":{ct=b.createScriptURL(ct);break}}if(ct!==rn)try{Lt?D.setAttributeNS(Lt,Ke,ct):D.setAttribute(Ke,ct),Zs(D)?Yt(D):_I(e.removed)}catch{Mn(Ke,D)}}vr(F.afterSanitizeAttributes,D,null)},hu=function le(D){let Z=null;const ae=Nn(D);for(vr(F.beforeSanitizeShadowDOM,D,null);Z=ae.nextNode();)vr(F.uponSanitizeShadowNode,Z,null),ea(Z),tn(Z),Z.content instanceof i&&le(Z.content);vr(F.afterSanitizeShadowDOM,D,null)};return e.sanitize=function(le){let D=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Z=null,ae=null,Ne=null,Rt=null;if(Pn=!le,Pn&&(le="<!-->"),typeof le!="string"&&!cu(le))if(typeof le.toString=="function"){if(le=le.toString(),typeof le!="string")throw Ea("dirty is not a string, aborting")}else throw Ea("toString is not a function");if(!e.isSupported)return le;if(_t||$i(D),e.removed=[],typeof le=="string"&&(ee=!1),ee){if(le.nodeName){const Fr=lt(le.nodeName);if(!O[Fr]||se[Fr])throw Ea("root node is forbidden and cannot be sanitized in-place")}}else if(le instanceof a)Z=lu("<!---->"),ae=Z.ownerDocument.importNode(le,!0),ae.nodeType===Ta.element&&ae.nodeName==="BODY"||ae.nodeName==="HTML"?Z=ae:Z.appendChild(ae);else{if(!Ut&&!We&&!Pe&&le.indexOf("<")===-1)return b&&br?b.createHTML(le):le;if(Z=lu(le),!Z)return Ut?null:br?P:""}Z&&Wt&&Yt(Z.firstChild);const Ke=Nn(ee?le:Z);for(;Ne=Ke.nextNode();)ea(Ne),tn(Ne),Ne.content instanceof i&&hu(Ne.content);if(ee)return le;if(Ut){if(mr)for(Rt=y.call(Z.ownerDocument);Z.firstChild;)Rt.appendChild(Z.firstChild);else Rt=Z;return(G.shadowroot||G.shadowrootmode)&&(Rt=U.call(n,Rt,!0)),Rt}let Lt=Pe?Z.outerHTML:Z.innerHTML;return Pe&&O["!doctype"]&&Z.ownerDocument&&Z.ownerDocument.doctype&&Z.ownerDocument.doctype.name&&lr(IO,Z.ownerDocument.doctype.name)&&(Lt="<!DOCTYPE "+Z.ownerDocument.doctype.name+`>
`+Lt),We&&cl([R,S,L],Fr=>{Lt=Ca(Lt,Fr," ")}),b&&br?b.createHTML(Lt):Lt},e.setConfig=function(){let le=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};$i(le),_t=!0},e.clearConfig=function(){en=null,_t=!1},e.isValidAttribute=function(le,D,Z){en||$i({});const ae=lt(le),Ne=lt(D);return Xi(ae,Ne,Z)},e.addHook=function(le,D){typeof D=="function"&&Ba(F[le],D)},e.removeHook=function(le,D){if(D!==void 0){const Z=a7(F[le],D);return Z===-1?void 0:o7(F[le],Z,1)[0]}return _I(F[le])},e.removeHooks=function(le){F[le]=[]},e.removeAllHooks=function(){F=SI()},e}var T7=bO();const xee=Object.freeze(Object.defineProperty({__proto__:null,default:T7},Symbol.toStringTag,{value:"Module"}));var QI={},RI={},Ia,xI;function Ze(){if(xI)return Ia;xI=1;var r=function(e){return e&&e.Math===Math&&e};return Ia=r(typeof globalThis=="object"&&globalThis)||r(typeof window=="object"&&window)||r(typeof self=="object"&&self)||r(typeof gi=="object"&&gi)||r(typeof Ia=="object"&&Ia)||(function(){return this})()||Function("return this")(),Ia}var bd={},Ud,PI;function at(){return PI||(PI=1,Ud=function(r){try{return!!r()}catch{return!0}}),Ud}var Fd,OI;function mn(){if(OI)return Fd;OI=1;var r=at();return Fd=!r(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!==7}),Fd}var Sd,DI;function ch(){if(DI)return Sd;DI=1;var r=at();return Sd=!r(function(){var e=(function(){}).bind();return typeof e!="function"||e.hasOwnProperty("prototype")}),Sd}var Qd,LI;function qt(){if(LI)return Qd;LI=1;var r=ch(),e=Function.prototype.call;return Qd=r?e.bind(e):function(){return e.apply(e,arguments)},Qd}var Rd={},MI;function I7(){if(MI)return Rd;MI=1;var r={}.propertyIsEnumerable,e=Object.getOwnPropertyDescriptor,t=e&&!r.call({1:2},1);return Rd.f=t?function(A){var i=e(this,A);return!!i&&i.enumerable}:r,Rd}var xd,NI;function Yw(){return NI||(NI=1,xd=function(r,e){return{enumerable:!(r&1),configurable:!(r&2),writable:!(r&4),value:e}}),xd}var Pd,kI;function ot(){if(kI)return Pd;kI=1;var r=ch(),e=Function.prototype,t=e.call,n=r&&e.bind.bind(t,t);return Pd=r?n:function(A){return function(){return t.apply(A,arguments)}},Pd}var Od,HI;function Gi(){if(HI)return Od;HI=1;var r=ot(),e=r({}.toString),t=r("".slice);return Od=function(n){return t(e(n),8,-1)},Od}var Dd,VI;function UO(){if(VI)return Dd;VI=1;var r=ot(),e=at(),t=Gi(),n=Object,A=r("".split);return Dd=e(function(){return!n("z").propertyIsEnumerable(0)})?function(i){return t(i)==="String"?A(i,""):n(i)}:n,Dd}var Ld,KI;function hh(){return KI||(KI=1,Ld=function(r){return r==null}),Ld}var Md,GI;function vn(){if(GI)return Md;GI=1;var r=hh(),e=TypeError;return Md=function(t){if(r(t))throw new e("Can't call method on "+t);return t},Md}var Nd,jI;function Jo(){if(jI)return Nd;jI=1;var r=UO(),e=vn();return Nd=function(t){return r(e(t))},Nd}var kd,qI;function pt(){if(qI)return kd;qI=1;var r=typeof document=="object"&&document.all;return kd=typeof r>"u"&&r!==void 0?function(e){return typeof e=="function"||e===r}:function(e){return typeof e=="function"},kd}var Hd,WI;function Ir(){if(WI)return Hd;WI=1;var r=pt();return Hd=function(e){return typeof e=="object"?e!==null:r(e)},Hd}var Vd,$I;function ji(){if($I)return Vd;$I=1;var r=Ze(),e=pt(),t=function(n){return e(n)?n:void 0};return Vd=function(n,A){return arguments.length<2?t(r[n]):r[n]&&r[n][A]},Vd}var Kd,XI;function fh(){if(XI)return Kd;XI=1;var r=ot();return Kd=r({}.isPrototypeOf),Kd}var Gd,zI;function Zo(){if(zI)return Gd;zI=1;var r=Ze(),e=r.navigator,t=e&&e.userAgent;return Gd=t?String(t):"",Gd}var jd,YI;function Jw(){if(YI)return jd;YI=1;var r=Ze(),e=Zo(),t=r.process,n=r.Deno,A=t&&t.versions||n&&n.version,i=A&&A.v8,s,a;return i&&(s=i.split("."),a=s[0]>0&&s[0]<4?1:+(s[0]+s[1])),!a&&e&&(s=e.match(/Edge\/(\d+)/),(!s||s[1]>=74)&&(s=e.match(/Chrome\/(\d+)/),s&&(a=+s[1]))),jd=a,jd}var qd,JI;function FO(){if(JI)return qd;JI=1;var r=Jw(),e=at(),t=Ze(),n=t.String;return qd=!!Object.getOwnPropertySymbols&&!e(function(){var A=Symbol("symbol detection");return!n(A)||!(Object(A)instanceof Symbol)||!Symbol.sham&&r&&r<41}),qd}var Wd,ZI;function SO(){if(ZI)return Wd;ZI=1;var r=FO();return Wd=r&&!Symbol.sham&&typeof Symbol.iterator=="symbol",Wd}var $d,eb;function QO(){if(eb)return $d;eb=1;var r=ji(),e=pt(),t=fh(),n=SO(),A=Object;return $d=n?function(i){return typeof i=="symbol"}:function(i){var s=r("Symbol");return e(s)&&t(s.prototype,A(i))},$d}var Xd,tb;function dh(){if(tb)return Xd;tb=1;var r=String;return Xd=function(e){try{return r(e)}catch{return"Object"}},Xd}var zd,rb;function mA(){if(rb)return zd;rb=1;var r=pt(),e=dh(),t=TypeError;return zd=function(n){if(r(n))return n;throw new t(e(n)+" is not a function")},zd}var Yd,nb;function $s(){if(nb)return Yd;nb=1;var r=mA(),e=hh();return Yd=function(t,n){var A=t[n];return e(A)?void 0:r(A)},Yd}var Jd,Ab;function b7(){if(Ab)return Jd;Ab=1;var r=qt(),e=pt(),t=Ir(),n=TypeError;return Jd=function(A,i){var s,a;if(i==="string"&&e(s=A.toString)&&!t(a=r(s,A))||e(s=A.valueOf)&&!t(a=r(s,A))||i!=="string"&&e(s=A.toString)&&!t(a=r(s,A)))return a;throw new n("Can't convert object to primitive value")},Jd}var Zd={exports:{}},eg,ib;function Rn(){return ib||(ib=1,eg=!1),eg}var tg,sb;function Zw(){if(sb)return tg;sb=1;var r=Ze(),e=Object.defineProperty;return tg=function(t,n){try{e(r,t,{value:n,configurable:!0,writable:!0})}catch{r[t]=n}return n},tg}var ab;function eB(){if(ab)return Zd.exports;ab=1;var r=Rn(),e=Ze(),t=Zw(),n="__core-js_shared__",A=Zd.exports=e[n]||t(n,{});return(A.versions||(A.versions=[])).push({version:"3.45.1",mode:r?"pure":"global",copyright:" 2014-2025 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.45.1/LICENSE",source:"https://github.com/zloirock/core-js"}),Zd.exports}var rg,ob;function tB(){if(ob)return rg;ob=1;var r=eB();return rg=function(e,t){return r[e]||(r[e]=t||{})},rg}var ng,ub;function gh(){if(ub)return ng;ub=1;var r=vn(),e=Object;return ng=function(t){return e(r(t))},ng}var Ag,lb;function yn(){if(lb)return Ag;lb=1;var r=ot(),e=gh(),t=r({}.hasOwnProperty);return Ag=Object.hasOwn||function(A,i){return t(e(A),i)},Ag}var ig,cb;function RO(){if(cb)return ig;cb=1;var r=ot(),e=0,t=Math.random(),n=r(1.1.toString);return ig=function(A){return"Symbol("+(A===void 0?"":A)+")_"+n(++e+t,36)},ig}var sg,hb;function Ot(){if(hb)return sg;hb=1;var r=Ze(),e=tB(),t=yn(),n=RO(),A=FO(),i=SO(),s=r.Symbol,a=e("wks"),o=i?s.for||s:s&&s.withoutSetter||n;return sg=function(u){return t(a,u)||(a[u]=A&&t(s,u)?s[u]:o("Symbol."+u)),a[u]},sg}var ag,fb;function U7(){if(fb)return ag;fb=1;var r=qt(),e=Ir(),t=QO(),n=$s(),A=b7(),i=Ot(),s=TypeError,a=i("toPrimitive");return ag=function(o,u){if(!e(o)||t(o))return o;var l=n(o,a),h;if(l){if(u===void 0&&(u="default"),h=r(l,o,u),!e(h)||t(h))return h;throw new s("Can't convert object to primitive value")}return u===void 0&&(u="number"),A(o,u)},ag}var og,db;function xO(){if(db)return og;db=1;var r=U7(),e=QO();return og=function(t){var n=r(t,"string");return e(n)?n:n+""},og}var ug,gb;function ph(){if(gb)return ug;gb=1;var r=Ze(),e=Ir(),t=r.document,n=e(t)&&e(t.createElement);return ug=function(A){return n?t.createElement(A):{}},ug}var lg,pb;function PO(){if(pb)return lg;pb=1;var r=mn(),e=at(),t=ph();return lg=!r&&!e(function(){return Object.defineProperty(t("div"),"a",{get:function(){return 7}}).a!==7}),lg}var mb;function mh(){if(mb)return bd;mb=1;var r=mn(),e=qt(),t=I7(),n=Yw(),A=Jo(),i=xO(),s=yn(),a=PO(),o=Object.getOwnPropertyDescriptor;return bd.f=r?o:function(l,h){if(l=A(l),h=i(h),a)try{return o(l,h)}catch{}if(s(l,h))return n(!e(t.f,l,h),l[h])},bd}var cg={},hg,vb;function OO(){if(vb)return hg;vb=1;var r=mn(),e=at();return hg=r&&e(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!==42}),hg}var fg,yb;function gr(){if(yb)return fg;yb=1;var r=Ir(),e=String,t=TypeError;return fg=function(n){if(r(n))return n;throw new t(e(n)+" is not an object")},fg}var wb;function ti(){if(wb)return cg;wb=1;var r=mn(),e=PO(),t=OO(),n=gr(),A=xO(),i=TypeError,s=Object.defineProperty,a=Object.getOwnPropertyDescriptor,o="enumerable",u="configurable",l="writable";return cg.f=r?t?function(f,d,g){if(n(f),d=A(d),n(g),typeof f=="function"&&d==="prototype"&&"value"in g&&l in g&&!g[l]){var m=a(f,d);m&&m[l]&&(f[d]=g.value,g={configurable:u in g?g[u]:m[u],enumerable:o in g?g[o]:m[o],writable:!1})}return s(f,d,g)}:s:function(f,d,g){if(n(f),d=A(d),n(g),e)try{return s(f,d,g)}catch{}if("get"in g||"set"in g)throw new i("Accessors not supported");return"value"in g&&(f[d]=g.value),f},cg}var dg,Bb;function eu(){if(Bb)return dg;Bb=1;var r=mn(),e=ti(),t=Yw();return dg=r?function(n,A,i){return e.f(n,A,t(1,i))}:function(n,A,i){return n[A]=i,n},dg}var gg={exports:{}},pg,Cb;function vh(){if(Cb)return pg;Cb=1;var r=mn(),e=yn(),t=Function.prototype,n=r&&Object.getOwnPropertyDescriptor,A=e(t,"name"),i=A&&(function(){}).name==="something",s=A&&(!r||r&&n(t,"name").configurable);return pg={EXISTS:A,PROPER:i,CONFIGURABLE:s},pg}var mg,Eb;function rB(){if(Eb)return mg;Eb=1;var r=ot(),e=pt(),t=eB(),n=r(Function.toString);return e(t.inspectSource)||(t.inspectSource=function(A){return n(A)}),mg=t.inspectSource,mg}var vg,_b;function F7(){if(_b)return vg;_b=1;var r=Ze(),e=pt(),t=r.WeakMap;return vg=e(t)&&/native code/.test(String(t)),vg}var yg,Tb;function nB(){if(Tb)return yg;Tb=1;var r=tB(),e=RO(),t=r("keys");return yg=function(n){return t[n]||(t[n]=e(n))},yg}var wg,Ib;function AB(){return Ib||(Ib=1,wg={}),wg}var Bg,bb;function yh(){if(bb)return Bg;bb=1;var r=F7(),e=Ze(),t=Ir(),n=eu(),A=yn(),i=eB(),s=nB(),a=AB(),o="Object already initialized",u=e.TypeError,l=e.WeakMap,h,f,d,g=function(T){return d(T)?f(T):h(T,{})},m=function(T){return function(I){var b;if(!t(I)||(b=f(I)).type!==T)throw new u("Incompatible receiver, "+T+" required");return b}};if(r||i.state){var C=i.state||(i.state=new l);C.get=C.get,C.has=C.has,C.set=C.set,h=function(T,I){if(C.has(T))throw new u(o);return I.facade=T,C.set(T,I),I},f=function(T){return C.get(T)||{}},d=function(T){return C.has(T)}}else{var E=s("state");a[E]=!0,h=function(T,I){if(A(T,E))throw new u(o);return I.facade=T,n(T,E,I),I},f=function(T){return A(T,E)?T[E]:{}},d=function(T){return A(T,E)}}return Bg={set:h,get:f,has:d,enforce:g,getterFor:m},Bg}var Ub;function DO(){if(Ub)return gg.exports;Ub=1;var r=ot(),e=at(),t=pt(),n=yn(),A=mn(),i=vh().CONFIGURABLE,s=rB(),a=yh(),o=a.enforce,u=a.get,l=String,h=Object.defineProperty,f=r("".slice),d=r("".replace),g=r([].join),m=A&&!e(function(){return h(function(){},"length",{value:8}).length!==8}),C=String(String).split("String"),E=gg.exports=function(T,I,b){f(l(I),0,7)==="Symbol("&&(I="["+d(l(I),/^Symbol\(([^)]*)\).*$/,"$1")+"]"),b&&b.getter&&(I="get "+I),b&&b.setter&&(I="set "+I),(!n(T,"name")||i&&T.name!==I)&&(A?h(T,"name",{value:I,configurable:!0}):T.name=I),m&&b&&n(b,"arity")&&T.length!==b.arity&&h(T,"length",{value:b.arity});try{b&&n(b,"constructor")&&b.constructor?A&&h(T,"prototype",{writable:!1}):T.prototype&&(T.prototype=void 0)}catch{}var P=o(T);return n(P,"source")||(P.source=g(C,typeof I=="string"?I:"")),T};return Function.prototype.toString=E(function(){return t(this)&&u(this).source||s(this)},"toString"),gg.exports}var Cg,Fb;function qi(){if(Fb)return Cg;Fb=1;var r=pt(),e=ti(),t=DO(),n=Zw();return Cg=function(A,i,s,a){a||(a={});var o=a.enumerable,u=a.name!==void 0?a.name:i;if(r(s)&&t(s,u,a),a.global)o?A[i]=s:n(i,s);else{try{a.unsafe?A[i]&&(o=!0):delete A[i]}catch{}o?A[i]=s:e.f(A,i,{value:s,enumerable:!1,configurable:!a.nonConfigurable,writable:!a.nonWritable})}return A},Cg}var Eg={},_g,Sb;function S7(){if(Sb)return _g;Sb=1;var r=Math.ceil,e=Math.floor;return _g=Math.trunc||function(n){var A=+n;return(A>0?e:r)(A)},_g}var Tg,Qb;function wh(){if(Qb)return Tg;Qb=1;var r=S7();return Tg=function(e){var t=+e;return t!==t||t===0?0:r(t)},Tg}var Ig,Rb;function Q7(){if(Rb)return Ig;Rb=1;var r=wh(),e=Math.max,t=Math.min;return Ig=function(n,A){var i=r(n);return i<0?e(i+A,0):t(i,A)},Ig}var bg,xb;function Xs(){if(xb)return bg;xb=1;var r=wh(),e=Math.min;return bg=function(t){var n=r(t);return n>0?e(n,9007199254740991):0},bg}var Ug,Pb;function iB(){if(Pb)return Ug;Pb=1;var r=Xs();return Ug=function(e){return r(e.length)},Ug}var Fg,Ob;function LO(){if(Ob)return Fg;Ob=1;var r=Jo(),e=Q7(),t=iB(),n=function(A){return function(i,s,a){var o=r(i),u=t(o);if(u===0)return!A&&-1;var l=e(a,u),h;if(A&&s!==s){for(;u>l;)if(h=o[l++],h!==h)return!0}else for(;u>l;l++)if((A||l in o)&&o[l]===s)return A||l||0;return!A&&-1}};return Fg={includes:n(!0),indexOf:n(!1)},Fg}var Sg,Db;function MO(){if(Db)return Sg;Db=1;var r=ot(),e=yn(),t=Jo(),n=LO().indexOf,A=AB(),i=r([].push);return Sg=function(s,a){var o=t(s),u=0,l=[],h;for(h in o)!e(A,h)&&e(o,h)&&i(l,h);for(;a.length>u;)e(o,h=a[u++])&&(~n(l,h)||i(l,h));return l},Sg}var Qg,Lb;function sB(){return Lb||(Lb=1,Qg=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]),Qg}var Mb;function R7(){if(Mb)return Eg;Mb=1;var r=MO(),e=sB(),t=e.concat("length","prototype");return Eg.f=Object.getOwnPropertyNames||function(A){return r(A,t)},Eg}var Rg={},Nb;function x7(){return Nb||(Nb=1,Rg.f=Object.getOwnPropertySymbols),Rg}var xg,kb;function P7(){if(kb)return xg;kb=1;var r=ji(),e=ot(),t=R7(),n=x7(),A=gr(),i=e([].concat);return xg=r("Reflect","ownKeys")||function(a){var o=t.f(A(a)),u=n.f;return u?i(o,u(a)):o},xg}var Pg,Hb;function O7(){if(Hb)return Pg;Hb=1;var r=yn(),e=P7(),t=mh(),n=ti();return Pg=function(A,i,s){for(var a=e(i),o=n.f,u=t.f,l=0;l<a.length;l++){var h=a[l];!r(A,h)&&!(s&&r(s,h))&&o(A,h,u(i,h))}},Pg}var Og,Vb;function NO(){if(Vb)return Og;Vb=1;var r=at(),e=pt(),t=/#|\.prototype\./,n=function(o,u){var l=i[A(o)];return l===a?!0:l===s?!1:e(u)?r(u):!!u},A=n.normalize=function(o){return String(o).replace(t,".").toLowerCase()},i=n.data={},s=n.NATIVE="N",a=n.POLYFILL="P";return Og=n,Og}var Dg,Kb;function pr(){if(Kb)return Dg;Kb=1;var r=Ze(),e=mh().f,t=eu(),n=qi(),A=Zw(),i=O7(),s=NO();return Dg=function(a,o){var u=a.target,l=a.global,h=a.stat,f,d,g,m,C,E;if(l?d=r:h?d=r[u]||A(u,{}):d=r[u]&&r[u].prototype,d)for(g in o){if(C=o[g],a.dontCallGetSet?(E=e(d,g),m=E&&E.value):m=d[g],f=s(l?g:u+(h?".":"#")+g,a.forced),!f&&m!==void 0){if(typeof C==typeof m)continue;i(C,m)}(a.sham||m&&m.sham)&&t(C,"sham",!0),n(d,g,C,a)}},Dg}var Lg,Gb;function kO(){if(Gb)return Lg;Gb=1;var r=Ze(),e=Zo(),t=Gi(),n=function(A){return e.slice(0,A.length)===A};return Lg=(function(){return n("Bun/")?"BUN":n("Cloudflare-Workers")?"CLOUDFLARE":n("Deno/")?"DENO":n("Node.js/")?"NODE":r.Bun&&typeof Bun.version=="string"?"BUN":r.Deno&&typeof Deno.version=="object"?"DENO":t(r.process)==="process"?"NODE":r.window&&r.document?"BROWSER":"REST"})(),Lg}var Mg,jb;function Bh(){if(jb)return Mg;jb=1;var r=kO();return Mg=r==="NODE",Mg}var Ng,qb;function D7(){if(qb)return Ng;qb=1;var r=Ze();return Ng=r,Ng}var kg,Wb;function L7(){if(Wb)return kg;Wb=1;var r=ot(),e=mA();return kg=function(t,n,A){try{return r(e(Object.getOwnPropertyDescriptor(t,n)[A]))}catch{}},kg}var Hg,$b;function M7(){if($b)return Hg;$b=1;var r=Ir();return Hg=function(e){return r(e)||e===null},Hg}var Vg,Xb;function N7(){if(Xb)return Vg;Xb=1;var r=M7(),e=String,t=TypeError;return Vg=function(n){if(r(n))return n;throw new t("Can't set "+e(n)+" as a prototype")},Vg}var Kg,zb;function HO(){if(zb)return Kg;zb=1;var r=L7(),e=Ir(),t=vn(),n=N7();return Kg=Object.setPrototypeOf||("__proto__"in{}?(function(){var A=!1,i={},s;try{s=r(Object.prototype,"__proto__","set"),s(i,[]),A=i instanceof Array}catch{}return function(o,u){return t(o),n(u),e(o)&&(A?s(o,u):o.__proto__=u),o}})():void 0),Kg}var Gg,Yb;function Ch(){if(Yb)return Gg;Yb=1;var r=ti().f,e=yn(),t=Ot(),n=t("toStringTag");return Gg=function(A,i,s){A&&!s&&(A=A.prototype),A&&!e(A,n)&&r(A,n,{configurable:!0,value:i})},Gg}var jg,Jb;function k7(){if(Jb)return jg;Jb=1;var r=DO(),e=ti();return jg=function(t,n,A){return A.get&&r(A.get,n,{getter:!0}),A.set&&r(A.set,n,{setter:!0}),e.f(t,n,A)},jg}var qg,Zb;function H7(){if(Zb)return qg;Zb=1;var r=ji(),e=k7(),t=Ot(),n=mn(),A=t("species");return qg=function(i){var s=r(i);n&&s&&!s[A]&&e(s,A,{configurable:!0,get:function(){return this}})},qg}var Wg,eU;function V7(){if(eU)return Wg;eU=1;var r=fh(),e=TypeError;return Wg=function(t,n){if(r(n,t))return t;throw new e("Incorrect invocation")},Wg}var $g,tU;function K7(){if(tU)return $g;tU=1;var r=Ot(),e=r("toStringTag"),t={};return t[e]="z",$g=String(t)==="[object z]",$g}var Xg,rU;function aB(){if(rU)return Xg;rU=1;var r=K7(),e=pt(),t=Gi(),n=Ot(),A=n("toStringTag"),i=Object,s=t((function(){return arguments})())==="Arguments",a=function(o,u){try{return o[u]}catch{}};return Xg=r?t:function(o){var u,l,h;return o===void 0?"Undefined":o===null?"Null":typeof(l=a(u=i(o),A))=="string"?l:s?t(u):(h=t(u))==="Object"&&e(u.callee)?"Arguments":h},Xg}var zg,nU;function G7(){if(nU)return zg;nU=1;var r=ot(),e=at(),t=pt(),n=aB(),A=ji(),i=rB(),s=function(){},a=A("Reflect","construct"),o=/^\s*(?:class|function)\b/,u=r(o.exec),l=!o.test(s),h=function(g){if(!t(g))return!1;try{return a(s,[],g),!0}catch{return!1}},f=function(g){if(!t(g))return!1;switch(n(g)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return l||!!u(o,i(g))}catch{return!0}};return f.sham=!0,zg=!a||e(function(){var d;return h(h.call)||!h(Object)||!h(function(){d=!0})||d})?f:h,zg}var Yg,AU;function j7(){if(AU)return Yg;AU=1;var r=G7(),e=dh(),t=TypeError;return Yg=function(n){if(r(n))return n;throw new t(e(n)+" is not a constructor")},Yg}var Jg,iU;function VO(){if(iU)return Jg;iU=1;var r=gr(),e=j7(),t=hh(),n=Ot(),A=n("species");return Jg=function(i,s){var a=r(i).constructor,o;return a===void 0||t(o=r(a)[A])?s:e(o)},Jg}var Zg,sU;function KO(){if(sU)return Zg;sU=1;var r=ch(),e=Function.prototype,t=e.apply,n=e.call;return Zg=typeof Reflect=="object"&&Reflect.apply||(r?n.bind(t):function(){return n.apply(t,arguments)}),Zg}var ep,aU;function Eh(){if(aU)return ep;aU=1;var r=Gi(),e=ot();return ep=function(t){if(r(t)==="Function")return e(t)},ep}var tp,oU;function oB(){if(oU)return tp;oU=1;var r=Eh(),e=mA(),t=ch(),n=r(r.bind);return tp=function(A,i){return e(A),i===void 0?A:t?n(A,i):function(){return A.apply(i,arguments)}},tp}var rp,uU;function GO(){if(uU)return rp;uU=1;var r=ji();return rp=r("document","documentElement"),rp}var np,lU;function q7(){if(lU)return np;lU=1;var r=ot();return np=r([].slice),np}var Ap,cU;function W7(){if(cU)return Ap;cU=1;var r=TypeError;return Ap=function(e,t){if(e<t)throw new r("Not enough arguments");return e},Ap}var ip,hU;function jO(){if(hU)return ip;hU=1;var r=Zo();return ip=/(?:ipad|iphone|ipod).*applewebkit/i.test(r),ip}var sp,fU;function qO(){if(fU)return sp;fU=1;var r=Ze(),e=KO(),t=oB(),n=pt(),A=yn(),i=at(),s=GO(),a=q7(),o=ph(),u=W7(),l=jO(),h=Bh(),f=r.setImmediate,d=r.clearImmediate,g=r.process,m=r.Dispatch,C=r.Function,E=r.MessageChannel,T=r.String,I=0,b={},P="onreadystatechange",Q,v,y,w;i(function(){Q=r.location});var U=function(L){if(A(b,L)){var q=b[L];delete b[L],q()}},F=function(L){return function(){U(L)}},R=function(L){U(L.data)},S=function(L){r.postMessage(T(L),Q.protocol+"//"+Q.host)};return(!f||!d)&&(f=function(q){u(arguments.length,1);var H=n(q)?q:C(q),k=a(arguments,1);return b[++I]=function(){e(H,void 0,k)},v(I),I},d=function(q){delete b[q]},h?v=function(L){g.nextTick(F(L))}:m&&m.now?v=function(L){m.now(F(L))}:E&&!l?(y=new E,w=y.port2,y.port1.onmessage=R,v=t(w.postMessage,w)):r.addEventListener&&n(r.postMessage)&&!r.importScripts&&Q&&Q.protocol!=="file:"&&!i(S)?(v=S,r.addEventListener("message",R,!1)):P in o("script")?v=function(L){s.appendChild(o("script"))[P]=function(){s.removeChild(this),U(L)}}:v=function(L){setTimeout(F(L),0)}),sp={set:f,clear:d},sp}var ap,dU;function $7(){if(dU)return ap;dU=1;var r=Ze(),e=mn(),t=Object.getOwnPropertyDescriptor;return ap=function(n){if(!e)return r[n];var A=t(r,n);return A&&A.value},ap}var op,gU;function WO(){if(gU)return op;gU=1;var r=function(){this.head=null,this.tail=null};return r.prototype={add:function(e){var t={item:e,next:null},n=this.tail;n?n.next=t:this.head=t,this.tail=t},get:function(){var e=this.head;if(e){var t=this.head=e.next;return t===null&&(this.tail=null),e.item}}},op=r,op}var up,pU;function X7(){if(pU)return up;pU=1;var r=Zo();return up=/ipad|iphone|ipod/i.test(r)&&typeof Pebble<"u",up}var lp,mU;function z7(){if(mU)return lp;mU=1;var r=Zo();return lp=/web0s(?!.*chrome)/i.test(r),lp}var cp,vU;function Y7(){if(vU)return cp;vU=1;var r=Ze(),e=$7(),t=oB(),n=qO().set,A=WO(),i=jO(),s=X7(),a=z7(),o=Bh(),u=r.MutationObserver||r.WebKitMutationObserver,l=r.document,h=r.process,f=r.Promise,d=e("queueMicrotask"),g,m,C,E,T;if(!d){var I=new A,b=function(){var P,Q;for(o&&(P=h.domain)&&P.exit();Q=I.get();)try{Q()}catch(v){throw I.head&&g(),v}P&&P.enter()};!i&&!o&&!a&&u&&l?(m=!0,C=l.createTextNode(""),new u(b).observe(C,{characterData:!0}),g=function(){C.data=m=!m}):!s&&f&&f.resolve?(E=f.resolve(void 0),E.constructor=f,T=t(E.then,E),g=function(){T(b)}):o?g=function(){h.nextTick(b)}:(n=t(n,r),g=function(){n(b)}),d=function(P){I.head||g(),I.add(P)}}return cp=d,cp}var hp,yU;function J7(){return yU||(yU=1,hp=function(r,e){try{arguments.length===1?console.error(r):console.error(r,e)}catch{}}),hp}var fp,wU;function uB(){return wU||(wU=1,fp=function(r){try{return{error:!1,value:r()}}catch(e){return{error:!0,value:e}}}),fp}var dp,BU;function tu(){if(BU)return dp;BU=1;var r=Ze();return dp=r.Promise,dp}var gp,CU;function ru(){if(CU)return gp;CU=1;var r=Ze(),e=tu(),t=pt(),n=NO(),A=rB(),i=Ot(),s=kO(),a=Rn(),o=Jw(),u=e&&e.prototype,l=i("species"),h=!1,f=t(r.PromiseRejectionEvent),d=n("Promise",function(){var g=A(e),m=g!==String(e);if(!m&&o===66||a&&!(u.catch&&u.finally))return!0;if(!o||o<51||!/native code/.test(g)){var C=new e(function(I){I(1)}),E=function(I){I(function(){},function(){})},T=C.constructor={};if(T[l]=E,h=C.then(function(){})instanceof E,!h)return!0}return!m&&(s==="BROWSER"||s==="DENO")&&!f});return gp={CONSTRUCTOR:d,REJECTION_EVENT:f,SUBCLASSING:h},gp}var pp={},EU;function nu(){if(EU)return pp;EU=1;var r=mA(),e=TypeError,t=function(n){var A,i;this.promise=new n(function(s,a){if(A!==void 0||i!==void 0)throw new e("Bad Promise constructor");A=s,i=a}),this.resolve=r(A),this.reject=r(i)};return pp.f=function(n){return new t(n)},pp}var _U;function Z7(){if(_U)return RI;_U=1;var r=pr(),e=Rn(),t=Bh(),n=Ze(),A=D7(),i=qt(),s=qi(),a=HO(),o=Ch(),u=H7(),l=mA(),h=pt(),f=Ir(),d=V7(),g=VO(),m=qO().set,C=Y7(),E=J7(),T=uB(),I=WO(),b=yh(),P=tu(),Q=ru(),v=nu(),y="Promise",w=Q.CONSTRUCTOR,U=Q.REJECTION_EVENT,F=Q.SUBCLASSING,R=b.getterFor(y),S=b.set,L=P&&P.prototype,q=P,H=L,k=n.TypeError,V=n.document,j=n.process,$=v.f,O=$,N=!!(V&&V.createEvent&&n.dispatchEvent),G="unhandledrejection",z="rejectionhandled",W=0,se=1,ne=2,Ee=1,_e=2,xe,ut,We,Ve,Pe=function(ee){var fe;return f(ee)&&h(fe=ee.then)?fe:!1},_t=function(ee,fe){var ce=fe.value,ge=fe.state===se,Te=ge?ee.ok:ee.fail,Dt=ee.resolve,$t=ee.reject,Xt=ee.domain,nt,Ur,St;try{Te?(ge||(fe.rejection===_e&&ur(fe),fe.rejection=Ee),Te===!0?nt=ce:(Xt&&Xt.enter(),nt=Te(ce),Xt&&(Xt.exit(),St=!0)),nt===ee.promise?$t(new k("Promise-chain cycle")):(Ur=Pe(nt))?i(Ur,nt,Dt,$t):Dt(nt)):$t(ce)}catch(zt){Xt&&!St&&Xt.exit(),$t(zt)}},Wt=function(ee,fe){ee.notified||(ee.notified=!0,C(function(){for(var ce=ee.reactions,ge;ge=ce.get();)_t(ge,ee);ee.notified=!1,fe&&!ee.rejection&&mr(ee)}))},Ut=function(ee,fe,ce){var ge,Te;N?(ge=V.createEvent("Event"),ge.promise=fe,ge.reason=ce,ge.initEvent(ee,!1,!0),n.dispatchEvent(ge)):ge={promise:fe,reason:ce},!U&&(Te=n["on"+ee])?Te(ge):ee===G&&E("Unhandled promise rejection",ce)},mr=function(ee){i(m,n,function(){var fe=ee.facade,ce=ee.value,ge=br(ee),Te;if(ge&&(Te=T(function(){t?j.emit("unhandledRejection",ce,fe):Ut(G,fe,ce)}),ee.rejection=t||br(ee)?_e:Ee,Te.error))throw Te.value})},br=function(ee){return ee.rejection!==Ee&&!ee.parent},ur=function(ee){i(m,n,function(){var fe=ee.facade;t?j.emit("rejectionHandled",fe):Ut(z,fe,ee.value)})},mt=function(ee,fe,ce){return function(ge){ee(fe,ge,ce)}},Ft=function(ee,fe,ce){ee.done||(ee.done=!0,ce&&(ee=ce),ee.value=fe,ee.state=ne,Wt(ee,!0))},Tt=function(ee,fe,ce){if(!ee.done){ee.done=!0,ce&&(ee=ce);try{if(ee.facade===fe)throw new k("Promise can't be resolved itself");var ge=Pe(fe);ge?C(function(){var Te={done:!1};try{i(ge,fe,mt(Tt,Te,ee),mt(Ft,Te,ee))}catch(Dt){Ft(Te,Dt,ee)}}):(ee.value=fe,ee.state=se,Wt(ee,!1))}catch(Te){Ft({done:!1},Te,ee)}}};if(w&&(q=function(fe){d(this,H),l(fe),i(xe,this);var ce=R(this);try{fe(mt(Tt,ce),mt(Ft,ce))}catch(ge){Ft(ce,ge)}},H=q.prototype,xe=function(fe){S(this,{type:y,done:!1,notified:!1,parent:!1,reactions:new I,rejection:!1,state:W,value:null})},xe.prototype=s(H,"then",function(fe,ce){var ge=R(this),Te=$(g(this,q));return ge.parent=!0,Te.ok=h(fe)?fe:!0,Te.fail=h(ce)&&ce,Te.domain=t?j.domain:void 0,ge.state===W?ge.reactions.add(Te):C(function(){_t(Te,ge)}),Te.promise}),ut=function(){var ee=new xe,fe=R(ee);this.promise=ee,this.resolve=mt(Tt,fe),this.reject=mt(Ft,fe)},v.f=$=function(ee){return ee===q||ee===We?new ut(ee):O(ee)},!e&&h(P)&&L!==Object.prototype)){Ve=L.then,F||s(L,"then",function(fe,ce){var ge=this;return new q(function(Te,Dt){i(Ve,ge,Te,Dt)}).then(fe,ce)},{unsafe:!0});try{delete L.constructor}catch{}a&&a(L,H)}return r({global:!0,constructor:!0,wrap:!0,forced:w},{Promise:q}),We=A.Promise,o(q,y,!1,!0),u(y),RI}var TU={},mp,IU;function Au(){return IU||(IU=1,mp={}),mp}var vp,bU;function eJ(){if(bU)return vp;bU=1;var r=Ot(),e=Au(),t=r("iterator"),n=Array.prototype;return vp=function(A){return A!==void 0&&(e.Array===A||n[t]===A)},vp}var yp,UU;function $O(){if(UU)return yp;UU=1;var r=aB(),e=$s(),t=hh(),n=Au(),A=Ot(),i=A("iterator");return yp=function(s){if(!t(s))return e(s,i)||e(s,"@@iterator")||n[r(s)]},yp}var wp,FU;function tJ(){if(FU)return wp;FU=1;var r=qt(),e=mA(),t=gr(),n=dh(),A=$O(),i=TypeError;return wp=function(s,a){var o=arguments.length<2?A(s):a;if(e(o))return t(r(o,s));throw new i(n(s)+" is not iterable")},wp}var Bp,SU;function rJ(){if(SU)return Bp;SU=1;var r=qt(),e=gr(),t=$s();return Bp=function(n,A,i){var s,a;e(n);try{if(s=t(n,"return"),!s){if(A==="throw")throw i;return i}s=r(s,n)}catch(o){a=!0,s=o}if(A==="throw")throw i;if(a)throw s;return e(s),i},Bp}var Cp,QU;function XO(){if(QU)return Cp;QU=1;var r=oB(),e=qt(),t=gr(),n=dh(),A=eJ(),i=iB(),s=fh(),a=tJ(),o=$O(),u=rJ(),l=TypeError,h=function(d,g){this.stopped=d,this.result=g},f=h.prototype;return Cp=function(d,g,m){var C=m&&m.that,E=!!(m&&m.AS_ENTRIES),T=!!(m&&m.IS_RECORD),I=!!(m&&m.IS_ITERATOR),b=!!(m&&m.INTERRUPTED),P=r(g,C),Q,v,y,w,U,F,R,S=function(q){return Q&&u(Q,"normal"),new h(!0,q)},L=function(q){return E?(t(q),b?P(q[0],q[1],S):P(q[0],q[1])):b?P(q,S):P(q)};if(T)Q=d.iterator;else if(I)Q=d;else{if(v=o(d),!v)throw new l(n(d)+" is not iterable");if(A(v)){for(y=0,w=i(d);w>y;y++)if(U=L(d[y]),U&&s(f,U))return U;return new h(!1)}Q=a(d,v)}for(F=T?d.next:Q.next;!(R=e(F,Q)).done;){try{U=L(R.value)}catch(q){u(Q,"throw",q)}if(typeof U=="object"&&U&&s(f,U))return U}return new h(!1)},Cp}var Ep,RU;function nJ(){if(RU)return Ep;RU=1;var r=Ot(),e=r("iterator"),t=!1;try{var n=0,A={next:function(){return{done:!!n++}},return:function(){t=!0}};A[e]=function(){return this},Array.from(A,function(){throw 2})}catch{}return Ep=function(i,s){try{if(!s&&!t)return!1}catch{return!1}var a=!1;try{var o={};o[e]=function(){return{next:function(){return{done:a=!0}}}},i(o)}catch{}return a},Ep}var _p,xU;function zO(){if(xU)return _p;xU=1;var r=tu(),e=nJ(),t=ru().CONSTRUCTOR;return _p=t||!e(function(n){r.all(n).then(void 0,function(){})}),_p}var PU;function AJ(){if(PU)return TU;PU=1;var r=pr(),e=qt(),t=mA(),n=nu(),A=uB(),i=XO(),s=zO();return r({target:"Promise",stat:!0,forced:s},{all:function(o){var u=this,l=n.f(u),h=l.resolve,f=l.reject,d=A(function(){var g=t(u.resolve),m=[],C=0,E=1;i(o,function(T){var I=C++,b=!1;E++,e(g,u,T).then(function(P){b||(b=!0,m[I]=P,--E||h(m))},f)}),--E||h(m)});return d.error&&f(d.value),l.promise}}),TU}var OU={},DU;function iJ(){if(DU)return OU;DU=1;var r=pr(),e=Rn(),t=ru().CONSTRUCTOR,n=tu(),A=ji(),i=pt(),s=qi(),a=n&&n.prototype;if(r({target:"Promise",proto:!0,forced:t,real:!0},{catch:function(u){return this.then(void 0,u)}}),!e&&i(n)){var o=A("Promise").prototype.catch;a.catch!==o&&s(a,"catch",o,{unsafe:!0})}return OU}var LU={},MU;function sJ(){if(MU)return LU;MU=1;var r=pr(),e=qt(),t=mA(),n=nu(),A=uB(),i=XO(),s=zO();return r({target:"Promise",stat:!0,forced:s},{race:function(o){var u=this,l=n.f(u),h=l.reject,f=A(function(){var d=t(u.resolve);i(o,function(g){e(d,u,g).then(l.resolve,h)})});return f.error&&h(f.value),l.promise}}),LU}var NU={},kU;function aJ(){if(kU)return NU;kU=1;var r=pr(),e=nu(),t=ru().CONSTRUCTOR;return r({target:"Promise",stat:!0,forced:t},{reject:function(A){var i=e.f(this),s=i.reject;return s(A),i.promise}}),NU}var HU={},Tp,VU;function oJ(){if(VU)return Tp;VU=1;var r=gr(),e=Ir(),t=nu();return Tp=function(n,A){if(r(n),e(A)&&A.constructor===n)return A;var i=t.f(n),s=i.resolve;return s(A),i.promise},Tp}var KU;function uJ(){if(KU)return HU;KU=1;var r=pr(),e=ji(),t=Rn(),n=tu(),A=ru().CONSTRUCTOR,i=oJ(),s=e("Promise"),a=t&&!A;return r({target:"Promise",stat:!0,forced:t||A},{resolve:function(u){return i(a&&this===s?n:this,u)}}),HU}var GU;function lJ(){return GU||(GU=1,Z7(),AJ(),iJ(),sJ(),aJ(),uJ()),QI}lJ();function jU(r,e,t,n,A,i,s){try{var a=r[i](s),o=a.value}catch(u){return void t(u)}a.done?e(o):Promise.resolve(o).then(n,A)}function fA(r){return function(){var e=this,t=arguments;return new Promise(function(n,A){var i=r.apply(e,t);function s(o){jU(i,n,A,s,a,"next",o)}function a(o){jU(i,n,A,s,a,"throw",o)}s(void 0)})}}var qU={},WU={},Ip,$U;function xn(){if($U)return Ip;$U=1;var r=aB(),e=String;return Ip=function(t){if(r(t)==="Symbol")throw new TypeError("Cannot convert a Symbol value to a string");return e(t)},Ip}var bp,XU;function YO(){if(XU)return bp;XU=1;var r=gr();return bp=function(){var e=r(this),t="";return e.hasIndices&&(t+="d"),e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.unicodeSets&&(t+="v"),e.sticky&&(t+="y"),t},bp}var Up,zU;function JO(){if(zU)return Up;zU=1;var r=at(),e=Ze(),t=e.RegExp,n=r(function(){var s=t("a","y");return s.lastIndex=2,s.exec("abcd")!==null}),A=n||r(function(){return!t("a","y").sticky}),i=n||r(function(){var s=t("^r","gy");return s.lastIndex=2,s.exec("str")!==null});return Up={BROKEN_CARET:i,MISSED_STICKY:A,UNSUPPORTED_Y:n},Up}var Fp={},Sp,YU;function cJ(){if(YU)return Sp;YU=1;var r=MO(),e=sB();return Sp=Object.keys||function(n){return r(n,e)},Sp}var JU;function hJ(){if(JU)return Fp;JU=1;var r=mn(),e=OO(),t=ti(),n=gr(),A=Jo(),i=cJ();return Fp.f=r&&!e?Object.defineProperties:function(a,o){n(a);for(var u=A(o),l=i(o),h=l.length,f=0,d;h>f;)t.f(a,d=l[f++],u[d]);return a},Fp}var Qp,ZU;function _h(){if(ZU)return Qp;ZU=1;var r=gr(),e=hJ(),t=sB(),n=AB(),A=GO(),i=ph(),s=nB(),a=">",o="<",u="prototype",l="script",h=s("IE_PROTO"),f=function(){},d=function(T){return o+l+a+T+o+"/"+l+a},g=function(T){T.write(d("")),T.close();var I=T.parentWindow.Object;return T=null,I},m=function(){var T=i("iframe"),I="java"+l+":",b;return T.style.display="none",A.appendChild(T),T.src=String(I),b=T.contentWindow.document,b.open(),b.write(d("document.F=Object")),b.close(),b.F},C,E=function(){try{C=new ActiveXObject("htmlfile")}catch{}E=typeof document<"u"?document.domain&&C?g(C):m():g(C);for(var T=t.length;T--;)delete E[u][t[T]];return E()};return n[h]=!0,Qp=Object.create||function(I,b){var P;return I!==null?(f[u]=r(I),P=new f,f[u]=null,P[h]=I):P=E(),b===void 0?P:e.f(P,b)},Qp}var Rp,eF;function fJ(){if(eF)return Rp;eF=1;var r=at(),e=Ze(),t=e.RegExp;return Rp=r(function(){var n=t(".","s");return!(n.dotAll&&n.test(`
`)&&n.flags==="s")}),Rp}var xp,tF;function dJ(){if(tF)return xp;tF=1;var r=at(),e=Ze(),t=e.RegExp;return xp=r(function(){var n=t("(?<a>b)","g");return n.exec("b").groups.a!=="b"||"b".replace(n,"$<a>c")!=="bc"}),xp}var Pp,rF;function lB(){if(rF)return Pp;rF=1;var r=qt(),e=ot(),t=xn(),n=YO(),A=JO(),i=tB(),s=_h(),a=yh().get,o=fJ(),u=dJ(),l=i("native-string-replace",String.prototype.replace),h=RegExp.prototype.exec,f=h,d=e("".charAt),g=e("".indexOf),m=e("".replace),C=e("".slice),E=(function(){var P=/a/,Q=/b*/g;return r(h,P,"a"),r(h,Q,"a"),P.lastIndex!==0||Q.lastIndex!==0})(),T=A.BROKEN_CARET,I=/()??/.exec("")[1]!==void 0,b=E||I||T||o||u;return b&&(f=function(Q){var v=this,y=a(v),w=t(Q),U=y.raw,F,R,S,L,q,H,k;if(U)return U.lastIndex=v.lastIndex,F=r(f,U,w),v.lastIndex=U.lastIndex,F;var V=y.groups,j=T&&v.sticky,$=r(n,v),O=v.source,N=0,G=w;if(j&&($=m($,"y",""),g($,"g")===-1&&($+="g"),G=C(w,v.lastIndex),v.lastIndex>0&&(!v.multiline||v.multiline&&d(w,v.lastIndex-1)!==`
`)&&(O="(?: "+O+")",G=" "+G,N++),R=new RegExp("^(?:"+O+")",$)),I&&(R=new RegExp("^"+O+"$(?!\\s)",$)),E&&(S=v.lastIndex),L=r(h,j?R:v,G),j?L?(L.input=C(L.input,N),L[0]=C(L[0],N),L.index=v.lastIndex,v.lastIndex+=L[0].length):v.lastIndex=0:E&&L&&(v.lastIndex=v.global?L.index+L[0].length:S),I&&L&&L.length>1&&r(l,L[0],R,function(){for(q=1;q<arguments.length-2;q++)arguments[q]===void 0&&(L[q]=void 0)}),L&&V)for(L.groups=H=s(null),q=0;q<V.length;q++)k=V[q],H[k[0]]=L[k[1]];return L}),Pp=f,Pp}var nF;function gJ(){if(nF)return WU;nF=1;var r=pr(),e=lB();return r({target:"RegExp",proto:!0,forced:/./.exec!==e},{exec:e}),WU}var Op,AF;function cB(){if(AF)return Op;AF=1,gJ();var r=qt(),e=qi(),t=lB(),n=at(),A=Ot(),i=eu(),s=A("species"),a=RegExp.prototype;return Op=function(o,u,l,h){var f=A(o),d=!n(function(){var E={};return E[f]=function(){return 7},""[o](E)!==7}),g=d&&!n(function(){var E=!1,T=/a/;return o==="split"&&(T={},T.constructor={},T.constructor[s]=function(){return T},T.flags="",T[f]=/./[f]),T.exec=function(){return E=!0,null},T[f](""),!E});if(!d||!g||l){var m=/./[f],C=u(f,""[o],function(E,T,I,b,P){var Q=T.exec;return Q===t||Q===a.exec?d&&!P?{done:!0,value:r(m,T,I,b)}:{done:!0,value:r(E,I,T,b)}:{done:!1}});e(String.prototype,o,C[0]),e(a,f,C[1])}h&&i(a[f],"sham",!0)},Op}var Dp,iF;function pJ(){if(iF)return Dp;iF=1;var r=ot(),e=wh(),t=xn(),n=vn(),A=r("".charAt),i=r("".charCodeAt),s=r("".slice),a=function(o){return function(u,l){var h=t(n(u)),f=e(l),d=h.length,g,m;return f<0||f>=d?o?"":void 0:(g=i(h,f),g<55296||g>56319||f+1===d||(m=i(h,f+1))<56320||m>57343?o?A(h,f):g:o?s(h,f,f+2):(g-55296<<10)+(m-56320)+65536)}};return Dp={codeAt:a(!1),charAt:a(!0)},Dp}var Lp,sF;function hB(){if(sF)return Lp;sF=1;var r=pJ().charAt;return Lp=function(e,t,n){return t+(n?r(e,t).length:1)},Lp}var Mp,aF;function mJ(){if(aF)return Mp;aF=1;var r=Ze(),e=at(),t=r.RegExp,n=!e(function(){var A=!0;try{t(".","d")}catch{A=!1}var i={},s="",a=A?"dgimsy":"gimsy",o=function(f,d){Object.defineProperty(i,f,{get:function(){return s+=d,!0}})},u={dotAll:"s",global:"g",ignoreCase:"i",multiline:"m",sticky:"y"};A&&(u.hasIndices="d");for(var l in u)o(l,u[l]);var h=Object.getOwnPropertyDescriptor(t.prototype,"flags").get.call(i);return h!==a||s!==a});return Mp={correct:n},Mp}var Np,oF;function fB(){if(oF)return Np;oF=1;var r=qt(),e=yn(),t=fh(),n=mJ(),A=YO(),i=RegExp.prototype;return Np=n.correct?function(s){return s.flags}:function(s){return!n.correct&&t(i,s)&&!e(s,"flags")?r(A,s):s.flags},Np}var kp,uF;function dB(){if(uF)return kp;uF=1;var r=qt(),e=gr(),t=pt(),n=Gi(),A=lB(),i=TypeError;return kp=function(s,a){var o=s.exec;if(t(o)){var u=r(o,s,a);return u!==null&&e(u),u}if(n(s)==="RegExp")return r(A,s,a);throw new i("RegExp#exec called on incompatible receiver")},kp}var lF;function vJ(){if(lF)return qU;lF=1;var r=qt(),e=ot(),t=cB(),n=gr(),A=Ir(),i=Xs(),s=xn(),a=vn(),o=$s(),u=hB(),l=fB(),h=dB(),f=e("".indexOf);return t("match",function(d,g,m){return[function(E){var T=a(this),I=A(E)?o(E,d):void 0;return I?r(I,E,T):new RegExp(E)[d](s(T))},function(C){var E=n(this),T=s(C),I=m(g,E,T);if(I.done)return I.value;var b=s(l(E));if(f(b,"g")===-1)return h(E,T);var P=f(b,"u")!==-1;E.lastIndex=0;for(var Q=[],v=0,y;(y=h(E,T))!==null;){var w=s(y[0]);Q[v]=w,w===""&&(E.lastIndex=u(T,i(E.lastIndex),P)),v++}return v===0?null:Q}]}),qU}vJ();var cF={},Hp,hF;function yJ(){if(hF)return Hp;hF=1;var r=ot(),e=gh(),t=Math.floor,n=r("".charAt),A=r("".replace),i=r("".slice),s=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,a=/\$([$&'`]|\d{1,2})/g;return Hp=function(o,u,l,h,f,d){var g=l+o.length,m=h.length,C=a;return f!==void 0&&(f=e(f),C=s),A(d,C,function(E,T){var I;switch(n(T,0)){case"$":return"$";case"&":return o;case"`":return i(u,0,l);case"'":return i(u,g);case"<":I=f[i(T,1,-1)];break;default:var b=+T;if(b===0)return E;if(b>m){var P=t(b/10);return P===0?E:P<=m?h[P-1]===void 0?n(T,1):h[P-1]+n(T,1):E}I=h[b-1]}return I===void 0?"":I})},Hp}var fF;function wJ(){if(fF)return cF;fF=1;var r=KO(),e=qt(),t=ot(),n=cB(),A=at(),i=gr(),s=pt(),a=Ir(),o=wh(),u=Xs(),l=xn(),h=vn(),f=hB(),d=$s(),g=yJ(),m=fB(),C=dB(),E=Ot(),T=E("replace"),I=Math.max,b=Math.min,P=t([].concat),Q=t([].push),v=t("".indexOf),y=t("".slice),w=function(S){return S===void 0?S:String(S)},U=(function(){return"a".replace(/./,"$0")==="$0"})(),F=(function(){return/./[T]?/./[T]("a","$0")==="":!1})(),R=!A(function(){var S=/./;return S.exec=function(){var L=[];return L.groups={a:"7"},L},"".replace(S,"$<a>")!=="7"});return n("replace",function(S,L,q){var H=F?"$":"$0";return[function(V,j){var $=h(this),O=a(V)?d(V,T):void 0;return O?e(O,V,$,j):e(L,l($),V,j)},function(k,V){var j=i(this),$=l(k);if(typeof V=="string"&&v(V,H)===-1&&v(V,"$<")===-1){var O=q(L,j,$,V);if(O.done)return O.value}var N=s(V);N||(V=l(V));var G=l(m(j)),z=v(G,"g")!==-1,W;z&&(W=v(G,"u")!==-1,j.lastIndex=0);for(var se=[],ne;ne=C(j,$),!(ne===null||(Q(se,ne),!z));){var Ee=l(ne[0]);Ee===""&&(j.lastIndex=f($,u(j.lastIndex),W))}for(var _e="",xe=0,ut=0;ut<se.length;ut++){ne=se[ut];for(var We=l(ne[0]),Ve=I(b(o(ne.index),$.length),0),Pe=[],_t,Wt=1;Wt<ne.length;Wt++)Q(Pe,w(ne[Wt]));var Ut=ne.groups;if(N){var mr=P([We],Pe,Ve,$);Ut!==void 0&&Q(mr,Ut),_t=l(r(V,void 0,mr))}else _t=g(We,$,Ve,Pe,Ut,V);Ve>=xe&&(_e+=y($,xe,Ve)+_t,xe=Ve+We.length)}return _e+y($,xe)}]},!R||!U||F),cF}wJ();var dF={},Vp,gF;function BJ(){if(gF)return Vp;gF=1;var r=Ir(),e=Gi(),t=Ot(),n=t("match");return Vp=function(A){var i;return r(A)&&((i=A[n])!==void 0?!!i:e(A)==="RegExp")},Vp}var Kp,pF;function gB(){if(pF)return Kp;pF=1;var r=BJ(),e=TypeError;return Kp=function(t){if(r(t))throw new e("The method doesn't accept regular expressions");return t},Kp}var Gp,mF;function pB(){if(mF)return Gp;mF=1;var r=Ot(),e=r("match");return Gp=function(t){var n=/./;try{"/./"[t](n)}catch{try{return n[e]=!1,"/./"[t](n)}catch{}}return!1},Gp}var vF;function CJ(){if(vF)return dF;vF=1;var r=pr(),e=Eh(),t=mh().f,n=Xs(),A=xn(),i=gB(),s=vn(),a=pB(),o=Rn(),u=e("".slice),l=Math.min,h=a("startsWith"),f=!o&&!h&&!!(function(){var d=t(String.prototype,"startsWith");return d&&!d.writable})();return r({target:"String",proto:!0,forced:!f&&!h},{startsWith:function(g){var m=A(s(this));i(g);var C=n(l(arguments.length>1?arguments[1]:void 0,m.length)),E=A(g);return u(m,C,C+E.length)===E}}),dF}CJ();var jp,yF;function EJ(){if(yF)return jp;yF=1;var r=Ot(),e=_h(),t=ti().f,n=r("unscopables"),A=Array.prototype;return A[n]===void 0&&t(A,n,{configurable:!0,value:e(null)}),jp=function(i){A[n][i]=!0},jp}var qp,wF;function _J(){if(wF)return qp;wF=1;var r=at();return qp=!r(function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}),qp}var Wp,BF;function ZO(){if(BF)return Wp;BF=1;var r=yn(),e=pt(),t=gh(),n=nB(),A=_J(),i=n("IE_PROTO"),s=Object,a=s.prototype;return Wp=A?s.getPrototypeOf:function(o){var u=t(o);if(r(u,i))return u[i];var l=u.constructor;return e(l)&&u instanceof l?l.prototype:u instanceof s?a:null},Wp}var $p,CF;function eD(){if(CF)return $p;CF=1;var r=at(),e=pt(),t=Ir(),n=_h(),A=ZO(),i=qi(),s=Ot(),a=Rn(),o=s("iterator"),u=!1,l,h,f;[].keys&&(f=[].keys(),"next"in f?(h=A(A(f)),h!==Object.prototype&&(l=h)):u=!0);var d=!t(l)||r(function(){var g={};return l[o].call(g)!==g});return d?l={}:a&&(l=n(l)),e(l[o])||i(l,o,function(){return this}),$p={IteratorPrototype:l,BUGGY_SAFARI_ITERATORS:u},$p}var Xp,EF;function TJ(){if(EF)return Xp;EF=1;var r=eD().IteratorPrototype,e=_h(),t=Yw(),n=Ch(),A=Au(),i=function(){return this};return Xp=function(s,a,o,u){var l=a+" Iterator";return s.prototype=e(r,{next:t(+!u,o)}),n(s,l,!1,!0),A[l]=i,s},Xp}var zp,_F;function IJ(){if(_F)return zp;_F=1;var r=pr(),e=qt(),t=Rn(),n=vh(),A=pt(),i=TJ(),s=ZO(),a=HO(),o=Ch(),u=eu(),l=qi(),h=Ot(),f=Au(),d=eD(),g=n.PROPER,m=n.CONFIGURABLE,C=d.IteratorPrototype,E=d.BUGGY_SAFARI_ITERATORS,T=h("iterator"),I="keys",b="values",P="entries",Q=function(){return this};return zp=function(v,y,w,U,F,R,S){i(w,y,U);var L=function(z){if(z===F&&j)return j;if(!E&&z&&z in k)return k[z];switch(z){case I:return function(){return new w(this,z)};case b:return function(){return new w(this,z)};case P:return function(){return new w(this,z)}}return function(){return new w(this)}},q=y+" Iterator",H=!1,k=v.prototype,V=k[T]||k["@@iterator"]||F&&k[F],j=!E&&V||L(F),$=y==="Array"&&k.entries||V,O,N,G;if($&&(O=s($.call(new v)),O!==Object.prototype&&O.next&&(!t&&s(O)!==C&&(a?a(O,C):A(O[T])||l(O,T,Q)),o(O,q,!0,!0),t&&(f[q]=Q))),g&&F===b&&V&&V.name!==b&&(!t&&m?u(k,"name",b):(H=!0,j=function(){return e(V,this)})),F)if(N={values:L(b),keys:R?j:L(I),entries:L(P)},S)for(G in N)(E||H||!(G in k))&&l(k,G,N[G]);else r({target:y,proto:!0,forced:E||H},N);return(!t||S)&&k[T]!==j&&l(k,T,j,{name:F}),f[y]=j,N},zp}var Yp,TF;function bJ(){return TF||(TF=1,Yp=function(r,e){return{value:r,done:e}}),Yp}var Jp,IF;function tD(){if(IF)return Jp;IF=1;var r=Jo(),e=EJ(),t=Au(),n=yh(),A=ti().f,i=IJ(),s=bJ(),a=Rn(),o=mn(),u="Array Iterator",l=n.set,h=n.getterFor(u);Jp=i(Array,"Array",function(d,g){l(this,{type:u,target:r(d),index:0,kind:g})},function(){var d=h(this),g=d.target,m=d.index++;if(!g||m>=g.length)return d.target=null,s(void 0,!0);switch(d.kind){case"keys":return s(m,!1);case"values":return s(g[m],!1)}return s([m,g[m]],!1)},"values");var f=t.Arguments=t.Array;if(e("keys"),e("values"),e("entries"),!a&&o&&f.name!=="values")try{A(f,"name",{value:"values"})}catch{}return Jp}tD();var bF={},Zp,UF;function UJ(){return UF||(UF=1,Zp={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}),Zp}var em,FF;function FJ(){if(FF)return em;FF=1;var r=ph(),e=r("span").classList,t=e&&e.constructor&&e.constructor.prototype;return em=t===Object.prototype?void 0:t,em}var SF;function SJ(){if(SF)return bF;SF=1;var r=Ze(),e=UJ(),t=FJ(),n=tD(),A=eu(),i=Ch(),s=Ot(),a=s("iterator"),o=n.values,u=function(h,f){if(h){if(h[a]!==o)try{A(h,a,o)}catch{h[a]=o}if(i(h,f,!0),e[f]){for(var d in n)if(h[d]!==n[d])try{A(h,d,n[d])}catch{h[d]=n[d]}}}};for(var l in e)u(r[l]&&r[l].prototype,l);return u(t,"DOMTokenList"),bF}SJ();function QJ(r,e){if(_o(r)!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(_o(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function RJ(r){var e=QJ(r,"string");return _o(e)=="symbol"?e:e+""}function mB(r,e,t){return(e=RJ(e))in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}var QF={},tm,RF;function xJ(){if(RF)return tm;RF=1;var r=mA(),e=gh(),t=UO(),n=iB(),A=TypeError,i="Reduce of empty array with no initial value",s=function(a){return function(o,u,l,h){var f=e(o),d=t(f),g=n(f);if(r(u),g===0&&l<2)throw new A(i);var m=a?g-1:0,C=a?-1:1;if(l<2)for(;;){if(m in d){h=d[m],m+=C;break}if(m+=C,a?m<0:g<=m)throw new A(i)}for(;a?m>=0:g>m;m+=C)m in d&&(h=u(h,d[m],m,f));return h}};return tm={left:s(!1),right:s(!0)},tm}var rm,xF;function rD(){if(xF)return rm;xF=1;var r=at();return rm=function(e,t){var n=[][e];return!!n&&r(function(){n.call(null,t||function(){return 1},1)})},rm}var PF;function PJ(){if(PF)return QF;PF=1;var r=pr(),e=xJ().left,t=rD(),n=Jw(),A=Bh(),i=!A&&n>79&&n<83,s=i||!t("reduce");return r({target:"Array",proto:!0,forced:s},{reduce:function(o){var u=arguments.length;return e(this,o,u,u>1?arguments[1]:void 0)}}),QF}PJ();var OF={},DF;function OJ(){if(DF)return OF;DF=1;var r=pr(),e=Eh(),t=mh().f,n=Xs(),A=xn(),i=gB(),s=vn(),a=pB(),o=Rn(),u=e("".slice),l=Math.min,h=a("endsWith"),f=!o&&!h&&!!(function(){var d=t(String.prototype,"endsWith");return d&&!d.writable})();return r({target:"String",proto:!0,forced:!f&&!h},{endsWith:function(g){var m=A(s(this));i(g);var C=arguments.length>1?arguments[1]:void 0,E=m.length,T=C===void 0?E:l(n(C),E),I=A(g);return u(m,T-I.length,T)===I}}),OF}OJ();var LF={},MF;function DJ(){if(MF)return LF;MF=1;var r=qt(),e=ot(),t=cB(),n=gr(),A=Ir(),i=vn(),s=VO(),a=hB(),o=Xs(),u=xn(),l=$s(),h=dB(),f=JO(),d=at(),g=f.UNSUPPORTED_Y,m=4294967295,C=Math.min,E=e([].push),T=e("".slice),I=!d(function(){var P=/(?:)/,Q=P.exec;P.exec=function(){return Q.apply(this,arguments)};var v="ab".split(P);return v.length!==2||v[0]!=="a"||v[1]!=="b"}),b="abbc".split(/(b)*/)[1]==="c"||"test".split(/(?:)/,-1).length!==4||"ab".split(/(?:ab)*/).length!==2||".".split(/(.?)(.?)/).length!==4||".".split(/()()/).length>1||"".split(/.?/).length;return t("split",function(P,Q,v){var y="0".split(void 0,0).length?function(w,U){return w===void 0&&U===0?[]:r(Q,this,w,U)}:Q;return[function(U,F){var R=i(this),S=A(U)?l(U,P):void 0;return S?r(S,U,R,F):r(y,u(R),U,F)},function(w,U){var F=n(this),R=u(w);if(!b){var S=v(y,F,R,U,y!==Q);if(S.done)return S.value}var L=s(F,RegExp),q=F.unicode,H=(F.ignoreCase?"i":"")+(F.multiline?"m":"")+(F.unicode?"u":"")+(g?"g":"y"),k=new L(g?"^(?:"+F.source+")":F,H),V=U===void 0?m:U>>>0;if(V===0)return[];if(R.length===0)return h(k,R)===null?[R]:[];for(var j=0,$=0,O=[];$<R.length;){k.lastIndex=g?0:$;var N=h(k,g?T(R,$):R),G;if(N===null||(G=C(o(k.lastIndex+(g?$:0)),R.length))===j)$=a(R,$,q);else{if(E(O,T(R,j,$)),O.length===V)return O;for(var z=1;z<=N.length-1;z++)if(E(O,N[z]),O.length===V)return O;$=j=G}}return E(O,T(R,j)),O}]},b||!I,g),LF}DJ();var ba={exports:{}},fi={exports:{}},LJ=fi.exports,NF;function MJ(){return NF||(NF=1,(function(){var r,e,t,n,A,i;typeof performance<"u"&&performance!==null&&performance.now?fi.exports=function(){return performance.now()}:typeof process<"u"&&process!==null&&process.hrtime?(fi.exports=function(){return(r()-A)/1e6},e=process.hrtime,r=function(){var s;return s=e(),s[0]*1e9+s[1]},n=r(),i=process.uptime()*1e9,A=n-i):Date.now?(fi.exports=function(){return Date.now()-t},t=Date.now()):(fi.exports=function(){return new Date().getTime()-t},t=new Date().getTime())}).call(LJ)),fi.exports}var kF;function NJ(){if(kF)return ba.exports;kF=1;for(var r=MJ(),e=typeof window>"u"?gi:window,t=["moz","webkit"],n="AnimationFrame",A=e["request"+n],i=e["cancel"+n]||e["cancelRequest"+n],s=0;!A&&s<t.length;s++)A=e[t[s]+"Request"+n],i=e[t[s]+"Cancel"+n]||e[t[s]+"CancelRequest"+n];if(!A||!i){var a=0,o=0,u=[],l=1e3/60;A=function(h){if(u.length===0){var f=r(),d=Math.max(0,l-(f-a));a=d+f,setTimeout(function(){var g=u.slice(0);u.length=0;for(var m=0;m<g.length;m++)if(!g[m].cancelled)try{g[m].callback(a)}catch(C){setTimeout(function(){throw C},0)}},Math.round(d))}return u.push({handle:++o,callback:h,cancelled:!1}),o},i=function(h){for(var f=0;f<u.length;f++)u[f].handle===h&&(u[f].cancelled=!0)}}return ba.exports=function(h){return A.call(e,h)},ba.exports.cancel=function(){i.apply(e,arguments)},ba.exports.polyfill=function(h){h||(h=e),h.requestAnimationFrame=A,h.cancelAnimationFrame=i},ba.exports}var kJ=NJ();const nm=So(kJ);var HF={},Am,VF;function nD(){return VF||(VF=1,Am=`	
\v\f\r \u2028\u2029\uFEFF`),Am}var im,KF;function HJ(){if(KF)return im;KF=1;var r=ot(),e=vn(),t=xn(),n=nD(),A=r("".replace),i=RegExp("^["+n+"]+"),s=RegExp("(^|[^"+n+"])["+n+"]+$"),a=function(o){return function(u){var l=t(e(u));return o&1&&(l=A(l,i,"")),o&2&&(l=A(l,s,"$1")),l}};return im={start:a(1),end:a(2),trim:a(3)},im}var sm,GF;function VJ(){if(GF)return sm;GF=1;var r=vh().PROPER,e=at(),t=nD(),n="";return sm=function(A){return e(function(){return!!t[A]()||n[A]()!==n||r&&t[A].name!==A})},sm}var jF;function KJ(){if(jF)return HF;jF=1;var r=pr(),e=HJ().trim,t=VJ();return r({target:"String",proto:!0,forced:t("trim")},{trim:function(){return e(this)}}),HF}KJ();var am,qF;function GJ(){return qF||(qF=1,am=function(r){this.ok=!1,this.alpha=1,r.charAt(0)=="#"&&(r=r.substr(1,6)),r=r.replace(/ /g,""),r=r.toLowerCase();var e={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"};r=e[r]||r;for(var t=[{re:/^rgba\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3}),\s*((?:\d?\.)?\d)\)$/,example:["rgba(123, 234, 45, 0.8)","rgba(255,234,245,1.0)"],process:function(o){return[parseInt(o[1]),parseInt(o[2]),parseInt(o[3]),parseFloat(o[4])]}},{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(o){return[parseInt(o[1]),parseInt(o[2]),parseInt(o[3])]}},{re:/^([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,example:["#00ff00","336699"],process:function(o){return[parseInt(o[1],16),parseInt(o[2],16),parseInt(o[3],16)]}},{re:/^([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,example:["#fb0","f0f"],process:function(o){return[parseInt(o[1]+o[1],16),parseInt(o[2]+o[2],16),parseInt(o[3]+o[3],16)]}}],n=0;n<t.length;n++){var A=t[n].re,i=t[n].process,s=A.exec(r);if(s){var a=i(s);this.r=a[0],this.g=a[1],this.b=a[2],a.length>3&&(this.alpha=a[3]),this.ok=!0}}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.alpha=this.alpha<0?0:this.alpha>1||isNaN(this.alpha)?1:this.alpha,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toRGBA=function(){return"rgba("+this.r+", "+this.g+", "+this.b+", "+this.alpha+")"},this.toHex=function(){var o=this.r.toString(16),u=this.g.toString(16),l=this.b.toString(16);return o.length==1&&(o="0"+o),u.length==1&&(u="0"+u),l.length==1&&(l="0"+l),"#"+o+u+l},this.getHelpXML=function(){for(var o=new Array,u=0;u<t.length;u++)for(var l=t[u].example,h=0;h<l.length;h++)o[o.length]=l[h];for(var f in e)o[o.length]=f;var d=document.createElement("ul");d.setAttribute("id","rgbcolor-examples");for(var u=0;u<o.length;u++)try{var g=document.createElement("li"),m=new RGBColor(o[u]),C=document.createElement("div");C.style.cssText="margin: 3px; border: 1px solid black; background:"+m.toHex()+"; color:"+m.toHex(),C.appendChild(document.createTextNode("test"));var E=document.createTextNode(" "+o[u]+" -> "+m.toRGB()+" -> "+m.toHex());g.appendChild(C),g.appendChild(E),d.appendChild(g)}catch{}return d}}),am}var jJ=GJ();const Mv=So(jJ);var WF={},$F;function qJ(){if($F)return WF;$F=1;var r=pr(),e=Eh(),t=LO().indexOf,n=rD(),A=e([].indexOf),i=!!A&&1/A([1],1,-0)<0,s=i||!n("indexOf");return r({target:"Array",proto:!0,forced:s},{indexOf:function(o){var u=arguments.length>1?arguments[1]:void 0;return i?A(this,o,u)||0:t(this,o,u)}}),WF}qJ();var XF={},zF;function WJ(){if(zF)return XF;zF=1;var r=pr(),e=ot(),t=gB(),n=vn(),A=xn(),i=pB(),s=e("".indexOf);return r({target:"String",proto:!0,forced:!i("includes")},{includes:function(o){return!!~s(A(n(this)),A(t(o)),arguments.length>1?arguments[1]:void 0)}}),XF}WJ();var YF={},om,JF;function $J(){if(JF)return om;JF=1;var r=Gi();return om=Array.isArray||function(t){return r(t)==="Array"},om}var ZF;function XJ(){if(ZF)return YF;ZF=1;var r=pr(),e=ot(),t=$J(),n=e([].reverse),A=[1,2];return r({target:"Array",proto:!0,forced:String(A)===String(A.reverse())},{reverse:function(){return t(this)&&(this.length=this.length),n(this)}}),YF}XJ();/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var AD=function(r,e){return(AD=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var A in n)Object.prototype.hasOwnProperty.call(n,A)&&(t[A]=n[A])})(r,e)};function iD(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function t(){this.constructor=r}AD(r,e),r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}function zJ(r){var e="";Array.isArray(r)||(r=[r]);for(var t=0;t<r.length;t++){var n=r[t];if(n.type===Y.CLOSE_PATH)e+="z";else if(n.type===Y.HORIZ_LINE_TO)e+=(n.relative?"h":"H")+n.x;else if(n.type===Y.VERT_LINE_TO)e+=(n.relative?"v":"V")+n.y;else if(n.type===Y.MOVE_TO)e+=(n.relative?"m":"M")+n.x+" "+n.y;else if(n.type===Y.LINE_TO)e+=(n.relative?"l":"L")+n.x+" "+n.y;else if(n.type===Y.CURVE_TO)e+=(n.relative?"c":"C")+n.x1+" "+n.y1+" "+n.x2+" "+n.y2+" "+n.x+" "+n.y;else if(n.type===Y.SMOOTH_CURVE_TO)e+=(n.relative?"s":"S")+n.x2+" "+n.y2+" "+n.x+" "+n.y;else if(n.type===Y.QUAD_TO)e+=(n.relative?"q":"Q")+n.x1+" "+n.y1+" "+n.x+" "+n.y;else if(n.type===Y.SMOOTH_QUAD_TO)e+=(n.relative?"t":"T")+n.x+" "+n.y;else{if(n.type!==Y.ARC)throw new Error('Unexpected command type "'+n.type+'" at index '+t+".");e+=(n.relative?"a":"A")+n.rX+" "+n.rY+" "+n.xRot+" "+ +n.lArcFlag+" "+ +n.sweepFlag+" "+n.x+" "+n.y}}return e}function Nv(r,e){var t=r[0],n=r[1];return[t*Math.cos(e)-n*Math.sin(e),t*Math.sin(e)+n*Math.cos(e)]}function an(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];for(var t=0;t<r.length;t++)if(typeof r[t]!="number")throw new Error("assertNumbers arguments["+t+"] is not a number. "+typeof r[t]+" == typeof "+r[t]);return!0}var FA=Math.PI;function um(r,e,t){r.lArcFlag=r.lArcFlag===0?0:1,r.sweepFlag=r.sweepFlag===0?0:1;var n=r.rX,A=r.rY,i=r.x,s=r.y;n=Math.abs(r.rX),A=Math.abs(r.rY);var a=Nv([(e-i)/2,(t-s)/2],-r.xRot/180*FA),o=a[0],u=a[1],l=Math.pow(o,2)/Math.pow(n,2)+Math.pow(u,2)/Math.pow(A,2);1<l&&(n*=Math.sqrt(l),A*=Math.sqrt(l)),r.rX=n,r.rY=A;var h=Math.pow(n,2)*Math.pow(u,2)+Math.pow(A,2)*Math.pow(o,2),f=(r.lArcFlag!==r.sweepFlag?1:-1)*Math.sqrt(Math.max(0,(Math.pow(n,2)*Math.pow(A,2)-h)/h)),d=n*u/A*f,g=-A*o/n*f,m=Nv([d,g],r.xRot/180*FA);r.cX=m[0]+(e+i)/2,r.cY=m[1]+(t+s)/2,r.phi1=Math.atan2((u-g)/A,(o-d)/n),r.phi2=Math.atan2((-u-g)/A,(-o-d)/n),r.sweepFlag===0&&r.phi2>r.phi1&&(r.phi2-=2*FA),r.sweepFlag===1&&r.phi2<r.phi1&&(r.phi2+=2*FA),r.phi1*=180/FA,r.phi2*=180/FA}function e1(r,e,t){an(r,e,t);var n=r*r+e*e-t*t;if(0>n)return[];if(n===0)return[[r*t/(r*r+e*e),e*t/(r*r+e*e)]];var A=Math.sqrt(n);return[[(r*t+e*A)/(r*r+e*e),(e*t-r*A)/(r*r+e*e)],[(r*t-e*A)/(r*r+e*e),(e*t+r*A)/(r*r+e*e)]]}var wt,Wn=Math.PI/180;function t1(r,e,t){return(1-t)*r+t*e}function r1(r,e,t,n){return r+Math.cos(n/180*FA)*e+Math.sin(n/180*FA)*t}function n1(r,e,t,n){var A=1e-6,i=e-r,s=t-e,a=3*i+3*(n-t)-6*s,o=6*(s-i),u=3*i;return Math.abs(a)<A?[-u/o]:(function(l,h,f){var d=l*l/4-h;if(d<-f)return[];if(d<=f)return[-l/2];var g=Math.sqrt(d);return[-l/2-g,-l/2+g]})(o/a,u/a,A)}function A1(r,e,t,n,A){var i=1-A;return r*(i*i*i)+e*(3*i*i*A)+t*(3*i*A*A)+n*(A*A*A)}(function(r){function e(){return A((function(a,o,u){return a.relative&&(a.x1!==void 0&&(a.x1+=o),a.y1!==void 0&&(a.y1+=u),a.x2!==void 0&&(a.x2+=o),a.y2!==void 0&&(a.y2+=u),a.x!==void 0&&(a.x+=o),a.y!==void 0&&(a.y+=u),a.relative=!1),a}))}function t(){var a=NaN,o=NaN,u=NaN,l=NaN;return A((function(h,f,d){return h.type&Y.SMOOTH_CURVE_TO&&(h.type=Y.CURVE_TO,a=isNaN(a)?f:a,o=isNaN(o)?d:o,h.x1=h.relative?f-a:2*f-a,h.y1=h.relative?d-o:2*d-o),h.type&Y.CURVE_TO?(a=h.relative?f+h.x2:h.x2,o=h.relative?d+h.y2:h.y2):(a=NaN,o=NaN),h.type&Y.SMOOTH_QUAD_TO&&(h.type=Y.QUAD_TO,u=isNaN(u)?f:u,l=isNaN(l)?d:l,h.x1=h.relative?f-u:2*f-u,h.y1=h.relative?d-l:2*d-l),h.type&Y.QUAD_TO?(u=h.relative?f+h.x1:h.x1,l=h.relative?d+h.y1:h.y1):(u=NaN,l=NaN),h}))}function n(){var a=NaN,o=NaN;return A((function(u,l,h){if(u.type&Y.SMOOTH_QUAD_TO&&(u.type=Y.QUAD_TO,a=isNaN(a)?l:a,o=isNaN(o)?h:o,u.x1=u.relative?l-a:2*l-a,u.y1=u.relative?h-o:2*h-o),u.type&Y.QUAD_TO){a=u.relative?l+u.x1:u.x1,o=u.relative?h+u.y1:u.y1;var f=u.x1,d=u.y1;u.type=Y.CURVE_TO,u.x1=((u.relative?0:l)+2*f)/3,u.y1=((u.relative?0:h)+2*d)/3,u.x2=(u.x+2*f)/3,u.y2=(u.y+2*d)/3}else a=NaN,o=NaN;return u}))}function A(a){var o=0,u=0,l=NaN,h=NaN;return function(f){if(isNaN(l)&&!(f.type&Y.MOVE_TO))throw new Error("path must start with moveto");var d=a(f,o,u,l,h);return f.type&Y.CLOSE_PATH&&(o=l,u=h),f.x!==void 0&&(o=f.relative?o+f.x:f.x),f.y!==void 0&&(u=f.relative?u+f.y:f.y),f.type&Y.MOVE_TO&&(l=o,h=u),d}}function i(a,o,u,l,h,f){return an(a,o,u,l,h,f),A((function(d,g,m,C){var E=d.x1,T=d.x2,I=d.relative&&!isNaN(C),b=d.x!==void 0?d.x:I?0:g,P=d.y!==void 0?d.y:I?0:m;function Q(N){return N*N}d.type&Y.HORIZ_LINE_TO&&o!==0&&(d.type=Y.LINE_TO,d.y=d.relative?0:m),d.type&Y.VERT_LINE_TO&&u!==0&&(d.type=Y.LINE_TO,d.x=d.relative?0:g),d.x!==void 0&&(d.x=d.x*a+P*u+(I?0:h)),d.y!==void 0&&(d.y=b*o+d.y*l+(I?0:f)),d.x1!==void 0&&(d.x1=d.x1*a+d.y1*u+(I?0:h)),d.y1!==void 0&&(d.y1=E*o+d.y1*l+(I?0:f)),d.x2!==void 0&&(d.x2=d.x2*a+d.y2*u+(I?0:h)),d.y2!==void 0&&(d.y2=T*o+d.y2*l+(I?0:f));var v=a*l-o*u;if(d.xRot!==void 0&&(a!==1||o!==0||u!==0||l!==1))if(v===0)delete d.rX,delete d.rY,delete d.xRot,delete d.lArcFlag,delete d.sweepFlag,d.type=Y.LINE_TO;else{var y=d.xRot*Math.PI/180,w=Math.sin(y),U=Math.cos(y),F=1/Q(d.rX),R=1/Q(d.rY),S=Q(U)*F+Q(w)*R,L=2*w*U*(F-R),q=Q(w)*F+Q(U)*R,H=S*l*l-L*o*l+q*o*o,k=L*(a*l+o*u)-2*(S*u*l+q*a*o),V=S*u*u-L*a*u+q*a*a,j=(Math.atan2(k,H-V)+Math.PI)%Math.PI/2,$=Math.sin(j),O=Math.cos(j);d.rX=Math.abs(v)/Math.sqrt(H*Q(O)+k*$*O+V*Q($)),d.rY=Math.abs(v)/Math.sqrt(H*Q($)-k*$*O+V*Q(O)),d.xRot=180*j/Math.PI}return d.sweepFlag!==void 0&&0>v&&(d.sweepFlag=+!d.sweepFlag),d}))}function s(){return function(a){var o={};for(var u in a)o[u]=a[u];return o}}r.ROUND=function(a){function o(u){return Math.round(u*a)/a}return a===void 0&&(a=1e13),an(a),function(u){return u.x1!==void 0&&(u.x1=o(u.x1)),u.y1!==void 0&&(u.y1=o(u.y1)),u.x2!==void 0&&(u.x2=o(u.x2)),u.y2!==void 0&&(u.y2=o(u.y2)),u.x!==void 0&&(u.x=o(u.x)),u.y!==void 0&&(u.y=o(u.y)),u.rX!==void 0&&(u.rX=o(u.rX)),u.rY!==void 0&&(u.rY=o(u.rY)),u}},r.TO_ABS=e,r.TO_REL=function(){return A((function(a,o,u){return a.relative||(a.x1!==void 0&&(a.x1-=o),a.y1!==void 0&&(a.y1-=u),a.x2!==void 0&&(a.x2-=o),a.y2!==void 0&&(a.y2-=u),a.x!==void 0&&(a.x-=o),a.y!==void 0&&(a.y-=u),a.relative=!0),a}))},r.NORMALIZE_HVZ=function(a,o,u){return a===void 0&&(a=!0),o===void 0&&(o=!0),u===void 0&&(u=!0),A((function(l,h,f,d,g){if(isNaN(d)&&!(l.type&Y.MOVE_TO))throw new Error("path must start with moveto");return o&&l.type&Y.HORIZ_LINE_TO&&(l.type=Y.LINE_TO,l.y=l.relative?0:f),u&&l.type&Y.VERT_LINE_TO&&(l.type=Y.LINE_TO,l.x=l.relative?0:h),a&&l.type&Y.CLOSE_PATH&&(l.type=Y.LINE_TO,l.x=l.relative?d-h:d,l.y=l.relative?g-f:g),l.type&Y.ARC&&(l.rX===0||l.rY===0)&&(l.type=Y.LINE_TO,delete l.rX,delete l.rY,delete l.xRot,delete l.lArcFlag,delete l.sweepFlag),l}))},r.NORMALIZE_ST=t,r.QT_TO_C=n,r.INFO=A,r.SANITIZE=function(a){a===void 0&&(a=0),an(a);var o=NaN,u=NaN,l=NaN,h=NaN;return A((function(f,d,g,m,C){var E=Math.abs,T=!1,I=0,b=0;if(f.type&Y.SMOOTH_CURVE_TO&&(I=isNaN(o)?0:d-o,b=isNaN(u)?0:g-u),f.type&(Y.CURVE_TO|Y.SMOOTH_CURVE_TO)?(o=f.relative?d+f.x2:f.x2,u=f.relative?g+f.y2:f.y2):(o=NaN,u=NaN),f.type&Y.SMOOTH_QUAD_TO?(l=isNaN(l)?d:2*d-l,h=isNaN(h)?g:2*g-h):f.type&Y.QUAD_TO?(l=f.relative?d+f.x1:f.x1,h=f.relative?g+f.y1:f.y2):(l=NaN,h=NaN),f.type&Y.LINE_COMMANDS||f.type&Y.ARC&&(f.rX===0||f.rY===0||!f.lArcFlag)||f.type&Y.CURVE_TO||f.type&Y.SMOOTH_CURVE_TO||f.type&Y.QUAD_TO||f.type&Y.SMOOTH_QUAD_TO){var P=f.x===void 0?0:f.relative?f.x:f.x-d,Q=f.y===void 0?0:f.relative?f.y:f.y-g;I=isNaN(l)?f.x1===void 0?I:f.relative?f.x:f.x1-d:l-d,b=isNaN(h)?f.y1===void 0?b:f.relative?f.y:f.y1-g:h-g;var v=f.x2===void 0?0:f.relative?f.x:f.x2-d,y=f.y2===void 0?0:f.relative?f.y:f.y2-g;E(P)<=a&&E(Q)<=a&&E(I)<=a&&E(b)<=a&&E(v)<=a&&E(y)<=a&&(T=!0)}return f.type&Y.CLOSE_PATH&&E(d-m)<=a&&E(g-C)<=a&&(T=!0),T?[]:f}))},r.MATRIX=i,r.ROTATE=function(a,o,u){o===void 0&&(o=0),u===void 0&&(u=0),an(a,o,u);var l=Math.sin(a),h=Math.cos(a);return i(h,l,-l,h,o-o*h+u*l,u-o*l-u*h)},r.TRANSLATE=function(a,o){return o===void 0&&(o=0),an(a,o),i(1,0,0,1,a,o)},r.SCALE=function(a,o){return o===void 0&&(o=a),an(a,o),i(a,0,0,o,0,0)},r.SKEW_X=function(a){return an(a),i(1,0,Math.atan(a),1,0,0)},r.SKEW_Y=function(a){return an(a),i(1,Math.atan(a),0,1,0,0)},r.X_AXIS_SYMMETRY=function(a){return a===void 0&&(a=0),an(a),i(-1,0,0,1,a,0)},r.Y_AXIS_SYMMETRY=function(a){return a===void 0&&(a=0),an(a),i(1,0,0,-1,0,a)},r.A_TO_C=function(){return A((function(a,o,u){return Y.ARC===a.type?(function(l,h,f){var d,g,m,C;l.cX||um(l,h,f);for(var E=Math.min(l.phi1,l.phi2),T=Math.max(l.phi1,l.phi2)-E,I=Math.ceil(T/90),b=new Array(I),P=h,Q=f,v=0;v<I;v++){var y=t1(l.phi1,l.phi2,v/I),w=t1(l.phi1,l.phi2,(v+1)/I),U=w-y,F=4/3*Math.tan(U*Wn/4),R=[Math.cos(y*Wn)-F*Math.sin(y*Wn),Math.sin(y*Wn)+F*Math.cos(y*Wn)],S=R[0],L=R[1],q=[Math.cos(w*Wn),Math.sin(w*Wn)],H=q[0],k=q[1],V=[H+F*Math.sin(w*Wn),k-F*Math.cos(w*Wn)],j=V[0],$=V[1];b[v]={relative:l.relative,type:Y.CURVE_TO};var O=function(N,G){var z=Nv([N*l.rX,G*l.rY],l.xRot),W=z[0],se=z[1];return[l.cX+W,l.cY+se]};d=O(S,L),b[v].x1=d[0],b[v].y1=d[1],g=O(j,$),b[v].x2=g[0],b[v].y2=g[1],m=O(H,k),b[v].x=m[0],b[v].y=m[1],l.relative&&(b[v].x1-=P,b[v].y1-=Q,b[v].x2-=P,b[v].y2-=Q,b[v].x-=P,b[v].y-=Q),P=(C=[b[v].x,b[v].y])[0],Q=C[1]}return b})(a,a.relative?0:o,a.relative?0:u):a}))},r.ANNOTATE_ARCS=function(){return A((function(a,o,u){return a.relative&&(o=0,u=0),Y.ARC===a.type&&um(a,o,u),a}))},r.CLONE=s,r.CALCULATE_BOUNDS=function(){var a=function(f){var d={};for(var g in f)d[g]=f[g];return d},o=e(),u=n(),l=t(),h=A((function(f,d,g){var m=l(u(o(a(f))));function C($){$>h.maxX&&(h.maxX=$),$<h.minX&&(h.minX=$)}function E($){$>h.maxY&&(h.maxY=$),$<h.minY&&(h.minY=$)}if(m.type&Y.DRAWING_COMMANDS&&(C(d),E(g)),m.type&Y.HORIZ_LINE_TO&&C(m.x),m.type&Y.VERT_LINE_TO&&E(m.y),m.type&Y.LINE_TO&&(C(m.x),E(m.y)),m.type&Y.CURVE_TO){C(m.x),E(m.y);for(var T=0,I=n1(d,m.x1,m.x2,m.x);T<I.length;T++)0<(j=I[T])&&1>j&&C(A1(d,m.x1,m.x2,m.x,j));for(var b=0,P=n1(g,m.y1,m.y2,m.y);b<P.length;b++)0<(j=P[b])&&1>j&&E(A1(g,m.y1,m.y2,m.y,j))}if(m.type&Y.ARC){C(m.x),E(m.y),um(m,d,g);for(var Q=m.xRot/180*Math.PI,v=Math.cos(Q)*m.rX,y=Math.sin(Q)*m.rX,w=-Math.sin(Q)*m.rY,U=Math.cos(Q)*m.rY,F=m.phi1<m.phi2?[m.phi1,m.phi2]:-180>m.phi2?[m.phi2+360,m.phi1+360]:[m.phi2,m.phi1],R=F[0],S=F[1],L=function($){var O=$[0],N=$[1],G=180*Math.atan2(N,O)/Math.PI;return G<R?G+360:G},q=0,H=e1(w,-v,0).map(L);q<H.length;q++)(j=H[q])>R&&j<S&&C(r1(m.cX,v,w,j));for(var k=0,V=e1(U,-y,0).map(L);k<V.length;k++){var j;(j=V[k])>R&&j<S&&E(r1(m.cY,y,U,j))}}return f}));return h.minX=1/0,h.maxX=-1/0,h.minY=1/0,h.maxY=-1/0,h}})(wt||(wt={}));var An,sD=(function(){function r(){}return r.prototype.round=function(e){return this.transform(wt.ROUND(e))},r.prototype.toAbs=function(){return this.transform(wt.TO_ABS())},r.prototype.toRel=function(){return this.transform(wt.TO_REL())},r.prototype.normalizeHVZ=function(e,t,n){return this.transform(wt.NORMALIZE_HVZ(e,t,n))},r.prototype.normalizeST=function(){return this.transform(wt.NORMALIZE_ST())},r.prototype.qtToC=function(){return this.transform(wt.QT_TO_C())},r.prototype.aToC=function(){return this.transform(wt.A_TO_C())},r.prototype.sanitize=function(e){return this.transform(wt.SANITIZE(e))},r.prototype.translate=function(e,t){return this.transform(wt.TRANSLATE(e,t))},r.prototype.scale=function(e,t){return this.transform(wt.SCALE(e,t))},r.prototype.rotate=function(e,t,n){return this.transform(wt.ROTATE(e,t,n))},r.prototype.matrix=function(e,t,n,A,i,s){return this.transform(wt.MATRIX(e,t,n,A,i,s))},r.prototype.skewX=function(e){return this.transform(wt.SKEW_X(e))},r.prototype.skewY=function(e){return this.transform(wt.SKEW_Y(e))},r.prototype.xSymmetry=function(e){return this.transform(wt.X_AXIS_SYMMETRY(e))},r.prototype.ySymmetry=function(e){return this.transform(wt.Y_AXIS_SYMMETRY(e))},r.prototype.annotateArcs=function(){return this.transform(wt.ANNOTATE_ARCS())},r})(),YJ=function(r){return r===" "||r==="	"||r==="\r"||r===`
`},i1=function(r){return 48<=r.charCodeAt(0)&&r.charCodeAt(0)<=57},JJ=(function(r){function e(){var t=r.call(this)||this;return t.curNumber="",t.curCommandType=-1,t.curCommandRelative=!1,t.canParseCommandOrComma=!0,t.curNumberHasExp=!1,t.curNumberHasExpDigits=!1,t.curNumberHasDecimal=!1,t.curArgs=[],t}return iD(e,r),e.prototype.finish=function(t){if(t===void 0&&(t=[]),this.parse(" ",t),this.curArgs.length!==0||!this.canParseCommandOrComma)throw new SyntaxError("Unterminated command at the path end.");return t},e.prototype.parse=function(t,n){var A=this;n===void 0&&(n=[]);for(var i=function(h){n.push(h),A.curArgs.length=0,A.canParseCommandOrComma=!0},s=0;s<t.length;s++){var a=t[s],o=!(this.curCommandType!==Y.ARC||this.curArgs.length!==3&&this.curArgs.length!==4||this.curNumber.length!==1||this.curNumber!=="0"&&this.curNumber!=="1"),u=i1(a)&&(this.curNumber==="0"&&a==="0"||o);if(!i1(a)||u)if(a!=="e"&&a!=="E")if(a!=="-"&&a!=="+"||!this.curNumberHasExp||this.curNumberHasExpDigits)if(a!=="."||this.curNumberHasExp||this.curNumberHasDecimal||o){if(this.curNumber&&this.curCommandType!==-1){var l=Number(this.curNumber);if(isNaN(l))throw new SyntaxError("Invalid number ending at "+s);if(this.curCommandType===Y.ARC){if(this.curArgs.length===0||this.curArgs.length===1){if(0>l)throw new SyntaxError('Expected positive number, got "'+l+'" at index "'+s+'"')}else if((this.curArgs.length===3||this.curArgs.length===4)&&this.curNumber!=="0"&&this.curNumber!=="1")throw new SyntaxError('Expected a flag, got "'+this.curNumber+'" at index "'+s+'"')}this.curArgs.push(l),this.curArgs.length===ZJ[this.curCommandType]&&(Y.HORIZ_LINE_TO===this.curCommandType?i({type:Y.HORIZ_LINE_TO,relative:this.curCommandRelative,x:l}):Y.VERT_LINE_TO===this.curCommandType?i({type:Y.VERT_LINE_TO,relative:this.curCommandRelative,y:l}):this.curCommandType===Y.MOVE_TO||this.curCommandType===Y.LINE_TO||this.curCommandType===Y.SMOOTH_QUAD_TO?(i({type:this.curCommandType,relative:this.curCommandRelative,x:this.curArgs[0],y:this.curArgs[1]}),Y.MOVE_TO===this.curCommandType&&(this.curCommandType=Y.LINE_TO)):this.curCommandType===Y.CURVE_TO?i({type:Y.CURVE_TO,relative:this.curCommandRelative,x1:this.curArgs[0],y1:this.curArgs[1],x2:this.curArgs[2],y2:this.curArgs[3],x:this.curArgs[4],y:this.curArgs[5]}):this.curCommandType===Y.SMOOTH_CURVE_TO?i({type:Y.SMOOTH_CURVE_TO,relative:this.curCommandRelative,x2:this.curArgs[0],y2:this.curArgs[1],x:this.curArgs[2],y:this.curArgs[3]}):this.curCommandType===Y.QUAD_TO?i({type:Y.QUAD_TO,relative:this.curCommandRelative,x1:this.curArgs[0],y1:this.curArgs[1],x:this.curArgs[2],y:this.curArgs[3]}):this.curCommandType===Y.ARC&&i({type:Y.ARC,relative:this.curCommandRelative,rX:this.curArgs[0],rY:this.curArgs[1],xRot:this.curArgs[2],lArcFlag:this.curArgs[3],sweepFlag:this.curArgs[4],x:this.curArgs[5],y:this.curArgs[6]})),this.curNumber="",this.curNumberHasExpDigits=!1,this.curNumberHasExp=!1,this.curNumberHasDecimal=!1,this.canParseCommandOrComma=!0}if(!YJ(a))if(a===","&&this.canParseCommandOrComma)this.canParseCommandOrComma=!1;else if(a!=="+"&&a!=="-"&&a!==".")if(u)this.curNumber=a,this.curNumberHasDecimal=!1;else{if(this.curArgs.length!==0)throw new SyntaxError("Unterminated command at index "+s+".");if(!this.canParseCommandOrComma)throw new SyntaxError('Unexpected character "'+a+'" at index '+s+". Command cannot follow comma");if(this.canParseCommandOrComma=!1,a!=="z"&&a!=="Z")if(a==="h"||a==="H")this.curCommandType=Y.HORIZ_LINE_TO,this.curCommandRelative=a==="h";else if(a==="v"||a==="V")this.curCommandType=Y.VERT_LINE_TO,this.curCommandRelative=a==="v";else if(a==="m"||a==="M")this.curCommandType=Y.MOVE_TO,this.curCommandRelative=a==="m";else if(a==="l"||a==="L")this.curCommandType=Y.LINE_TO,this.curCommandRelative=a==="l";else if(a==="c"||a==="C")this.curCommandType=Y.CURVE_TO,this.curCommandRelative=a==="c";else if(a==="s"||a==="S")this.curCommandType=Y.SMOOTH_CURVE_TO,this.curCommandRelative=a==="s";else if(a==="q"||a==="Q")this.curCommandType=Y.QUAD_TO,this.curCommandRelative=a==="q";else if(a==="t"||a==="T")this.curCommandType=Y.SMOOTH_QUAD_TO,this.curCommandRelative=a==="t";else{if(a!=="a"&&a!=="A")throw new SyntaxError('Unexpected character "'+a+'" at index '+s+".");this.curCommandType=Y.ARC,this.curCommandRelative=a==="a"}else n.push({type:Y.CLOSE_PATH}),this.canParseCommandOrComma=!0,this.curCommandType=-1}else this.curNumber=a,this.curNumberHasDecimal=a==="."}else this.curNumber+=a,this.curNumberHasDecimal=!0;else this.curNumber+=a;else this.curNumber+=a,this.curNumberHasExp=!0;else this.curNumber+=a,this.curNumberHasExpDigits=this.curNumberHasExp}return n},e.prototype.transform=function(t){return Object.create(this,{parse:{value:function(n,A){A===void 0&&(A=[]);for(var i=0,s=Object.getPrototypeOf(this).parse.call(this,n);i<s.length;i++){var a=s[i],o=t(a);Array.isArray(o)?A.push.apply(A,o):A.push(o)}return A}}})},e})(sD),Y=(function(r){function e(t){var n=r.call(this)||this;return n.commands=typeof t=="string"?e.parse(t):t,n}return iD(e,r),e.prototype.encode=function(){return e.encode(this.commands)},e.prototype.getBounds=function(){var t=wt.CALCULATE_BOUNDS();return this.transform(t),t},e.prototype.transform=function(t){for(var n=[],A=0,i=this.commands;A<i.length;A++){var s=t(i[A]);Array.isArray(s)?n.push.apply(n,s):n.push(s)}return this.commands=n,this},e.encode=function(t){return zJ(t)},e.parse=function(t){var n=new JJ,A=[];return n.parse(t,A),n.finish(A),A},e.CLOSE_PATH=1,e.MOVE_TO=2,e.HORIZ_LINE_TO=4,e.VERT_LINE_TO=8,e.LINE_TO=16,e.CURVE_TO=32,e.SMOOTH_CURVE_TO=64,e.QUAD_TO=128,e.SMOOTH_QUAD_TO=256,e.ARC=512,e.LINE_COMMANDS=e.LINE_TO|e.HORIZ_LINE_TO|e.VERT_LINE_TO,e.DRAWING_COMMANDS=e.HORIZ_LINE_TO|e.VERT_LINE_TO|e.LINE_TO|e.CURVE_TO|e.SMOOTH_CURVE_TO|e.QUAD_TO|e.SMOOTH_QUAD_TO|e.ARC,e})(sD),ZJ=((An={})[Y.MOVE_TO]=2,An[Y.LINE_TO]=2,An[Y.HORIZ_LINE_TO]=1,An[Y.VERT_LINE_TO]=1,An[Y.CLOSE_PATH]=0,An[Y.QUAD_TO]=4,An[Y.SMOOTH_QUAD_TO]=2,An[Y.CURVE_TO]=6,An[Y.SMOOTH_CURVE_TO]=4,An[Y.ARC]=7,An),s1={},a1;function eZ(){if(a1)return s1;a1=1;var r=vh().PROPER,e=qi(),t=gr(),n=xn(),A=at(),i=fB(),s="toString",a=RegExp.prototype,o=a[s],u=A(function(){return o.call({source:"a",flags:"b"})!=="/a/b"}),l=r&&o.name!==s;return(u||l)&&e(a,s,function(){var f=t(this),d=n(f.source),g=n(i(f));return"/"+d+"/"+g},{unsafe:!0}),s1}eZ();function Ll(r){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Ll=function(e){return typeof e}:Ll=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ll(r)}function tZ(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}var rZ=[512,512,456,512,328,456,335,512,405,328,271,456,388,335,292,512,454,405,364,328,298,271,496,456,420,388,360,335,312,292,273,512,482,454,428,405,383,364,345,328,312,298,284,271,259,496,475,456,437,420,404,388,374,360,347,335,323,312,302,292,282,273,265,512,497,482,468,454,441,428,417,405,394,383,373,364,354,345,337,328,320,312,305,298,291,284,278,271,265,259,507,496,485,475,465,456,446,437,428,420,412,404,396,388,381,374,367,360,354,347,341,335,329,323,318,312,307,302,297,292,287,282,278,273,269,265,261,512,505,497,489,482,475,468,461,454,447,441,435,428,422,417,411,405,399,394,389,383,378,373,368,364,359,354,350,345,341,337,332,328,324,320,316,312,309,305,301,298,294,291,287,284,281,278,274,271,268,265,262,259,257,507,501,496,491,485,480,475,470,465,460,456,451,446,442,437,433,428,424,420,416,412,408,404,400,396,392,388,385,381,377,374,370,367,363,360,357,354,350,347,344,341,338,335,332,329,326,323,320,318,315,312,310,307,304,302,299,297,294,292,289,287,285,282,280,278,275,273,271,269,267,265,263,261,259],nZ=[9,11,12,13,13,14,14,15,15,15,15,16,16,16,16,17,17,17,17,17,17,17,18,18,18,18,18,18,18,18,18,19,19,19,19,19,19,19,19,19,19,19,19,19,19,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24];function AZ(r,e,t,n,A){if(typeof r=="string"&&(r=document.getElementById(r)),!r||Ll(r)!=="object"||!("getContext"in r))throw new TypeError("Expecting canvas with `getContext` method in processCanvasRGB(A) calls!");var i=r.getContext("2d");try{return i.getImageData(e,t,n,A)}catch(s){throw new Error("unable to access image data: "+s)}}function iZ(r,e,t,n,A,i){if(!(isNaN(i)||i<1)){i|=0;var s=AZ(r,e,t,n,A);s=sZ(s,e,t,n,A,i),r.getContext("2d").putImageData(s,e,t)}}function sZ(r,e,t,n,A,i){for(var s=r.data,a=2*i+1,o=n-1,u=A-1,l=i+1,h=l*(l+1)/2,f=new o1,d=f,g,m=1;m<a;m++)d=d.next=new o1,m===l&&(g=d);d.next=f;for(var C=null,E=null,T=0,I=0,b=rZ[i],P=nZ[i],Q=0;Q<A;Q++){d=f;for(var v=s[I],y=s[I+1],w=s[I+2],U=s[I+3],F=0;F<l;F++)d.r=v,d.g=y,d.b=w,d.a=U,d=d.next;for(var R=0,S=0,L=0,q=0,H=l*v,k=l*y,V=l*w,j=l*U,$=h*v,O=h*y,N=h*w,G=h*U,z=1;z<l;z++){var W=I+((o<z?o:z)<<2),se=s[W],ne=s[W+1],Ee=s[W+2],_e=s[W+3],xe=l-z;$+=(d.r=se)*xe,O+=(d.g=ne)*xe,N+=(d.b=Ee)*xe,G+=(d.a=_e)*xe,R+=se,S+=ne,L+=Ee,q+=_e,d=d.next}C=f,E=g;for(var ut=0;ut<n;ut++){var We=G*b>>>P;if(s[I+3]=We,We!==0){var Ve=255/We;s[I]=($*b>>>P)*Ve,s[I+1]=(O*b>>>P)*Ve,s[I+2]=(N*b>>>P)*Ve}else s[I]=s[I+1]=s[I+2]=0;$-=H,O-=k,N-=V,G-=j,H-=C.r,k-=C.g,V-=C.b,j-=C.a;var Pe=ut+i+1;Pe=T+(Pe<o?Pe:o)<<2,R+=C.r=s[Pe],S+=C.g=s[Pe+1],L+=C.b=s[Pe+2],q+=C.a=s[Pe+3],$+=R,O+=S,N+=L,G+=q,C=C.next;var _t=E,Wt=_t.r,Ut=_t.g,mr=_t.b,br=_t.a;H+=Wt,k+=Ut,V+=mr,j+=br,R-=Wt,S-=Ut,L-=mr,q-=br,E=E.next,I+=4}T+=n}for(var ur=0;ur<n;ur++){I=ur<<2;var mt=s[I],Ft=s[I+1],Tt=s[I+2],ee=s[I+3],fe=l*mt,ce=l*Ft,ge=l*Tt,Te=l*ee,Dt=h*mt,$t=h*Ft,Xt=h*Tt,nt=h*ee;d=f;for(var Ur=0;Ur<l;Ur++)d.r=mt,d.g=Ft,d.b=Tt,d.a=ee,d=d.next;for(var St=n,zt=0,Pn=0,On=0,Dn=0,Dr=1;Dr<=i;Dr++){I=St+ur<<2;var Lr=l-Dr;Dt+=(d.r=mt=s[I])*Lr,$t+=(d.g=Ft=s[I+1])*Lr,Xt+=(d.b=Tt=s[I+2])*Lr,nt+=(d.a=ee=s[I+3])*Lr,Dn+=mt,zt+=Ft,Pn+=Tt,On+=ee,d=d.next,Dr<u&&(St+=n)}I=ur,C=f,E=g;for(var Zr=0;Zr<A;Zr++){var $e=I<<2;s[$e+3]=ee=nt*b>>>P,ee>0?(ee=255/ee,s[$e]=(Dt*b>>>P)*ee,s[$e+1]=($t*b>>>P)*ee,s[$e+2]=(Xt*b>>>P)*ee):s[$e]=s[$e+1]=s[$e+2]=0,Dt-=fe,$t-=ce,Xt-=ge,nt-=Te,fe-=C.r,ce-=C.g,ge-=C.b,Te-=C.a,$e=ur+(($e=Zr+l)<u?$e:u)*n<<2,Dt+=Dn+=C.r=s[$e],$t+=zt+=C.g=s[$e+1],Xt+=Pn+=C.b=s[$e+2],nt+=On+=C.a=s[$e+3],C=C.next,fe+=mt=E.r,ce+=Ft=E.g,ge+=Tt=E.b,Te+=ee=E.a,Dn-=mt,zt-=Ft,Pn-=Tt,On-=ee,E=E.next,I+=n}}return r}var o1=function r(){tZ(this,r),this.r=0,this.g=0,this.b=0,this.a=0,this.next=null};function aZ(){var{DOMParser:r}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e={window:null,ignoreAnimation:!0,ignoreMouse:!0,DOMParser:r,createCanvas(t,n){return new OffscreenCanvas(t,n)},createImage(t){return fA(function*(){var n=yield fetch(t),A=yield n.blob(),i=yield createImageBitmap(A);return i})()}};return(typeof DOMParser<"u"||typeof r>"u")&&Reflect.deleteProperty(e,"DOMParser"),e}function oZ(r){var{DOMParser:e,canvas:t,fetch:n}=r;return{window:null,ignoreAnimation:!0,ignoreMouse:!0,DOMParser:e,fetch:n,createCanvas:t.createCanvas,createImage:t.loadImage}}var uZ=Object.freeze({__proto__:null,offscreen:aZ,node:oZ});function Wi(r){return r.replace(/(?!\u3000)\s+/gm," ")}function aD(r){return r.replace(/^[\n \t]+/,"")}function oD(r){return r.replace(/[\n \t]+$/,"")}function Tr(r){var e=(r||"").match(/-?(\d+(?:\.\d*(?:[eE][+-]?\d+)?)?|\.\d+)(?=\D|$)/gm)||[];return e.map(parseFloat)}var lZ=/^[A-Z-]+$/;function uD(r){return lZ.test(r)?r.toLowerCase():r}function vB(r){var e=/url\(('([^']+)'|"([^"]+)"|([^'")]+))\)/.exec(r)||[];return e[2]||e[3]||e[4]}function lD(r){if(!r.startsWith("rgb"))return r;var e=3,t=r.replace(/\d+(\.\d+)?/g,(n,A)=>e--&&A?String(Math.round(parseFloat(n))):n);return t}var cZ=/(\[[^\]]+\])/g,hZ=/(#[^\s+>~.[:]+)/g,fZ=/(\.[^\s+>~.[:]+)/g,dZ=/(::[^\s+>~.[:]+|:first-line|:first-letter|:before|:after)/gi,gZ=/(:[\w-]+\([^)]*\))/gi,pZ=/(:[^\s+>~.[:]+)/g,mZ=/([^\s+>~.[:]+)/g;function ui(r,e){var t=e.exec(r);return t?[r.replace(e," "),t.length]:[r,0]}function cD(r){var e=[0,0,0],t=r.replace(/:not\(([^)]*)\)/g,"     $1 ").replace(/{[\s\S]*/gm," "),n=0;return[t,n]=ui(t,cZ),e[1]+=n,[t,n]=ui(t,hZ),e[0]+=n,[t,n]=ui(t,fZ),e[1]+=n,[t,n]=ui(t,dZ),e[2]+=n,[t,n]=ui(t,gZ),e[1]+=n,[t,n]=ui(t,pZ),e[1]+=n,t=t.replace(/[*\s+>~]/g," ").replace(/[#.]/g," "),[t,n]=ui(t,mZ),e[2]+=n,e.join("")}var Ui=1e-8;function kv(r){return Math.sqrt(Math.pow(r[0],2)+Math.pow(r[1],2))}function Cc(r,e){return(r[0]*e[0]+r[1]*e[1])/(kv(r)*kv(e))}function Hv(r,e){return(r[0]*e[1]<r[1]*e[0]?-1:1)*Math.acos(Cc(r,e))}function Vv(r){return r*r*r}function Kv(r){return 3*r*r*(1-r)}function Gv(r){return 3*r*(1-r)*(1-r)}function jv(r){return(1-r)*(1-r)*(1-r)}function qv(r){return r*r}function Wv(r){return 2*r*(1-r)}function $v(r){return(1-r)*(1-r)}class he{constructor(e,t,n){this.document=e,this.name=t,this.value=n,this.isNormalizedColor=!1}static empty(e){return new he(e,"EMPTY","")}split(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:" ",{document:t,name:n}=this;return Wi(this.getString()).trim().split(e).map(A=>new he(t,n,A))}hasValue(e){var{value:t}=this;return t!==null&&t!==""&&(e||t!==0)&&typeof t<"u"}isString(e){var{value:t}=this,n=typeof t=="string";return!n||!e?n:e.test(t)}isUrlDefinition(){return this.isString(/^url\(/)}isPixels(){if(!this.hasValue())return!1;var e=this.getString();switch(!0){case e.endsWith("px"):case/^[0-9]+$/.test(e):return!0;default:return!1}}setValue(e){return this.value=e,this}getValue(e){return typeof e>"u"||this.hasValue()?this.value:e}getNumber(e){if(!this.hasValue())return typeof e>"u"?0:parseFloat(e);var{value:t}=this,n=parseFloat(t);return this.isString(/%$/)&&(n/=100),n}getString(e){return typeof e>"u"||this.hasValue()?typeof this.value>"u"?"":String(this.value):String(e)}getColor(e){var t=this.getString(e);return this.isNormalizedColor||(this.isNormalizedColor=!0,t=lD(t),this.value=t),t}getDpi(){return 96}getRem(){return this.document.rootEmSize}getEm(){return this.document.emSize}getUnits(){return this.getString().replace(/[0-9.-]/g,"")}getPixels(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(!this.hasValue())return 0;var[n,A]=typeof e=="boolean"?[void 0,e]:[e],{viewPort:i}=this.document.screen;switch(!0){case this.isString(/vmin$/):return this.getNumber()/100*Math.min(i.computeSize("x"),i.computeSize("y"));case this.isString(/vmax$/):return this.getNumber()/100*Math.max(i.computeSize("x"),i.computeSize("y"));case this.isString(/vw$/):return this.getNumber()/100*i.computeSize("x");case this.isString(/vh$/):return this.getNumber()/100*i.computeSize("y");case this.isString(/rem$/):return this.getNumber()*this.getRem();case this.isString(/em$/):return this.getNumber()*this.getEm();case this.isString(/ex$/):return this.getNumber()*this.getEm()/2;case this.isString(/px$/):return this.getNumber();case this.isString(/pt$/):return this.getNumber()*this.getDpi()*(1/72);case this.isString(/pc$/):return this.getNumber()*15;case this.isString(/cm$/):return this.getNumber()*this.getDpi()/2.54;case this.isString(/mm$/):return this.getNumber()*this.getDpi()/25.4;case this.isString(/in$/):return this.getNumber()*this.getDpi();case(this.isString(/%$/)&&A):return this.getNumber()*this.getEm();case this.isString(/%$/):return this.getNumber()*i.computeSize(n);default:{var s=this.getNumber();return t&&s<1?s*i.computeSize(n):s}}}getMilliseconds(){return this.hasValue()?this.isString(/ms$/)?this.getNumber():this.getNumber()*1e3:0}getRadians(){if(!this.hasValue())return 0;switch(!0){case this.isString(/deg$/):return this.getNumber()*(Math.PI/180);case this.isString(/grad$/):return this.getNumber()*(Math.PI/200);case this.isString(/rad$/):return this.getNumber();default:return this.getNumber()*(Math.PI/180)}}getDefinition(){var e=this.getString(),t=/#([^)'"]+)/.exec(e);return t&&(t=t[1]),t||(t=e),this.document.definitions[t]}getFillStyleDefinition(e,t){var n=this.getDefinition();if(!n)return null;if(typeof n.createGradient=="function")return n.createGradient(this.document.ctx,e,t);if(typeof n.createPattern=="function"){if(n.getHrefAttribute().hasValue()){var A=n.getAttribute("patternTransform");n=n.getHrefAttribute().getDefinition(),A.hasValue()&&n.getAttribute("patternTransform",!0).setValue(A.value)}return n.createPattern(this.document.ctx,e,t)}return null}getTextBaseline(){return this.hasValue()?he.textBaselineMapping[this.getString()]:null}addOpacity(e){for(var t=this.getColor(),n=t.length,A=0,i=0;i<n&&(t[i]===","&&A++,A!==3);i++);if(e.hasValue()&&this.isString()&&A!==3){var s=new Mv(t);s.ok&&(s.alpha=e.getNumber(),t=s.toRGBA())}return new he(this.document,this.name,t)}}he.textBaselineMapping={baseline:"alphabetic","before-edge":"top","text-before-edge":"top",middle:"middle",central:"middle","after-edge":"bottom","text-after-edge":"bottom",ideographic:"ideographic",alphabetic:"alphabetic",hanging:"hanging",mathematical:"alphabetic"};class hD{constructor(){this.viewPorts=[]}clear(){this.viewPorts=[]}setCurrent(e,t){this.viewPorts.push({width:e,height:t})}removeCurrent(){this.viewPorts.pop()}getCurrent(){var{viewPorts:e}=this;return e[e.length-1]}get width(){return this.getCurrent().width}get height(){return this.getCurrent().height}computeSize(e){return typeof e=="number"?e:e==="x"?this.width:e==="y"?this.height:Math.sqrt(Math.pow(this.width,2)+Math.pow(this.height,2))/Math.sqrt(2)}}class st{constructor(e,t){this.x=e,this.y=t}static parse(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,[n=t,A=t]=Tr(e);return new st(n,A)}static parseScale(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,[n=t,A=n]=Tr(e);return new st(n,A)}static parsePath(e){for(var t=Tr(e),n=t.length,A=[],i=0;i<n;i+=2)A.push(new st(t[i],t[i+1]));return A}angleTo(e){return Math.atan2(e.y-this.y,e.x-this.x)}applyTransform(e){var{x:t,y:n}=this,A=t*e[0]+n*e[2]+e[4],i=t*e[1]+n*e[3]+e[5];this.x=A,this.y=i}}class fD{constructor(e){this.screen=e,this.working=!1,this.events=[],this.eventElements=[],this.onClick=this.onClick.bind(this),this.onMouseMove=this.onMouseMove.bind(this)}isWorking(){return this.working}start(){if(!this.working){var{screen:e,onClick:t,onMouseMove:n}=this,A=e.ctx.canvas;A.onclick=t,A.onmousemove=n,this.working=!0}}stop(){if(this.working){var e=this.screen.ctx.canvas;this.working=!1,e.onclick=null,e.onmousemove=null}}hasEvents(){return this.working&&this.events.length>0}runEvents(){if(this.working){var{screen:e,events:t,eventElements:n}=this,{style:A}=e.ctx.canvas;A&&(A.cursor=""),t.forEach((i,s)=>{for(var{run:a}=i,o=n[s];o;)a(o),o=o.parent}),this.events=[],this.eventElements=[]}}checkPath(e,t){if(!(!this.working||!t)){var{events:n,eventElements:A}=this;n.forEach((i,s)=>{var{x:a,y:o}=i;!A[s]&&t.isPointInPath&&t.isPointInPath(a,o)&&(A[s]=e)})}}checkBoundingBox(e,t){if(!(!this.working||!t)){var{events:n,eventElements:A}=this;n.forEach((i,s)=>{var{x:a,y:o}=i;!A[s]&&t.isPointInBox(a,o)&&(A[s]=e)})}}mapXY(e,t){for(var{window:n,ctx:A}=this.screen,i=new st(e,t),s=A.canvas;s;)i.x-=s.offsetLeft,i.y-=s.offsetTop,s=s.offsetParent;return n.scrollX&&(i.x+=n.scrollX),n.scrollY&&(i.y+=n.scrollY),i}onClick(e){var{x:t,y:n}=this.mapXY(e.clientX,e.clientY);this.events.push({type:"onclick",x:t,y:n,run(A){A.onClick&&A.onClick()}})}onMouseMove(e){var{x:t,y:n}=this.mapXY(e.clientX,e.clientY);this.events.push({type:"onmousemove",x:t,y:n,run(A){A.onMouseMove&&A.onMouseMove()}})}}var dD=typeof window<"u"?window:null,gD=typeof fetch<"u"?fetch.bind(void 0):null;class iu{constructor(e){var{fetch:t=gD,window:n=dD}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.ctx=e,this.FRAMERATE=30,this.MAX_VIRTUAL_PIXELS=3e4,this.CLIENT_WIDTH=800,this.CLIENT_HEIGHT=600,this.viewPort=new hD,this.mouse=new fD(this),this.animations=[],this.waits=[],this.frameDuration=0,this.isReadyLock=!1,this.isFirstRender=!0,this.intervalId=null,this.window=n,this.fetch=t}wait(e){this.waits.push(e)}ready(){return this.readyPromise?this.readyPromise:Promise.resolve()}isReady(){if(this.isReadyLock)return!0;var e=this.waits.every(t=>t());return e&&(this.waits=[],this.resolveReady&&this.resolveReady()),this.isReadyLock=e,e}setDefaults(e){e.strokeStyle="rgba(0,0,0,0)",e.lineCap="butt",e.lineJoin="miter",e.miterLimit=4}setViewBox(e){var{document:t,ctx:n,aspectRatio:A,width:i,desiredWidth:s,height:a,desiredHeight:o,minX:u=0,minY:l=0,refX:h,refY:f,clip:d=!1,clipX:g=0,clipY:m=0}=e,C=Wi(A).replace(/^defer\s/,""),[E,T]=C.split(" "),I=E||"xMidYMid",b=T||"meet",P=i/s,Q=a/o,v=Math.min(P,Q),y=Math.max(P,Q),w=s,U=o;b==="meet"&&(w*=v,U*=v),b==="slice"&&(w*=y,U*=y);var F=new he(t,"refX",h),R=new he(t,"refY",f),S=F.hasValue()&&R.hasValue();if(S&&n.translate(-v*F.getPixels("x"),-v*R.getPixels("y")),d){var L=v*g,q=v*m;n.beginPath(),n.moveTo(L,q),n.lineTo(i,q),n.lineTo(i,a),n.lineTo(L,a),n.closePath(),n.clip()}if(!S){var H=b==="meet"&&v===Q,k=b==="slice"&&y===Q,V=b==="meet"&&v===P,j=b==="slice"&&y===P;I.startsWith("xMid")&&(H||k)&&n.translate(i/2-w/2,0),I.endsWith("YMid")&&(V||j)&&n.translate(0,a/2-U/2),I.startsWith("xMax")&&(H||k)&&n.translate(i-w,0),I.endsWith("YMax")&&(V||j)&&n.translate(0,a-U)}switch(!0){case I==="none":n.scale(P,Q);break;case b==="meet":n.scale(v,v);break;case b==="slice":n.scale(y,y);break}n.translate(-u,-l)}start(e){var{enableRedraw:t=!1,ignoreMouse:n=!1,ignoreAnimation:A=!1,ignoreDimensions:i=!1,ignoreClear:s=!1,forceRedraw:a,scaleWidth:o,scaleHeight:u,offsetX:l,offsetY:h}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{FRAMERATE:f,mouse:d}=this,g=1e3/f;if(this.frameDuration=g,this.readyPromise=new Promise(I=>{this.resolveReady=I}),this.isReady()&&this.render(e,i,s,o,u,l,h),!!t){var m=Date.now(),C=m,E=0,T=()=>{m=Date.now(),E=m-C,E>=g&&(C=m-E%g,this.shouldUpdate(A,a)&&(this.render(e,i,s,o,u,l,h),d.runEvents())),this.intervalId=nm(T)};n||d.start(),this.intervalId=nm(T)}}stop(){this.intervalId&&(nm.cancel(this.intervalId),this.intervalId=null),this.mouse.stop()}shouldUpdate(e,t){if(!e){var{frameDuration:n}=this,A=this.animations.reduce((i,s)=>s.update(n)||i,!1);if(A)return!0}return!!(typeof t=="function"&&t()||!this.isReadyLock&&this.isReady()||this.mouse.hasEvents())}render(e,t,n,A,i,s,a){var{CLIENT_WIDTH:o,CLIENT_HEIGHT:u,viewPort:l,ctx:h,isFirstRender:f}=this,d=h.canvas;l.clear(),d.width&&d.height?l.setCurrent(d.width,d.height):l.setCurrent(o,u);var g=e.getStyle("width"),m=e.getStyle("height");!t&&(f||typeof A!="number"&&typeof i!="number")&&(g.hasValue()&&(d.width=g.getPixels("x"),d.style&&(d.style.width="".concat(d.width,"px"))),m.hasValue()&&(d.height=m.getPixels("y"),d.style&&(d.style.height="".concat(d.height,"px"))));var C=d.clientWidth||d.width,E=d.clientHeight||d.height;if(t&&g.hasValue()&&m.hasValue()&&(C=g.getPixels("x"),E=m.getPixels("y")),l.setCurrent(C,E),typeof s=="number"&&e.getAttribute("x",!0).setValue(s),typeof a=="number"&&e.getAttribute("y",!0).setValue(a),typeof A=="number"||typeof i=="number"){var T=Tr(e.getAttribute("viewBox").getString()),I=0,b=0;if(typeof A=="number"){var P=e.getStyle("width");P.hasValue()?I=P.getPixels("x")/A:isNaN(T[2])||(I=T[2]/A)}if(typeof i=="number"){var Q=e.getStyle("height");Q.hasValue()?b=Q.getPixels("y")/i:isNaN(T[3])||(b=T[3]/i)}I||(I=b),b||(b=I),e.getAttribute("width",!0).setValue(A),e.getAttribute("height",!0).setValue(i);var v=e.getStyle("transform",!0,!0);v.setValue("".concat(v.getString()," scale(").concat(1/I,", ").concat(1/b,")"))}n||h.clearRect(0,0,C,E),e.render(h),f&&(this.isFirstRender=!1)}}iu.defaultWindow=dD;iu.defaultFetch=gD;var{defaultFetch:vZ}=iu,yZ=typeof DOMParser<"u"?DOMParser:null;class Ml{constructor(){var{fetch:e=vZ,DOMParser:t=yZ}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.fetch=e,this.DOMParser=t}parse(e){var t=this;return fA(function*(){return e.startsWith("<")?t.parseFromString(e):t.load(e)})()}parseFromString(e){var t=new this.DOMParser;try{return this.checkDocument(t.parseFromString(e,"image/svg+xml"))}catch{return this.checkDocument(t.parseFromString(e,"text/xml"))}}checkDocument(e){var t=e.getElementsByTagName("parsererror")[0];if(t)throw new Error(t.textContent);return e}load(e){var t=this;return fA(function*(){var n=yield t.fetch(e),A=yield n.text();return t.parseFromString(A)})()}}class pD{constructor(e,t){this.type="translate",this.point=null,this.point=st.parse(t)}apply(e){var{x:t,y:n}=this.point;e.translate(t||0,n||0)}unapply(e){var{x:t,y:n}=this.point;e.translate(-1*t||0,-1*n||0)}applyToPoint(e){var{x:t,y:n}=this.point;e.applyTransform([1,0,0,1,t||0,n||0])}}class mD{constructor(e,t,n){this.type="rotate",this.angle=null,this.originX=null,this.originY=null,this.cx=0,this.cy=0;var A=Tr(t);this.angle=new he(e,"angle",A[0]),this.originX=n[0],this.originY=n[1],this.cx=A[1]||0,this.cy=A[2]||0}apply(e){var{cx:t,cy:n,originX:A,originY:i,angle:s}=this,a=t+A.getPixels("x"),o=n+i.getPixels("y");e.translate(a,o),e.rotate(s.getRadians()),e.translate(-a,-o)}unapply(e){var{cx:t,cy:n,originX:A,originY:i,angle:s}=this,a=t+A.getPixels("x"),o=n+i.getPixels("y");e.translate(a,o),e.rotate(-1*s.getRadians()),e.translate(-a,-o)}applyToPoint(e){var{cx:t,cy:n,angle:A}=this,i=A.getRadians();e.applyTransform([1,0,0,1,t||0,n||0]),e.applyTransform([Math.cos(i),Math.sin(i),-Math.sin(i),Math.cos(i),0,0]),e.applyTransform([1,0,0,1,-t||0,-n||0])}}class vD{constructor(e,t,n){this.type="scale",this.scale=null,this.originX=null,this.originY=null;var A=st.parseScale(t);(A.x===0||A.y===0)&&(A.x=Ui,A.y=Ui),this.scale=A,this.originX=n[0],this.originY=n[1]}apply(e){var{scale:{x:t,y:n},originX:A,originY:i}=this,s=A.getPixels("x"),a=i.getPixels("y");e.translate(s,a),e.scale(t,n||t),e.translate(-s,-a)}unapply(e){var{scale:{x:t,y:n},originX:A,originY:i}=this,s=A.getPixels("x"),a=i.getPixels("y");e.translate(s,a),e.scale(1/t,1/n||t),e.translate(-s,-a)}applyToPoint(e){var{x:t,y:n}=this.scale;e.applyTransform([t||0,0,0,n||0,0,0])}}class yB{constructor(e,t,n){this.type="matrix",this.matrix=[],this.originX=null,this.originY=null,this.matrix=Tr(t),this.originX=n[0],this.originY=n[1]}apply(e){var{originX:t,originY:n,matrix:A}=this,i=t.getPixels("x"),s=n.getPixels("y");e.translate(i,s),e.transform(A[0],A[1],A[2],A[3],A[4],A[5]),e.translate(-i,-s)}unapply(e){var{originX:t,originY:n,matrix:A}=this,i=A[0],s=A[2],a=A[4],o=A[1],u=A[3],l=A[5],h=0,f=0,d=1,g=1/(i*(u*d-l*f)-s*(o*d-l*h)+a*(o*f-u*h)),m=t.getPixels("x"),C=n.getPixels("y");e.translate(m,C),e.transform(g*(u*d-l*f),g*(l*h-o*d),g*(a*f-s*d),g*(i*d-a*h),g*(s*l-a*u),g*(a*o-i*l)),e.translate(-m,-C)}applyToPoint(e){e.applyTransform(this.matrix)}}class wB extends yB{constructor(e,t,n){super(e,t,n),this.type="skew",this.angle=null,this.angle=new he(e,"angle",t)}}class yD extends wB{constructor(e,t,n){super(e,t,n),this.type="skewX",this.matrix=[1,0,Math.tan(this.angle.getRadians()),1,0,0]}}class wD extends wB{constructor(e,t,n){super(e,t,n),this.type="skewY",this.matrix=[1,Math.tan(this.angle.getRadians()),0,1,0,0]}}function wZ(r){return Wi(r).trim().replace(/\)([a-zA-Z])/g,") $1").replace(/\)(\s?,\s?)/g,") ").split(/\s(?=[a-z])/)}function BZ(r){var[e,t]=r.split("(");return[e.trim(),t.trim().replace(")","")]}class zA{constructor(e,t,n){this.document=e,this.transforms=[];var A=wZ(t);A.forEach(i=>{if(i!=="none"){var[s,a]=BZ(i),o=zA.transformTypes[s];typeof o<"u"&&this.transforms.push(new o(this.document,a,n))}})}static fromElement(e,t){var n=t.getStyle("transform",!1,!0),[A,i=A]=t.getStyle("transform-origin",!1,!0).split(),s=[A,i];return n.hasValue()?new zA(e,n.getString(),s):null}apply(e){for(var{transforms:t}=this,n=t.length,A=0;A<n;A++)t[A].apply(e)}unapply(e){for(var{transforms:t}=this,n=t.length,A=n-1;A>=0;A--)t[A].unapply(e)}applyToPoint(e){for(var{transforms:t}=this,n=t.length,A=0;A<n;A++)t[A].applyToPoint(e)}}zA.transformTypes={translate:pD,rotate:mD,scale:vD,matrix:yB,skewX:yD,skewY:wD};let rt=class Xv{constructor(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(this.document=e,this.node=t,this.captureTextNodes=n,this.attributes=Object.create(null),this.styles=Object.create(null),this.stylesSpecificity=Object.create(null),this.animationFrozen=!1,this.animationFrozenValue="",this.parent=null,this.children=[],!(!t||t.nodeType!==1)){if(Array.from(t.attributes).forEach(a=>{var o=uD(a.nodeName);this.attributes[o]=new he(e,o,a.value)}),this.addStylesFromStyleDefinition(),this.getAttribute("style").hasValue()){var A=this.getAttribute("style").getString().split(";").map(a=>a.trim());A.forEach(a=>{if(a){var[o,u]=a.split(":").map(l=>l.trim());this.styles[o]=new he(e,o,u)}})}var{definitions:i}=e,s=this.getAttribute("id");s.hasValue()&&(i[s.getString()]||(i[s.getString()]=this)),Array.from(t.childNodes).forEach(a=>{if(a.nodeType===1)this.addChild(a);else if(n&&(a.nodeType===3||a.nodeType===4)){var o=e.createTextNode(a);o.getText().length>0&&this.addChild(o)}})}}getAttribute(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n=this.attributes[e];if(!n&&t){var A=new he(this.document,e,"");return this.attributes[e]=A,A}return n||he.empty(this.document)}getHrefAttribute(){for(var e in this.attributes)if(e==="href"||e.endsWith(":href"))return this.attributes[e];return he.empty(this.document)}getStyle(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,A=this.styles[e];if(A)return A;var i=this.getAttribute(e);if(i!=null&&i.hasValue())return this.styles[e]=i,i;if(!n){var{parent:s}=this;if(s){var a=s.getStyle(e);if(a!=null&&a.hasValue())return a}}if(t){var o=new he(this.document,e,"");return this.styles[e]=o,o}return A||he.empty(this.document)}render(e){if(!(this.getStyle("display").getString()==="none"||this.getStyle("visibility").getString()==="hidden")){if(e.save(),this.getStyle("mask").hasValue()){var t=this.getStyle("mask").getDefinition();t&&(this.applyEffects(e),t.apply(e,this))}else if(this.getStyle("filter").getValue("none")!=="none"){var n=this.getStyle("filter").getDefinition();n&&(this.applyEffects(e),n.apply(e,this))}else this.setContext(e),this.renderChildren(e),this.clearContext(e);e.restore()}}setContext(e){}applyEffects(e){var t=zA.fromElement(this.document,this);t&&t.apply(e);var n=this.getStyle("clip-path",!1,!0);if(n.hasValue()){var A=n.getDefinition();A&&A.apply(e)}}clearContext(e){}renderChildren(e){this.children.forEach(t=>{t.render(e)})}addChild(e){var t=e instanceof Xv?e:this.document.createElement(e);t.parent=this,Xv.ignoreChildTypes.includes(t.type)||this.children.push(t)}matchesSelector(e){var t,{node:n}=this;if(typeof n.matches=="function")return n.matches(e);var A=(t=n.getAttribute)===null||t===void 0?void 0:t.call(n,"class");return!A||A===""?!1:A.split(" ").some(i=>".".concat(i)===e)}addStylesFromStyleDefinition(){var{styles:e,stylesSpecificity:t}=this.document;for(var n in e)if(!n.startsWith("@")&&this.matchesSelector(n)){var A=e[n],i=t[n];if(A)for(var s in A){var a=this.stylesSpecificity[s];typeof a>"u"&&(a="000"),i>=a&&(this.styles[s]=A[s],this.stylesSpecificity[s]=i)}}}removeStyles(e,t){var n=t.reduce((A,i)=>{var s=e.getStyle(i);if(!s.hasValue())return A;var a=s.getString();return s.setValue(""),[...A,[i,a]]},[]);return n}restoreStyles(e,t){t.forEach(n=>{var[A,i]=n;e.getStyle(A,!0).setValue(i)})}isFirstChild(){var e;return((e=this.parent)===null||e===void 0?void 0:e.children.indexOf(this))===0}};rt.ignoreChildTypes=["title"];class BD extends rt{constructor(e,t,n){super(e,t,n)}}function CZ(r){var e=r.trim();return/^('|")/.test(e)?e:'"'.concat(e,'"')}function EZ(r){return typeof process>"u"?r:r.trim().split(",").map(CZ).join(",")}function _Z(r){if(!r)return"";var e=r.trim().toLowerCase();switch(e){case"normal":case"italic":case"oblique":case"inherit":case"initial":case"unset":return e;default:return/^oblique\s+(-|)\d+deg$/.test(e)?e:""}}function TZ(r){if(!r)return"";var e=r.trim().toLowerCase();switch(e){case"normal":case"bold":case"lighter":case"bolder":case"inherit":case"initial":case"unset":return e;default:return/^[\d.]+$/.test(e)?e:""}}class ir{constructor(e,t,n,A,i,s){var a=s?typeof s=="string"?ir.parse(s):s:{};this.fontFamily=i||a.fontFamily,this.fontSize=A||a.fontSize,this.fontStyle=e||a.fontStyle,this.fontWeight=n||a.fontWeight,this.fontVariant=t||a.fontVariant}static parse(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0,n="",A="",i="",s="",a="",o=Wi(e).trim().split(" "),u={fontSize:!1,fontStyle:!1,fontWeight:!1,fontVariant:!1};return o.forEach(l=>{switch(!0){case(!u.fontStyle&&ir.styles.includes(l)):l!=="inherit"&&(n=l),u.fontStyle=!0;break;case(!u.fontVariant&&ir.variants.includes(l)):l!=="inherit"&&(A=l),u.fontStyle=!0,u.fontVariant=!0;break;case(!u.fontWeight&&ir.weights.includes(l)):l!=="inherit"&&(i=l),u.fontStyle=!0,u.fontVariant=!0,u.fontWeight=!0;break;case!u.fontSize:l!=="inherit"&&([s]=l.split("/")),u.fontStyle=!0,u.fontVariant=!0,u.fontWeight=!0,u.fontSize=!0;break;default:l!=="inherit"&&(a+=l)}}),new ir(n,A,i,s,a,t)}toString(){return[_Z(this.fontStyle),this.fontVariant,TZ(this.fontWeight),this.fontSize,EZ(this.fontFamily)].join(" ").trim()}}ir.styles="normal|italic|oblique|inherit";ir.variants="normal|small-caps|inherit";ir.weights="normal|bold|bolder|lighter|100|200|300|400|500|600|700|800|900|inherit";class Jr{constructor(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Number.NaN,t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.NaN,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Number.NaN,A=arguments.length>3&&arguments[3]!==void 0?arguments[3]:Number.NaN;this.x1=e,this.y1=t,this.x2=n,this.y2=A,this.addPoint(e,t),this.addPoint(n,A)}get x(){return this.x1}get y(){return this.y1}get width(){return this.x2-this.x1}get height(){return this.y2-this.y1}addPoint(e,t){typeof e<"u"&&((isNaN(this.x1)||isNaN(this.x2))&&(this.x1=e,this.x2=e),e<this.x1&&(this.x1=e),e>this.x2&&(this.x2=e)),typeof t<"u"&&((isNaN(this.y1)||isNaN(this.y2))&&(this.y1=t,this.y2=t),t<this.y1&&(this.y1=t),t>this.y2&&(this.y2=t))}addX(e){this.addPoint(e,null)}addY(e){this.addPoint(null,e)}addBoundingBox(e){if(e){var{x1:t,y1:n,x2:A,y2:i}=e;this.addPoint(t,n),this.addPoint(A,i)}}sumCubic(e,t,n,A,i){return Math.pow(1-e,3)*t+3*Math.pow(1-e,2)*e*n+3*(1-e)*Math.pow(e,2)*A+Math.pow(e,3)*i}bezierCurveAdd(e,t,n,A,i){var s=6*t-12*n+6*A,a=-3*t+9*n-9*A+3*i,o=3*n-3*t;if(a===0){if(s===0)return;var u=-o/s;0<u&&u<1&&(e?this.addX(this.sumCubic(u,t,n,A,i)):this.addY(this.sumCubic(u,t,n,A,i)));return}var l=Math.pow(s,2)-4*o*a;if(!(l<0)){var h=(-s+Math.sqrt(l))/(2*a);0<h&&h<1&&(e?this.addX(this.sumCubic(h,t,n,A,i)):this.addY(this.sumCubic(h,t,n,A,i)));var f=(-s-Math.sqrt(l))/(2*a);0<f&&f<1&&(e?this.addX(this.sumCubic(f,t,n,A,i)):this.addY(this.sumCubic(f,t,n,A,i)))}}addBezierCurve(e,t,n,A,i,s,a,o){this.addPoint(e,t),this.addPoint(a,o),this.bezierCurveAdd(!0,e,n,i,a),this.bezierCurveAdd(!1,t,A,s,o)}addQuadraticCurve(e,t,n,A,i,s){var a=e+.6666666666666666*(n-e),o=t+2/3*(A-t),u=a+1/3*(i-e),l=o+1/3*(s-t);this.addBezierCurve(e,t,a,u,o,l,i,s)}isPointInBox(e,t){var{x1:n,y1:A,x2:i,y2:s}=this;return n<=e&&e<=i&&A<=t&&t<=s}}class Ce extends Y{constructor(e){super(e.replace(/([+\-.])\s+/gm,"$1").replace(/[^MmZzLlHhVvCcSsQqTtAae\d\s.,+-].*/g,"")),this.control=null,this.start=null,this.current=null,this.command=null,this.commands=this.commands,this.i=-1,this.previousCommand=null,this.points=[],this.angles=[]}reset(){this.i=-1,this.command=null,this.previousCommand=null,this.start=new st(0,0),this.control=new st(0,0),this.current=new st(0,0),this.points=[],this.angles=[]}isEnd(){var{i:e,commands:t}=this;return e>=t.length-1}next(){var e=this.commands[++this.i];return this.previousCommand=this.command,this.command=e,e}getPoint(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"x",t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"y",n=new st(this.command[e],this.command[t]);return this.makeAbsolute(n)}getAsControlPoint(e,t){var n=this.getPoint(e,t);return this.control=n,n}getAsCurrentPoint(e,t){var n=this.getPoint(e,t);return this.current=n,n}getReflectedControlPoint(){var e=this.previousCommand.type;if(e!==Y.CURVE_TO&&e!==Y.SMOOTH_CURVE_TO&&e!==Y.QUAD_TO&&e!==Y.SMOOTH_QUAD_TO)return this.current;var{current:{x:t,y:n},control:{x:A,y:i}}=this,s=new st(2*t-A,2*n-i);return s}makeAbsolute(e){if(this.command.relative){var{x:t,y:n}=this.current;e.x+=t,e.y+=n}return e}addMarker(e,t,n){var{points:A,angles:i}=this;n&&i.length>0&&!i[i.length-1]&&(i[i.length-1]=A[A.length-1].angleTo(n)),this.addMarkerAngle(e,t?t.angleTo(e):null)}addMarkerAngle(e,t){this.points.push(e),this.angles.push(t)}getMarkerPoints(){return this.points}getMarkerAngles(){for(var{angles:e}=this,t=e.length,n=0;n<t;n++)if(!e[n]){for(var A=n+1;A<t;A++)if(e[A]){e[n]=e[A];break}}return e}}class ri extends rt{constructor(){super(...arguments),this.modifiedEmSizeStack=!1}calculateOpacity(){for(var e=1,t=this;t;){var n=t.getStyle("opacity",!1,!0);n.hasValue(!0)&&(e*=n.getNumber()),t=t.parent}return e}setContext(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(!t){var n=this.getStyle("fill"),A=this.getStyle("fill-opacity"),i=this.getStyle("stroke"),s=this.getStyle("stroke-opacity");if(n.isUrlDefinition()){var a=n.getFillStyleDefinition(this,A);a&&(e.fillStyle=a)}else if(n.hasValue()){n.getString()==="currentColor"&&n.setValue(this.getStyle("color").getColor());var o=n.getColor();o!=="inherit"&&(e.fillStyle=o==="none"?"rgba(0,0,0,0)":o)}if(A.hasValue()){var u=new he(this.document,"fill",e.fillStyle).addOpacity(A).getColor();e.fillStyle=u}if(i.isUrlDefinition()){var l=i.getFillStyleDefinition(this,s);l&&(e.strokeStyle=l)}else if(i.hasValue()){i.getString()==="currentColor"&&i.setValue(this.getStyle("color").getColor());var h=i.getString();h!=="inherit"&&(e.strokeStyle=h==="none"?"rgba(0,0,0,0)":h)}if(s.hasValue()){var f=new he(this.document,"stroke",e.strokeStyle).addOpacity(s).getString();e.strokeStyle=f}var d=this.getStyle("stroke-width");if(d.hasValue()){var g=d.getPixels();e.lineWidth=g||Ui}var m=this.getStyle("stroke-linecap"),C=this.getStyle("stroke-linejoin"),E=this.getStyle("stroke-miterlimit"),T=this.getStyle("stroke-dasharray"),I=this.getStyle("stroke-dashoffset");if(m.hasValue()&&(e.lineCap=m.getString()),C.hasValue()&&(e.lineJoin=C.getString()),E.hasValue()&&(e.miterLimit=E.getNumber()),T.hasValue()&&T.getString()!=="none"){var b=Tr(T.getString());typeof e.setLineDash<"u"?e.setLineDash(b):typeof e.webkitLineDash<"u"?e.webkitLineDash=b:typeof e.mozDash<"u"&&!(b.length===1&&b[0]===0)&&(e.mozDash=b);var P=I.getPixels();typeof e.lineDashOffset<"u"?e.lineDashOffset=P:typeof e.webkitLineDashOffset<"u"?e.webkitLineDashOffset=P:typeof e.mozDashOffset<"u"&&(e.mozDashOffset=P)}}if(this.modifiedEmSizeStack=!1,typeof e.font<"u"){var Q=this.getStyle("font"),v=this.getStyle("font-style"),y=this.getStyle("font-variant"),w=this.getStyle("font-weight"),U=this.getStyle("font-size"),F=this.getStyle("font-family"),R=new ir(v.getString(),y.getString(),w.getString(),U.hasValue()?"".concat(U.getPixels(!0),"px"):"",F.getString(),ir.parse(Q.getString(),e.font));v.setValue(R.fontStyle),y.setValue(R.fontVariant),w.setValue(R.fontWeight),U.setValue(R.fontSize),F.setValue(R.fontFamily),e.font=R.toString(),U.isPixels()&&(this.document.emSize=U.getPixels(),this.modifiedEmSizeStack=!0)}t||(this.applyEffects(e),e.globalAlpha=this.calculateOpacity())}clearContext(e){super.clearContext(e),this.modifiedEmSizeStack&&this.document.popEmSize()}}class De extends ri{constructor(e,t,n){super(e,t,n),this.type="path",this.pathParser=null,this.pathParser=new Ce(this.getAttribute("d").getString())}path(e){var{pathParser:t}=this,n=new Jr;for(t.reset(),e&&e.beginPath();!t.isEnd();)switch(t.next().type){case Ce.MOVE_TO:this.pathM(e,n);break;case Ce.LINE_TO:this.pathL(e,n);break;case Ce.HORIZ_LINE_TO:this.pathH(e,n);break;case Ce.VERT_LINE_TO:this.pathV(e,n);break;case Ce.CURVE_TO:this.pathC(e,n);break;case Ce.SMOOTH_CURVE_TO:this.pathS(e,n);break;case Ce.QUAD_TO:this.pathQ(e,n);break;case Ce.SMOOTH_QUAD_TO:this.pathT(e,n);break;case Ce.ARC:this.pathA(e,n);break;case Ce.CLOSE_PATH:this.pathZ(e,n);break}return n}getBoundingBox(e){return this.path()}getMarkers(){var{pathParser:e}=this,t=e.getMarkerPoints(),n=e.getMarkerAngles(),A=t.map((i,s)=>[i,n[s]]);return A}renderChildren(e){this.path(e),this.document.screen.mouse.checkPath(this,e);var t=this.getStyle("fill-rule");e.fillStyle!==""&&(t.getString("inherit")!=="inherit"?e.fill(t.getString()):e.fill()),e.strokeStyle!==""&&(this.getAttribute("vector-effect").getString()==="non-scaling-stroke"?(e.save(),e.setTransform(1,0,0,1,0,0),e.stroke(),e.restore()):e.stroke());var n=this.getMarkers();if(n){var A=n.length-1,i=this.getStyle("marker-start"),s=this.getStyle("marker-mid"),a=this.getStyle("marker-end");if(i.isUrlDefinition()){var o=i.getDefinition(),[u,l]=n[0];o.render(e,u,l)}if(s.isUrlDefinition())for(var h=s.getDefinition(),f=1;f<A;f++){var[d,g]=n[f];h.render(e,d,g)}if(a.isUrlDefinition()){var m=a.getDefinition(),[C,E]=n[A];m.render(e,C,E)}}}static pathM(e){var t=e.getAsCurrentPoint();return e.start=e.current,{point:t}}pathM(e,t){var{pathParser:n}=this,{point:A}=De.pathM(n),{x:i,y:s}=A;n.addMarker(A),t.addPoint(i,s),e&&e.moveTo(i,s)}static pathL(e){var{current:t}=e,n=e.getAsCurrentPoint();return{current:t,point:n}}pathL(e,t){var{pathParser:n}=this,{current:A,point:i}=De.pathL(n),{x:s,y:a}=i;n.addMarker(i,A),t.addPoint(s,a),e&&e.lineTo(s,a)}static pathH(e){var{current:t,command:n}=e,A=new st((n.relative?t.x:0)+n.x,t.y);return e.current=A,{current:t,point:A}}pathH(e,t){var{pathParser:n}=this,{current:A,point:i}=De.pathH(n),{x:s,y:a}=i;n.addMarker(i,A),t.addPoint(s,a),e&&e.lineTo(s,a)}static pathV(e){var{current:t,command:n}=e,A=new st(t.x,(n.relative?t.y:0)+n.y);return e.current=A,{current:t,point:A}}pathV(e,t){var{pathParser:n}=this,{current:A,point:i}=De.pathV(n),{x:s,y:a}=i;n.addMarker(i,A),t.addPoint(s,a),e&&e.lineTo(s,a)}static pathC(e){var{current:t}=e,n=e.getPoint("x1","y1"),A=e.getAsControlPoint("x2","y2"),i=e.getAsCurrentPoint();return{current:t,point:n,controlPoint:A,currentPoint:i}}pathC(e,t){var{pathParser:n}=this,{current:A,point:i,controlPoint:s,currentPoint:a}=De.pathC(n);n.addMarker(a,s,i),t.addBezierCurve(A.x,A.y,i.x,i.y,s.x,s.y,a.x,a.y),e&&e.bezierCurveTo(i.x,i.y,s.x,s.y,a.x,a.y)}static pathS(e){var{current:t}=e,n=e.getReflectedControlPoint(),A=e.getAsControlPoint("x2","y2"),i=e.getAsCurrentPoint();return{current:t,point:n,controlPoint:A,currentPoint:i}}pathS(e,t){var{pathParser:n}=this,{current:A,point:i,controlPoint:s,currentPoint:a}=De.pathS(n);n.addMarker(a,s,i),t.addBezierCurve(A.x,A.y,i.x,i.y,s.x,s.y,a.x,a.y),e&&e.bezierCurveTo(i.x,i.y,s.x,s.y,a.x,a.y)}static pathQ(e){var{current:t}=e,n=e.getAsControlPoint("x1","y1"),A=e.getAsCurrentPoint();return{current:t,controlPoint:n,currentPoint:A}}pathQ(e,t){var{pathParser:n}=this,{current:A,controlPoint:i,currentPoint:s}=De.pathQ(n);n.addMarker(s,i,i),t.addQuadraticCurve(A.x,A.y,i.x,i.y,s.x,s.y),e&&e.quadraticCurveTo(i.x,i.y,s.x,s.y)}static pathT(e){var{current:t}=e,n=e.getReflectedControlPoint();e.control=n;var A=e.getAsCurrentPoint();return{current:t,controlPoint:n,currentPoint:A}}pathT(e,t){var{pathParser:n}=this,{current:A,controlPoint:i,currentPoint:s}=De.pathT(n);n.addMarker(s,i,i),t.addQuadraticCurve(A.x,A.y,i.x,i.y,s.x,s.y),e&&e.quadraticCurveTo(i.x,i.y,s.x,s.y)}static pathA(e){var{current:t,command:n}=e,{rX:A,rY:i,xRot:s,lArcFlag:a,sweepFlag:o}=n,u=s*(Math.PI/180),l=e.getAsCurrentPoint(),h=new st(Math.cos(u)*(t.x-l.x)/2+Math.sin(u)*(t.y-l.y)/2,-Math.sin(u)*(t.x-l.x)/2+Math.cos(u)*(t.y-l.y)/2),f=Math.pow(h.x,2)/Math.pow(A,2)+Math.pow(h.y,2)/Math.pow(i,2);f>1&&(A*=Math.sqrt(f),i*=Math.sqrt(f));var d=(a===o?-1:1)*Math.sqrt((Math.pow(A,2)*Math.pow(i,2)-Math.pow(A,2)*Math.pow(h.y,2)-Math.pow(i,2)*Math.pow(h.x,2))/(Math.pow(A,2)*Math.pow(h.y,2)+Math.pow(i,2)*Math.pow(h.x,2)));isNaN(d)&&(d=0);var g=new st(d*A*h.y/i,d*-i*h.x/A),m=new st((t.x+l.x)/2+Math.cos(u)*g.x-Math.sin(u)*g.y,(t.y+l.y)/2+Math.sin(u)*g.x+Math.cos(u)*g.y),C=Hv([1,0],[(h.x-g.x)/A,(h.y-g.y)/i]),E=[(h.x-g.x)/A,(h.y-g.y)/i],T=[(-h.x-g.x)/A,(-h.y-g.y)/i],I=Hv(E,T);return Cc(E,T)<=-1&&(I=Math.PI),Cc(E,T)>=1&&(I=0),{currentPoint:l,rX:A,rY:i,sweepFlag:o,xAxisRotation:u,centp:m,a1:C,ad:I}}pathA(e,t){var{pathParser:n}=this,{currentPoint:A,rX:i,rY:s,sweepFlag:a,xAxisRotation:o,centp:u,a1:l,ad:h}=De.pathA(n),f=1-a?1:-1,d=l+f*(h/2),g=new st(u.x+i*Math.cos(d),u.y+s*Math.sin(d));if(n.addMarkerAngle(g,d-f*Math.PI/2),n.addMarkerAngle(A,d-f*Math.PI),t.addPoint(A.x,A.y),e&&!isNaN(l)&&!isNaN(h)){var m=i>s?i:s,C=i>s?1:i/s,E=i>s?s/i:1;e.translate(u.x,u.y),e.rotate(o),e.scale(C,E),e.arc(0,0,m,l,l+h,!!(1-a)),e.scale(1/C,1/E),e.rotate(-o),e.translate(-u.x,-u.y)}}static pathZ(e){e.current=e.start}pathZ(e,t){De.pathZ(this.pathParser),e&&t.x1!==t.x2&&t.y1!==t.y2&&e.closePath()}}class BB extends De{constructor(e,t,n){super(e,t,n),this.type="glyph",this.horizAdvX=this.getAttribute("horiz-adv-x").getNumber(),this.unicode=this.getAttribute("unicode").getString(),this.arabicForm=this.getAttribute("arabic-form").getString()}}class dA extends ri{constructor(e,t,n){super(e,t,new.target===dA?!0:n),this.type="text",this.x=0,this.y=0,this.measureCache=-1}setContext(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;super.setContext(e,t);var n=this.getStyle("dominant-baseline").getTextBaseline()||this.getStyle("alignment-baseline").getTextBaseline();n&&(e.textBaseline=n)}initializeCoordinates(){this.x=0,this.y=0,this.leafTexts=[],this.textChunkStart=0,this.minX=Number.POSITIVE_INFINITY,this.maxX=Number.NEGATIVE_INFINITY}getBoundingBox(e){if(this.type!=="text")return this.getTElementBoundingBox(e);this.initializeCoordinates(),this.adjustChildCoordinatesRecursive(e);var t=null;return this.children.forEach((n,A)=>{var i=this.getChildBoundingBox(e,this,this,A);t?t.addBoundingBox(i):t=i}),t}getFontSize(){var{document:e,parent:t}=this,n=ir.parse(e.ctx.font).fontSize,A=t.getStyle("font-size").getNumber(n);return A}getTElementBoundingBox(e){var t=this.getFontSize();return new Jr(this.x,this.y-t,this.x+this.measureText(e),this.y)}getGlyph(e,t,n){var A=t[n],i=null;if(e.isArabic){var s=t.length,a=t[n-1],o=t[n+1],u="isolated";if((n===0||a===" ")&&n<s-1&&o!==" "&&(u="terminal"),n>0&&a!==" "&&n<s-1&&o!==" "&&(u="medial"),n>0&&a!==" "&&(n===s-1||o===" ")&&(u="initial"),typeof e.glyphs[A]<"u"){var l=e.glyphs[A];i=l instanceof BB?l:l[u]}}else i=e.glyphs[A];return i||(i=e.missingGlyph),i}getText(){return""}getTextFromNode(e){var t=e||this.node,n=Array.from(t.parentNode.childNodes),A=n.indexOf(t),i=n.length-1,s=Wi(t.textContent||"");return A===0&&(s=aD(s)),A===i&&(s=oD(s)),s}renderChildren(e){if(this.type!=="text"){this.renderTElementChildren(e);return}this.initializeCoordinates(),this.adjustChildCoordinatesRecursive(e),this.children.forEach((n,A)=>{this.renderChild(e,this,this,A)});var{mouse:t}=this.document.screen;t.isWorking()&&t.checkBoundingBox(this,this.getBoundingBox(e))}renderTElementChildren(e){var{document:t,parent:n}=this,A=this.getText(),i=n.getStyle("font-family").getDefinition();if(i){for(var{unitsPerEm:s}=i.fontFace,a=ir.parse(t.ctx.font),o=n.getStyle("font-size").getNumber(a.fontSize),u=n.getStyle("font-style").getString(a.fontStyle),l=o/s,h=i.isRTL?A.split("").reverse().join(""):A,f=Tr(n.getAttribute("dx").getString()),d=h.length,g=0;g<d;g++){var m=this.getGlyph(i,h,g);e.translate(this.x,this.y),e.scale(l,-l);var C=e.lineWidth;e.lineWidth=e.lineWidth*s/o,u==="italic"&&e.transform(1,0,.4,1,0,0),m.render(e),u==="italic"&&e.transform(1,0,-.4,1,0,0),e.lineWidth=C,e.scale(1/l,-1/l),e.translate(-this.x,-this.y),this.x+=o*(m.horizAdvX||i.horizAdvX)/s,typeof f[g]<"u"&&!isNaN(f[g])&&(this.x+=f[g])}return}var{x:E,y:T}=this;e.fillStyle&&e.fillText(A,E,T),e.strokeStyle&&e.strokeText(A,E,T)}applyAnchoring(){if(!(this.textChunkStart>=this.leafTexts.length)){var e=this.leafTexts[this.textChunkStart],t=e.getStyle("text-anchor").getString("start"),n=!1,A=0;t==="start"&&!n||t==="end"&&n?A=e.x-this.minX:t==="end"&&!n||t==="start"&&n?A=e.x-this.maxX:A=e.x-(this.minX+this.maxX)/2;for(var i=this.textChunkStart;i<this.leafTexts.length;i++)this.leafTexts[i].x+=A;this.minX=Number.POSITIVE_INFINITY,this.maxX=Number.NEGATIVE_INFINITY,this.textChunkStart=this.leafTexts.length}}adjustChildCoordinatesRecursive(e){this.children.forEach((t,n)=>{this.adjustChildCoordinatesRecursiveCore(e,this,this,n)}),this.applyAnchoring()}adjustChildCoordinatesRecursiveCore(e,t,n,A){var i=n.children[A];i.children.length>0?i.children.forEach((s,a)=>{t.adjustChildCoordinatesRecursiveCore(e,t,i,a)}):this.adjustChildCoordinates(e,t,n,A)}adjustChildCoordinates(e,t,n,A){var i=n.children[A];if(typeof i.measureText!="function")return i;e.save(),i.setContext(e,!0);var s=i.getAttribute("x"),a=i.getAttribute("y"),o=i.getAttribute("dx"),u=i.getAttribute("dy"),l=i.getStyle("font-family").getDefinition(),h=!!l&&l.isRTL;A===0&&(s.hasValue()||s.setValue(i.getInheritedAttribute("x")),a.hasValue()||a.setValue(i.getInheritedAttribute("y")),o.hasValue()||o.setValue(i.getInheritedAttribute("dx")),u.hasValue()||u.setValue(i.getInheritedAttribute("dy")));var f=i.measureText(e);return h&&(t.x-=f),s.hasValue()?(t.applyAnchoring(),i.x=s.getPixels("x"),o.hasValue()&&(i.x+=o.getPixels("x"))):(o.hasValue()&&(t.x+=o.getPixels("x")),i.x=t.x),t.x=i.x,h||(t.x+=f),a.hasValue()?(i.y=a.getPixels("y"),u.hasValue()&&(i.y+=u.getPixels("y"))):(u.hasValue()&&(t.y+=u.getPixels("y")),i.y=t.y),t.y=i.y,t.leafTexts.push(i),t.minX=Math.min(t.minX,i.x,i.x+f),t.maxX=Math.max(t.maxX,i.x,i.x+f),i.clearContext(e),e.restore(),i}getChildBoundingBox(e,t,n,A){var i=n.children[A];if(typeof i.getBoundingBox!="function")return null;var s=i.getBoundingBox(e);return s?(i.children.forEach((a,o)=>{var u=t.getChildBoundingBox(e,t,i,o);s.addBoundingBox(u)}),s):null}renderChild(e,t,n,A){var i=n.children[A];i.render(e),i.children.forEach((s,a)=>{t.renderChild(e,t,i,a)})}measureText(e){var{measureCache:t}=this;if(~t)return t;var n=this.getText(),A=this.measureTargetText(e,n);return this.measureCache=A,A}measureTargetText(e,t){if(!t.length)return 0;var{parent:n}=this,A=n.getStyle("font-family").getDefinition();if(A){for(var i=this.getFontSize(),s=A.isRTL?t.split("").reverse().join(""):t,a=Tr(n.getAttribute("dx").getString()),o=s.length,u=0,l=0;l<o;l++){var h=this.getGlyph(A,s,l);u+=(h.horizAdvX||A.horizAdvX)*i/A.fontFace.unitsPerEm,typeof a[l]<"u"&&!isNaN(a[l])&&(u+=a[l])}return u}if(!e.measureText)return t.length*10;e.save(),this.setContext(e,!0);var{width:f}=e.measureText(t);return this.clearContext(e),e.restore(),f}getInheritedAttribute(e){for(var t=this;t instanceof dA&&t.isFirstChild();){var n=t.parent.getAttribute(e);if(n.hasValue(!0))return n.getValue("0");t=t.parent}return null}}class su extends dA{constructor(e,t,n){super(e,t,new.target===su?!0:n),this.type="tspan",this.text=this.children.length>0?"":this.getTextFromNode()}getText(){return this.text}}class IZ extends su{constructor(){super(...arguments),this.type="textNode"}}class zs extends ri{constructor(){super(...arguments),this.type="svg",this.root=!1}setContext(e){var t,{document:n}=this,{screen:A,window:i}=n,s=e.canvas;if(A.setDefaults(e),s.style&&typeof e.font<"u"&&i&&typeof i.getComputedStyle<"u"){e.font=i.getComputedStyle(s).getPropertyValue("font");var a=new he(n,"fontSize",ir.parse(e.font).fontSize);a.hasValue()&&(n.rootEmSize=a.getPixels("y"),n.emSize=n.rootEmSize)}this.getAttribute("x").hasValue()||this.getAttribute("x",!0).setValue(0),this.getAttribute("y").hasValue()||this.getAttribute("y",!0).setValue(0);var{width:o,height:u}=A.viewPort;this.getStyle("width").hasValue()||this.getStyle("width",!0).setValue("100%"),this.getStyle("height").hasValue()||this.getStyle("height",!0).setValue("100%"),this.getStyle("color").hasValue()||this.getStyle("color",!0).setValue("black");var l=this.getAttribute("refX"),h=this.getAttribute("refY"),f=this.getAttribute("viewBox"),d=f.hasValue()?Tr(f.getString()):null,g=!this.root&&this.getStyle("overflow").getValue("hidden")!=="visible",m=0,C=0,E=0,T=0;d&&(m=d[0],C=d[1]),this.root||(o=this.getStyle("width").getPixels("x"),u=this.getStyle("height").getPixels("y"),this.type==="marker"&&(E=m,T=C,m=0,C=0)),A.viewPort.setCurrent(o,u),this.node&&(!this.parent||((t=this.node.parentNode)===null||t===void 0?void 0:t.nodeName)==="foreignObject")&&this.getStyle("transform",!1,!0).hasValue()&&!this.getStyle("transform-origin",!1,!0).hasValue()&&this.getStyle("transform-origin",!0,!0).setValue("50% 50%"),super.setContext(e),e.translate(this.getAttribute("x").getPixels("x"),this.getAttribute("y").getPixels("y")),d&&(o=d[2],u=d[3]),n.setViewBox({ctx:e,aspectRatio:this.getAttribute("preserveAspectRatio").getString(),width:A.viewPort.width,desiredWidth:o,height:A.viewPort.height,desiredHeight:u,minX:m,minY:C,refX:l.getValue(),refY:h.getValue(),clip:g,clipX:E,clipY:T}),d&&(A.viewPort.removeCurrent(),A.viewPort.setCurrent(o,u))}clearContext(e){super.clearContext(e),this.document.screen.viewPort.removeCurrent()}resize(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,A=this.getAttribute("width",!0),i=this.getAttribute("height",!0),s=this.getAttribute("viewBox"),a=this.getAttribute("style"),o=A.getNumber(0),u=i.getNumber(0);if(n)if(typeof n=="string")this.getAttribute("preserveAspectRatio",!0).setValue(n);else{var l=this.getAttribute("preserveAspectRatio");l.hasValue()&&l.setValue(l.getString().replace(/^\s*(\S.*\S)\s*$/,"$1"))}if(A.setValue(e),i.setValue(t),s.hasValue()||s.setValue("0 0 ".concat(o||e," ").concat(u||t)),a.hasValue()){var h=this.getStyle("width"),f=this.getStyle("height");h.hasValue()&&h.setValue("".concat(e,"px")),f.hasValue()&&f.setValue("".concat(t,"px"))}}}class CB extends De{constructor(){super(...arguments),this.type="rect"}path(e){var t=this.getAttribute("x").getPixels("x"),n=this.getAttribute("y").getPixels("y"),A=this.getStyle("width",!1,!0).getPixels("x"),i=this.getStyle("height",!1,!0).getPixels("y"),s=this.getAttribute("rx"),a=this.getAttribute("ry"),o=s.getPixels("x"),u=a.getPixels("y");if(s.hasValue()&&!a.hasValue()&&(u=o),a.hasValue()&&!s.hasValue()&&(o=u),o=Math.min(o,A/2),u=Math.min(u,i/2),e){var l=4*((Math.sqrt(2)-1)/3);e.beginPath(),i>0&&A>0&&(e.moveTo(t+o,n),e.lineTo(t+A-o,n),e.bezierCurveTo(t+A-o+l*o,n,t+A,n+u-l*u,t+A,n+u),e.lineTo(t+A,n+i-u),e.bezierCurveTo(t+A,n+i-u+l*u,t+A-o+l*o,n+i,t+A-o,n+i),e.lineTo(t+o,n+i),e.bezierCurveTo(t+o-l*o,n+i,t,n+i-u+l*u,t,n+i-u),e.lineTo(t,n+u),e.bezierCurveTo(t,n+u-l*u,t+o-l*o,n,t+o,n),e.closePath())}return new Jr(t,n,t+A,n+i)}getMarkers(){return null}}class CD extends De{constructor(){super(...arguments),this.type="circle"}path(e){var t=this.getAttribute("cx").getPixels("x"),n=this.getAttribute("cy").getPixels("y"),A=this.getAttribute("r").getPixels();return e&&A>0&&(e.beginPath(),e.arc(t,n,A,0,Math.PI*2,!1),e.closePath()),new Jr(t-A,n-A,t+A,n+A)}getMarkers(){return null}}class ED extends De{constructor(){super(...arguments),this.type="ellipse"}path(e){var t=4*((Math.sqrt(2)-1)/3),n=this.getAttribute("rx").getPixels("x"),A=this.getAttribute("ry").getPixels("y"),i=this.getAttribute("cx").getPixels("x"),s=this.getAttribute("cy").getPixels("y");return e&&n>0&&A>0&&(e.beginPath(),e.moveTo(i+n,s),e.bezierCurveTo(i+n,s+t*A,i+t*n,s+A,i,s+A),e.bezierCurveTo(i-t*n,s+A,i-n,s+t*A,i-n,s),e.bezierCurveTo(i-n,s-t*A,i-t*n,s-A,i,s-A),e.bezierCurveTo(i+t*n,s-A,i+n,s-t*A,i+n,s),e.closePath()),new Jr(i-n,s-A,i+n,s+A)}getMarkers(){return null}}class _D extends De{constructor(){super(...arguments),this.type="line"}getPoints(){return[new st(this.getAttribute("x1").getPixels("x"),this.getAttribute("y1").getPixels("y")),new st(this.getAttribute("x2").getPixels("x"),this.getAttribute("y2").getPixels("y"))]}path(e){var[{x:t,y:n},{x:A,y:i}]=this.getPoints();return e&&(e.beginPath(),e.moveTo(t,n),e.lineTo(A,i)),new Jr(t,n,A,i)}getMarkers(){var[e,t]=this.getPoints(),n=e.angleTo(t);return[[e,n],[t,n]]}}class EB extends De{constructor(e,t,n){super(e,t,n),this.type="polyline",this.points=[],this.points=st.parsePath(this.getAttribute("points").getString())}path(e){var{points:t}=this,[{x:n,y:A}]=t,i=new Jr(n,A);return e&&(e.beginPath(),e.moveTo(n,A)),t.forEach(s=>{var{x:a,y:o}=s;i.addPoint(a,o),e&&e.lineTo(a,o)}),i}getMarkers(){var{points:e}=this,t=e.length-1,n=[];return e.forEach((A,i)=>{i!==t&&n.push([A,A.angleTo(e[i+1])])}),n.length>0&&n.push([e[e.length-1],n[n.length-1][1]]),n}}class TD extends EB{constructor(){super(...arguments),this.type="polygon"}path(e){var t=super.path(e),[{x:n,y:A}]=this.points;return e&&(e.lineTo(n,A),e.closePath()),t}}class ID extends rt{constructor(){super(...arguments),this.type="pattern"}createPattern(e,t,n){var A=this.getStyle("width").getPixels("x",!0),i=this.getStyle("height").getPixels("y",!0),s=new zs(this.document,null);s.attributes.viewBox=new he(this.document,"viewBox",this.getAttribute("viewBox").getValue()),s.attributes.width=new he(this.document,"width","".concat(A,"px")),s.attributes.height=new he(this.document,"height","".concat(i,"px")),s.attributes.transform=new he(this.document,"transform",this.getAttribute("patternTransform").getValue()),s.children=this.children;var a=this.document.createCanvas(A,i),o=a.getContext("2d"),u=this.getAttribute("x"),l=this.getAttribute("y");u.hasValue()&&l.hasValue()&&o.translate(u.getPixels("x",!0),l.getPixels("y",!0)),n.hasValue()?this.styles["fill-opacity"]=n:Reflect.deleteProperty(this.styles,"fill-opacity");for(var h=-1;h<=1;h++)for(var f=-1;f<=1;f++)o.save(),s.attributes.x=new he(this.document,"x",h*a.width),s.attributes.y=new he(this.document,"y",f*a.height),s.render(o),o.restore();var d=e.createPattern(a,"repeat");return d}}class bD extends rt{constructor(){super(...arguments),this.type="marker"}render(e,t,n){if(t){var{x:A,y:i}=t,s=this.getAttribute("orient").getString("auto"),a=this.getAttribute("markerUnits").getString("strokeWidth");e.translate(A,i),s==="auto"&&e.rotate(n),a==="strokeWidth"&&e.scale(e.lineWidth,e.lineWidth),e.save();var o=new zs(this.document,null);o.type=this.type,o.attributes.viewBox=new he(this.document,"viewBox",this.getAttribute("viewBox").getValue()),o.attributes.refX=new he(this.document,"refX",this.getAttribute("refX").getValue()),o.attributes.refY=new he(this.document,"refY",this.getAttribute("refY").getValue()),o.attributes.width=new he(this.document,"width",this.getAttribute("markerWidth").getValue()),o.attributes.height=new he(this.document,"height",this.getAttribute("markerHeight").getValue()),o.attributes.overflow=new he(this.document,"overflow",this.getAttribute("overflow").getValue()),o.attributes.fill=new he(this.document,"fill",this.getAttribute("fill").getColor("black")),o.attributes.stroke=new he(this.document,"stroke",this.getAttribute("stroke").getValue("none")),o.children=this.children,o.render(e),e.restore(),a==="strokeWidth"&&e.scale(1/e.lineWidth,1/e.lineWidth),s==="auto"&&e.rotate(-n),e.translate(-A,-i)}}}class UD extends rt{constructor(){super(...arguments),this.type="defs"}render(){}}class Th extends ri{constructor(){super(...arguments),this.type="g"}getBoundingBox(e){var t=new Jr;return this.children.forEach(n=>{t.addBoundingBox(n.getBoundingBox(e))}),t}}class _B extends rt{constructor(e,t,n){super(e,t,n),this.attributesToInherit=["gradientUnits"],this.stops=[];var{stops:A,children:i}=this;i.forEach(s=>{s.type==="stop"&&A.push(s)})}getGradientUnits(){return this.getAttribute("gradientUnits").getString("objectBoundingBox")}createGradient(e,t,n){var A=this;this.getHrefAttribute().hasValue()&&(A=this.getHrefAttribute().getDefinition(),this.inheritStopContainer(A));var{stops:i}=A,s=this.getGradient(e,t);if(!s)return this.addParentOpacity(n,i[i.length-1].color);if(i.forEach(C=>{s.addColorStop(C.offset,this.addParentOpacity(n,C.color))}),this.getAttribute("gradientTransform").hasValue()){var{document:a}=this,{MAX_VIRTUAL_PIXELS:o,viewPort:u}=a.screen,[l]=u.viewPorts,h=new CB(a,null);h.attributes.x=new he(a,"x",-o/3),h.attributes.y=new he(a,"y",-o/3),h.attributes.width=new he(a,"width",o),h.attributes.height=new he(a,"height",o);var f=new Th(a,null);f.attributes.transform=new he(a,"transform",this.getAttribute("gradientTransform").getValue()),f.children=[h];var d=new zs(a,null);d.attributes.x=new he(a,"x",0),d.attributes.y=new he(a,"y",0),d.attributes.width=new he(a,"width",l.width),d.attributes.height=new he(a,"height",l.height),d.children=[f];var g=a.createCanvas(l.width,l.height),m=g.getContext("2d");return m.fillStyle=s,d.render(m),m.createPattern(g,"no-repeat")}return s}inheritStopContainer(e){this.attributesToInherit.forEach(t=>{!this.getAttribute(t).hasValue()&&e.getAttribute(t).hasValue()&&this.getAttribute(t,!0).setValue(e.getAttribute(t).getValue())})}addParentOpacity(e,t){if(e.hasValue()){var n=new he(this.document,"color",t);return n.addOpacity(e).getColor()}return t}}class FD extends _B{constructor(e,t,n){super(e,t,n),this.type="linearGradient",this.attributesToInherit.push("x1","y1","x2","y2")}getGradient(e,t){var n=this.getGradientUnits()==="objectBoundingBox",A=n?t.getBoundingBox(e):null;if(n&&!A)return null;!this.getAttribute("x1").hasValue()&&!this.getAttribute("y1").hasValue()&&!this.getAttribute("x2").hasValue()&&!this.getAttribute("y2").hasValue()&&(this.getAttribute("x1",!0).setValue(0),this.getAttribute("y1",!0).setValue(0),this.getAttribute("x2",!0).setValue(1),this.getAttribute("y2",!0).setValue(0));var i=n?A.x+A.width*this.getAttribute("x1").getNumber():this.getAttribute("x1").getPixels("x"),s=n?A.y+A.height*this.getAttribute("y1").getNumber():this.getAttribute("y1").getPixels("y"),a=n?A.x+A.width*this.getAttribute("x2").getNumber():this.getAttribute("x2").getPixels("x"),o=n?A.y+A.height*this.getAttribute("y2").getNumber():this.getAttribute("y2").getPixels("y");return i===a&&s===o?null:e.createLinearGradient(i,s,a,o)}}class SD extends _B{constructor(e,t,n){super(e,t,n),this.type="radialGradient",this.attributesToInherit.push("cx","cy","r","fx","fy","fr")}getGradient(e,t){var n=this.getGradientUnits()==="objectBoundingBox",A=t.getBoundingBox(e);if(n&&!A)return null;this.getAttribute("cx").hasValue()||this.getAttribute("cx",!0).setValue("50%"),this.getAttribute("cy").hasValue()||this.getAttribute("cy",!0).setValue("50%"),this.getAttribute("r").hasValue()||this.getAttribute("r",!0).setValue("50%");var i=n?A.x+A.width*this.getAttribute("cx").getNumber():this.getAttribute("cx").getPixels("x"),s=n?A.y+A.height*this.getAttribute("cy").getNumber():this.getAttribute("cy").getPixels("y"),a=i,o=s;this.getAttribute("fx").hasValue()&&(a=n?A.x+A.width*this.getAttribute("fx").getNumber():this.getAttribute("fx").getPixels("x")),this.getAttribute("fy").hasValue()&&(o=n?A.y+A.height*this.getAttribute("fy").getNumber():this.getAttribute("fy").getPixels("y"));var u=n?(A.width+A.height)/2*this.getAttribute("r").getNumber():this.getAttribute("r").getPixels(),l=this.getAttribute("fr").getPixels();return e.createRadialGradient(a,o,l,i,s,u)}}class QD extends rt{constructor(e,t,n){super(e,t,n),this.type="stop";var A=Math.max(0,Math.min(1,this.getAttribute("offset").getNumber())),i=this.getStyle("stop-opacity"),s=this.getStyle("stop-color",!0);s.getString()===""&&s.setValue("#000"),i.hasValue()&&(s=s.addOpacity(i)),this.offset=A,this.color=s.getColor()}}class Ih extends rt{constructor(e,t,n){super(e,t,n),this.type="animate",this.duration=0,this.initialValue=null,this.initialUnits="",this.removed=!1,this.frozen=!1,e.screen.animations.push(this),this.begin=this.getAttribute("begin").getMilliseconds(),this.maxDuration=this.begin+this.getAttribute("dur").getMilliseconds(),this.from=this.getAttribute("from"),this.to=this.getAttribute("to"),this.values=new he(e,"values",null);var A=this.getAttribute("values");A.hasValue()&&this.values.setValue(A.getString().split(";"))}getProperty(){var e=this.getAttribute("attributeType").getString(),t=this.getAttribute("attributeName").getString();return e==="CSS"?this.parent.getStyle(t,!0):this.parent.getAttribute(t,!0)}calcValue(){var{initialUnits:e}=this,{progress:t,from:n,to:A}=this.getProgress(),i=n.getNumber()+(A.getNumber()-n.getNumber())*t;return e==="%"&&(i*=100),"".concat(i).concat(e)}update(e){var{parent:t}=this,n=this.getProperty();if(this.initialValue||(this.initialValue=n.getString(),this.initialUnits=n.getUnits()),this.duration>this.maxDuration){var A=this.getAttribute("fill").getString("remove");if(this.getAttribute("repeatCount").getString()==="indefinite"||this.getAttribute("repeatDur").getString()==="indefinite")this.duration=0;else if(A==="freeze"&&!this.frozen)this.frozen=!0,t.animationFrozen=!0,t.animationFrozenValue=n.getString();else if(A==="remove"&&!this.removed)return this.removed=!0,n.setValue(t.animationFrozen?t.animationFrozenValue:this.initialValue),!0;return!1}this.duration+=e;var i=!1;if(this.begin<this.duration){var s=this.calcValue(),a=this.getAttribute("type");if(a.hasValue()){var o=a.getString();s="".concat(o,"(").concat(s,")")}n.setValue(s),i=!0}return i}getProgress(){var{document:e,values:t}=this,n={progress:(this.duration-this.begin)/(this.maxDuration-this.begin)};if(t.hasValue()){var A=n.progress*(t.getValue().length-1),i=Math.floor(A),s=Math.ceil(A);n.from=new he(e,"from",parseFloat(t.getValue()[i])),n.to=new he(e,"to",parseFloat(t.getValue()[s])),n.progress=(A-i)/(s-i)}else n.from=this.from,n.to=this.to;return n}}class RD extends Ih{constructor(){super(...arguments),this.type="animateColor"}calcValue(){var{progress:e,from:t,to:n}=this.getProgress(),A=new Mv(t.getColor()),i=new Mv(n.getColor());if(A.ok&&i.ok){var s=A.r+(i.r-A.r)*e,a=A.g+(i.g-A.g)*e,o=A.b+(i.b-A.b)*e;return"rgb(".concat(Math.floor(s),", ").concat(Math.floor(a),", ").concat(Math.floor(o),")")}return this.getAttribute("from").getColor()}}class xD extends Ih{constructor(){super(...arguments),this.type="animateTransform"}calcValue(){var{progress:e,from:t,to:n}=this.getProgress(),A=Tr(t.getString()),i=Tr(n.getString()),s=A.map((a,o)=>{var u=i[o];return a+(u-a)*e}).join(" ");return s}}class PD extends rt{constructor(e,t,n){super(e,t,n),this.type="font",this.glyphs=Object.create(null),this.horizAdvX=this.getAttribute("horiz-adv-x").getNumber();var{definitions:A}=e,{children:i}=this;for(var s of i)switch(s.type){case"font-face":{this.fontFace=s;var a=s.getStyle("font-family");a.hasValue()&&(A[a.getString()]=this);break}case"missing-glyph":this.missingGlyph=s;break;case"glyph":{var o=s;o.arabicForm?(this.isRTL=!0,this.isArabic=!0,typeof this.glyphs[o.unicode]>"u"&&(this.glyphs[o.unicode]=Object.create(null)),this.glyphs[o.unicode][o.arabicForm]=o):this.glyphs[o.unicode]=o;break}}}render(){}}class OD extends rt{constructor(e,t,n){super(e,t,n),this.type="font-face",this.ascent=this.getAttribute("ascent").getNumber(),this.descent=this.getAttribute("descent").getNumber(),this.unitsPerEm=this.getAttribute("units-per-em").getNumber()}}class DD extends De{constructor(){super(...arguments),this.type="missing-glyph",this.horizAdvX=0}}class LD extends dA{constructor(){super(...arguments),this.type="tref"}getText(){var e=this.getHrefAttribute().getDefinition();if(e){var t=e.children[0];if(t)return t.getText()}return""}}class MD extends dA{constructor(e,t,n){super(e,t,n),this.type="a";var{childNodes:A}=t,i=A[0],s=A.length>0&&Array.from(A).every(a=>a.nodeType===3);this.hasText=s,this.text=s?this.getTextFromNode(i):""}getText(){return this.text}renderChildren(e){if(this.hasText){super.renderChildren(e);var{document:t,x:n,y:A}=this,{mouse:i}=t.screen,s=new he(t,"fontSize",ir.parse(t.ctx.font).fontSize);i.isWorking()&&i.checkBoundingBox(this,new Jr(n,A-s.getPixels("y"),n+this.measureText(e),A))}else if(this.children.length>0){var a=new Th(this.document,null);a.children=this.children,a.parent=this,a.render(e)}}onClick(){var{window:e}=this.document;e&&e.open(this.getHrefAttribute().getString())}onMouseMove(){var e=this.document.ctx;e.canvas.style.cursor="pointer"}}function u1(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(A){return Object.getOwnPropertyDescriptor(r,A).enumerable})),t.push.apply(t,n)}return t}function fl(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?u1(Object(t),!0).forEach(function(n){mB(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):u1(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}class ND extends dA{constructor(e,t,n){super(e,t,n),this.type="textPath",this.textWidth=0,this.textHeight=0,this.pathLength=-1,this.glyphInfo=null,this.letterSpacingCache=[],this.measuresCache=new Map([["",0]]);var A=this.getHrefAttribute().getDefinition();this.text=this.getTextFromNode(),this.dataArray=this.parsePathData(A)}getText(){return this.text}path(e){var{dataArray:t}=this;e&&e.beginPath(),t.forEach(n=>{var{type:A,points:i}=n;switch(A){case Ce.LINE_TO:e&&e.lineTo(i[0],i[1]);break;case Ce.MOVE_TO:e&&e.moveTo(i[0],i[1]);break;case Ce.CURVE_TO:e&&e.bezierCurveTo(i[0],i[1],i[2],i[3],i[4],i[5]);break;case Ce.QUAD_TO:e&&e.quadraticCurveTo(i[0],i[1],i[2],i[3]);break;case Ce.ARC:{var[s,a,o,u,l,h,f,d]=i,g=o>u?o:u,m=o>u?1:o/u,C=o>u?u/o:1;e&&(e.translate(s,a),e.rotate(f),e.scale(m,C),e.arc(0,0,g,l,l+h,!!(1-d)),e.scale(1/m,1/C),e.rotate(-f),e.translate(-s,-a));break}case Ce.CLOSE_PATH:e&&e.closePath();break}})}renderChildren(e){this.setTextData(e),e.save();var t=this.parent.getStyle("text-decoration").getString(),n=this.getFontSize(),{glyphInfo:A}=this,i=e.fillStyle;t==="underline"&&e.beginPath(),A.forEach((s,a)=>{var{p0:o,p1:u,rotation:l,text:h}=s;e.save(),e.translate(o.x,o.y),e.rotate(l),e.fillStyle&&e.fillText(h,0,0),e.strokeStyle&&e.strokeText(h,0,0),e.restore(),t==="underline"&&(a===0&&e.moveTo(o.x,o.y+n/8),e.lineTo(u.x,u.y+n/5))}),t==="underline"&&(e.lineWidth=n/20,e.strokeStyle=i,e.stroke(),e.closePath()),e.restore()}getLetterSpacingAt(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return this.letterSpacingCache[e]||0}findSegmentToFitChar(e,t,n,A,i,s,a,o,u){var l=s,h=this.measureText(e,o);o===" "&&t==="justify"&&n<A&&(h+=(A-n)/i),u>-1&&(l+=this.getLetterSpacingAt(u));var f=this.textHeight/20,d=this.getEquidistantPointOnPath(l,f,0),g=this.getEquidistantPointOnPath(l+h,f,0),m={p0:d,p1:g},C=d&&g?Math.atan2(g.y-d.y,g.x-d.x):0;if(a){var E=Math.cos(Math.PI/2+C)*a,T=Math.cos(-C)*a;m.p0=fl(fl({},d),{},{x:d.x+E,y:d.y+T}),m.p1=fl(fl({},g),{},{x:g.x+E,y:g.y+T})}return l+=h,{offset:l,segment:m,rotation:C}}measureText(e,t){var{measuresCache:n}=this,A=t||this.getText();if(n.has(A))return n.get(A);var i=this.measureTargetText(e,A);return n.set(A,i),i}setTextData(e){if(!this.glyphInfo){var t=this.getText(),n=t.split(""),A=t.split(" ").length-1,i=this.parent.getAttribute("dx").split().map(b=>b.getPixels("x")),s=this.parent.getAttribute("dy").getPixels("y"),a=this.parent.getStyle("text-anchor").getString("start"),o=this.getStyle("letter-spacing"),u=this.parent.getStyle("letter-spacing"),l=0;!o.hasValue()||o.getValue()==="inherit"?l=u.getPixels():o.hasValue()&&o.getValue()!=="initial"&&o.getValue()!=="unset"&&(l=o.getPixels());var h=[],f=t.length;this.letterSpacingCache=h;for(var d=0;d<f;d++)h.push(typeof i[d]<"u"?i[d]:l);var g=h.reduce((b,P,Q)=>Q===0?0:b+P||0,0),m=this.measureText(e),C=Math.max(m+g,0);this.textWidth=m,this.textHeight=this.getFontSize(),this.glyphInfo=[];var E=this.getPathLength(),T=this.getStyle("startOffset").getNumber(0)*E,I=0;(a==="middle"||a==="center")&&(I=-C/2),(a==="end"||a==="right")&&(I=-C),I+=T,n.forEach((b,P)=>{var{offset:Q,segment:v,rotation:y}=this.findSegmentToFitChar(e,a,C,E,A,I,s,b,P);I=Q,!(!v.p0||!v.p1)&&this.glyphInfo.push({text:n[P],p0:v.p0,p1:v.p1,rotation:y})})}}parsePathData(e){if(this.pathLength=-1,!e)return[];var t=[],{pathParser:n}=e;for(n.reset();!n.isEnd();){var{current:A}=n,i=A?A.x:0,s=A?A.y:0,a=n.next(),o=a.type,u=[];switch(a.type){case Ce.MOVE_TO:this.pathM(n,u);break;case Ce.LINE_TO:o=this.pathL(n,u);break;case Ce.HORIZ_LINE_TO:o=this.pathH(n,u);break;case Ce.VERT_LINE_TO:o=this.pathV(n,u);break;case Ce.CURVE_TO:this.pathC(n,u);break;case Ce.SMOOTH_CURVE_TO:o=this.pathS(n,u);break;case Ce.QUAD_TO:this.pathQ(n,u);break;case Ce.SMOOTH_QUAD_TO:o=this.pathT(n,u);break;case Ce.ARC:u=this.pathA(n);break;case Ce.CLOSE_PATH:De.pathZ(n);break}a.type!==Ce.CLOSE_PATH?t.push({type:o,points:u,start:{x:i,y:s},pathLength:this.calcLength(i,s,o,u)}):t.push({type:Ce.CLOSE_PATH,points:[],pathLength:0})}return t}pathM(e,t){var{x:n,y:A}=De.pathM(e).point;t.push(n,A)}pathL(e,t){var{x:n,y:A}=De.pathL(e).point;return t.push(n,A),Ce.LINE_TO}pathH(e,t){var{x:n,y:A}=De.pathH(e).point;return t.push(n,A),Ce.LINE_TO}pathV(e,t){var{x:n,y:A}=De.pathV(e).point;return t.push(n,A),Ce.LINE_TO}pathC(e,t){var{point:n,controlPoint:A,currentPoint:i}=De.pathC(e);t.push(n.x,n.y,A.x,A.y,i.x,i.y)}pathS(e,t){var{point:n,controlPoint:A,currentPoint:i}=De.pathS(e);return t.push(n.x,n.y,A.x,A.y,i.x,i.y),Ce.CURVE_TO}pathQ(e,t){var{controlPoint:n,currentPoint:A}=De.pathQ(e);t.push(n.x,n.y,A.x,A.y)}pathT(e,t){var{controlPoint:n,currentPoint:A}=De.pathT(e);return t.push(n.x,n.y,A.x,A.y),Ce.QUAD_TO}pathA(e){var{rX:t,rY:n,sweepFlag:A,xAxisRotation:i,centp:s,a1:a,ad:o}=De.pathA(e);return A===0&&o>0&&(o-=2*Math.PI),A===1&&o<0&&(o+=2*Math.PI),[s.x,s.y,t,n,a,o,i,A]}calcLength(e,t,n,A){var i=0,s=null,a=null,o=0;switch(n){case Ce.LINE_TO:return this.getLineLength(e,t,A[0],A[1]);case Ce.CURVE_TO:for(i=0,s=this.getPointOnCubicBezier(0,e,t,A[0],A[1],A[2],A[3],A[4],A[5]),o=.01;o<=1;o+=.01)a=this.getPointOnCubicBezier(o,e,t,A[0],A[1],A[2],A[3],A[4],A[5]),i+=this.getLineLength(s.x,s.y,a.x,a.y),s=a;return i;case Ce.QUAD_TO:for(i=0,s=this.getPointOnQuadraticBezier(0,e,t,A[0],A[1],A[2],A[3]),o=.01;o<=1;o+=.01)a=this.getPointOnQuadraticBezier(o,e,t,A[0],A[1],A[2],A[3]),i+=this.getLineLength(s.x,s.y,a.x,a.y),s=a;return i;case Ce.ARC:{i=0;var u=A[4],l=A[5],h=A[4]+l,f=Math.PI/180;if(Math.abs(u-h)<f&&(f=Math.abs(u-h)),s=this.getPointOnEllipticalArc(A[0],A[1],A[2],A[3],u,0),l<0)for(o=u-f;o>h;o-=f)a=this.getPointOnEllipticalArc(A[0],A[1],A[2],A[3],o,0),i+=this.getLineLength(s.x,s.y,a.x,a.y),s=a;else for(o=u+f;o<h;o+=f)a=this.getPointOnEllipticalArc(A[0],A[1],A[2],A[3],o,0),i+=this.getLineLength(s.x,s.y,a.x,a.y),s=a;return a=this.getPointOnEllipticalArc(A[0],A[1],A[2],A[3],h,0),i+=this.getLineLength(s.x,s.y,a.x,a.y),i}}return 0}getPointOnLine(e,t,n,A,i){var s=arguments.length>5&&arguments[5]!==void 0?arguments[5]:t,a=arguments.length>6&&arguments[6]!==void 0?arguments[6]:n,o=(i-n)/(A-t+Ui),u=Math.sqrt(e*e/(1+o*o));A<t&&(u*=-1);var l=o*u,h=null;if(A===t)h={x:s,y:a+l};else if((a-n)/(s-t+Ui)===o)h={x:s+u,y:a+l};else{var f=0,d=0,g=this.getLineLength(t,n,A,i);if(g<Ui)return null;var m=(s-t)*(A-t)+(a-n)*(i-n);m/=g*g,f=t+m*(A-t),d=n+m*(i-n);var C=this.getLineLength(s,a,f,d),E=Math.sqrt(e*e-C*C);u=Math.sqrt(E*E/(1+o*o)),A<t&&(u*=-1),l=o*u,h={x:f+u,y:d+l}}return h}getPointOnPath(e){var t=this.getPathLength(),n=0,A=null;if(e<-5e-5||e-5e-5>t)return null;var{dataArray:i}=this;for(var s of i){if(s&&(s.pathLength<5e-5||n+s.pathLength+5e-5<e)){n+=s.pathLength;continue}var a=e-n,o=0;switch(s.type){case Ce.LINE_TO:A=this.getPointOnLine(a,s.start.x,s.start.y,s.points[0],s.points[1],s.start.x,s.start.y);break;case Ce.ARC:{var u=s.points[4],l=s.points[5],h=s.points[4]+l;if(o=u+a/s.pathLength*l,l<0&&o<h||l>=0&&o>h)break;A=this.getPointOnEllipticalArc(s.points[0],s.points[1],s.points[2],s.points[3],o,s.points[6]);break}case Ce.CURVE_TO:o=a/s.pathLength,o>1&&(o=1),A=this.getPointOnCubicBezier(o,s.start.x,s.start.y,s.points[0],s.points[1],s.points[2],s.points[3],s.points[4],s.points[5]);break;case Ce.QUAD_TO:o=a/s.pathLength,o>1&&(o=1),A=this.getPointOnQuadraticBezier(o,s.start.x,s.start.y,s.points[0],s.points[1],s.points[2],s.points[3]);break}if(A)return A;break}return null}getLineLength(e,t,n,A){return Math.sqrt((n-e)*(n-e)+(A-t)*(A-t))}getPathLength(){return this.pathLength===-1&&(this.pathLength=this.dataArray.reduce((e,t)=>t.pathLength>0?e+t.pathLength:e,0)),this.pathLength}getPointOnCubicBezier(e,t,n,A,i,s,a,o,u){var l=o*Vv(e)+s*Kv(e)+A*Gv(e)+t*jv(e),h=u*Vv(e)+a*Kv(e)+i*Gv(e)+n*jv(e);return{x:l,y:h}}getPointOnQuadraticBezier(e,t,n,A,i,s,a){var o=s*qv(e)+A*Wv(e)+t*$v(e),u=a*qv(e)+i*Wv(e)+n*$v(e);return{x:o,y:u}}getPointOnEllipticalArc(e,t,n,A,i,s){var a=Math.cos(s),o=Math.sin(s),u={x:n*Math.cos(i),y:A*Math.sin(i)};return{x:e+(u.x*a-u.y*o),y:t+(u.x*o+u.y*a)}}buildEquidistantCache(e,t){var n=this.getPathLength(),A=t||.25,i=e||n/100;if(!this.equidistantCache||this.equidistantCache.step!==i||this.equidistantCache.precision!==A){this.equidistantCache={step:i,precision:A,points:[]};for(var s=0,a=0;a<=n;a+=A){var o=this.getPointOnPath(a),u=this.getPointOnPath(a+A);!o||!u||(s+=this.getLineLength(o.x,o.y,u.x,u.y),s>=i&&(this.equidistantCache.points.push({x:o.x,y:o.y,distance:a}),s-=i))}}}getEquidistantPointOnPath(e,t,n){if(this.buildEquidistantCache(t,n),e<0||e-this.getPathLength()>5e-5)return null;var A=Math.round(e/this.getPathLength()*(this.equidistantCache.points.length-1));return this.equidistantCache.points[A]||null}}var bZ=/^\s*data:(([^/,;]+\/[^/,;]+)(?:;([^,;=]+=[^,;=]+))?)?(?:;(base64))?,(.*)$/i;class kD extends ri{constructor(e,t,n){super(e,t,n),this.type="image",this.loaded=!1;var A=this.getHrefAttribute().getString();if(A){var i=A.endsWith(".svg")||/^\s*data:image\/svg\+xml/i.test(A);e.images.push(this),i?this.loadSvg(A):this.loadImage(A),this.isSvg=i}}loadImage(e){var t=this;return fA(function*(){try{var n=yield t.document.createImage(e);t.image=n}catch(A){console.error('Error while loading image "'.concat(e,'":'),A)}t.loaded=!0})()}loadSvg(e){var t=this;return fA(function*(){var n=bZ.exec(e);if(n){var A=n[5];n[4]==="base64"?t.image=atob(A):t.image=decodeURIComponent(A)}else try{var i=yield t.document.fetch(e),s=yield i.text();t.image=s}catch(a){console.error('Error while loading image "'.concat(e,'":'),a)}t.loaded=!0})()}renderChildren(e){var{document:t,image:n,loaded:A}=this,i=this.getAttribute("x").getPixels("x"),s=this.getAttribute("y").getPixels("y"),a=this.getStyle("width").getPixels("x"),o=this.getStyle("height").getPixels("y");if(!(!A||!n||!a||!o)){if(e.save(),e.translate(i,s),this.isSvg){var u=t.canvg.forkString(e,this.image,{ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0,ignoreClear:!0,offsetX:0,offsetY:0,scaleWidth:a,scaleHeight:o});u.document.documentElement.parent=this,u.render()}else{var l=this.image;t.setViewBox({ctx:e,aspectRatio:this.getAttribute("preserveAspectRatio").getString(),width:a,desiredWidth:l.width,height:o,desiredHeight:l.height}),this.loaded&&(typeof l.complete>"u"||l.complete)&&e.drawImage(l,0,0)}e.restore()}}getBoundingBox(){var e=this.getAttribute("x").getPixels("x"),t=this.getAttribute("y").getPixels("y"),n=this.getStyle("width").getPixels("x"),A=this.getStyle("height").getPixels("y");return new Jr(e,t,e+n,t+A)}}class HD extends ri{constructor(){super(...arguments),this.type="symbol"}render(e){}}class VD{constructor(e){this.document=e,this.loaded=!1,e.fonts.push(this)}load(e,t){var n=this;return fA(function*(){try{var{document:A}=n,i=yield A.canvg.parser.load(t),s=i.getElementsByTagName("font");Array.from(s).forEach(a=>{var o=A.createElement(a);A.definitions[e]=o})}catch(a){console.error('Error while loading font "'.concat(t,'":'),a)}n.loaded=!0})()}}class TB extends rt{constructor(e,t,n){super(e,t,n),this.type="style";var A=Wi(Array.from(t.childNodes).map(s=>s.textContent).join("").replace(/(\/\*([^*]|[\r\n]|(\*+([^*/]|[\r\n])))*\*+\/)|(^[\s]*\/\/.*)/gm,"").replace(/@import.*;/g,"")),i=A.split("}");i.forEach(s=>{var a=s.trim();if(a){var o=a.split("{"),u=o[0].split(","),l=o[1].split(";");u.forEach(h=>{var f=h.trim();if(f){var d=e.styles[f]||{};if(l.forEach(C=>{var E=C.indexOf(":"),T=C.substr(0,E).trim(),I=C.substr(E+1,C.length-E).trim();T&&I&&(d[T]=new he(e,T,I))}),e.styles[f]=d,e.stylesSpecificity[f]=cD(f),f==="@font-face"){var g=d["font-family"].getString().replace(/"|'/g,""),m=d.src.getString().split(",");m.forEach(C=>{if(C.indexOf('format("svg")')>0){var E=vB(C);E&&new VD(e).load(g,E)}})}}})}})}}TB.parseExternalUrl=vB;class KD extends ri{constructor(){super(...arguments),this.type="use"}setContext(e){super.setContext(e);var t=this.getAttribute("x"),n=this.getAttribute("y");t.hasValue()&&e.translate(t.getPixels("x"),0),n.hasValue()&&e.translate(0,n.getPixels("y"))}path(e){var{element:t}=this;t&&t.path(e)}renderChildren(e){var{document:t,element:n}=this;if(n){var A=n;if(n.type==="symbol"&&(A=new zs(t,null),A.attributes.viewBox=new he(t,"viewBox",n.getAttribute("viewBox").getString()),A.attributes.preserveAspectRatio=new he(t,"preserveAspectRatio",n.getAttribute("preserveAspectRatio").getString()),A.attributes.overflow=new he(t,"overflow",n.getAttribute("overflow").getString()),A.children=n.children,n.styles.opacity=new he(t,"opacity",this.calculateOpacity())),A.type==="svg"){var i=this.getStyle("width",!1,!0),s=this.getStyle("height",!1,!0);i.hasValue()&&(A.attributes.width=new he(t,"width",i.getString())),s.hasValue()&&(A.attributes.height=new he(t,"height",s.getString()))}var a=A.parent;A.parent=this,A.render(e),A.parent=a}}getBoundingBox(e){var{element:t}=this;return t?t.getBoundingBox(e):null}elementTransform(){var{document:e,element:t}=this;return zA.fromElement(e,t)}get element(){return this.cachedElement||(this.cachedElement=this.getHrefAttribute().getDefinition()),this.cachedElement}}function dl(r,e,t,n,A,i){return r[t*n*4+e*4+i]}function gl(r,e,t,n,A,i,s){r[t*n*4+e*4+i]=s}function vt(r,e,t){var n=r[e];return n*t}function $n(r,e,t,n){return e+Math.cos(r)*t+Math.sin(r)*n}class IB extends rt{constructor(e,t,n){super(e,t,n),this.type="feColorMatrix";var A=Tr(this.getAttribute("values").getString());switch(this.getAttribute("type").getString("matrix")){case"saturate":{var i=A[0];A=[.213+.787*i,.715-.715*i,.072-.072*i,0,0,.213-.213*i,.715+.285*i,.072-.072*i,0,0,.213-.213*i,.715-.715*i,.072+.928*i,0,0,0,0,0,1,0,0,0,0,0,1];break}case"hueRotate":{var s=A[0]*Math.PI/180;A=[$n(s,.213,.787,-.213),$n(s,.715,-.715,-.715),$n(s,.072,-.072,.928),0,0,$n(s,.213,-.213,.143),$n(s,.715,.285,.14),$n(s,.072,-.072,-.283),0,0,$n(s,.213,-.213,-.787),$n(s,.715,-.715,.715),$n(s,.072,.928,.072),0,0,0,0,0,1,0,0,0,0,0,1];break}case"luminanceToAlpha":A=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,.2125,.7154,.0721,0,0,0,0,0,0,1];break}this.matrix=A,this.includeOpacity=this.getAttribute("includeOpacity").hasValue()}apply(e,t,n,A,i){for(var{includeOpacity:s,matrix:a}=this,o=e.getImageData(0,0,A,i),u=0;u<i;u++)for(var l=0;l<A;l++){var h=dl(o.data,l,u,A,i,0),f=dl(o.data,l,u,A,i,1),d=dl(o.data,l,u,A,i,2),g=dl(o.data,l,u,A,i,3),m=vt(a,0,h)+vt(a,1,f)+vt(a,2,d)+vt(a,3,g)+vt(a,4,1),C=vt(a,5,h)+vt(a,6,f)+vt(a,7,d)+vt(a,8,g)+vt(a,9,1),E=vt(a,10,h)+vt(a,11,f)+vt(a,12,d)+vt(a,13,g)+vt(a,14,1),T=vt(a,15,h)+vt(a,16,f)+vt(a,17,d)+vt(a,18,g)+vt(a,19,1);s&&(m=0,C=0,E=0,T*=g/255),gl(o.data,l,u,A,i,0,m),gl(o.data,l,u,A,i,1,C),gl(o.data,l,u,A,i,2,E),gl(o.data,l,u,A,i,3,T)}e.clearRect(0,0,A,i),e.putImageData(o,0,0)}}class au extends rt{constructor(){super(...arguments),this.type="mask"}apply(e,t){var{document:n}=this,A=this.getAttribute("x").getPixels("x"),i=this.getAttribute("y").getPixels("y"),s=this.getStyle("width").getPixels("x"),a=this.getStyle("height").getPixels("y");if(!s&&!a){var o=new Jr;this.children.forEach(g=>{o.addBoundingBox(g.getBoundingBox(e))}),A=Math.floor(o.x1),i=Math.floor(o.y1),s=Math.floor(o.width),a=Math.floor(o.height)}var u=this.removeStyles(t,au.ignoreStyles),l=n.createCanvas(A+s,i+a),h=l.getContext("2d");n.screen.setDefaults(h),this.renderChildren(h),new IB(n,{nodeType:1,childNodes:[],attributes:[{nodeName:"type",value:"luminanceToAlpha"},{nodeName:"includeOpacity",value:"true"}]}).apply(h,0,0,A+s,i+a);var f=n.createCanvas(A+s,i+a),d=f.getContext("2d");n.screen.setDefaults(d),t.render(d),d.globalCompositeOperation="destination-in",d.fillStyle=h.createPattern(l,"no-repeat"),d.fillRect(0,0,A+s,i+a),e.fillStyle=d.createPattern(f,"no-repeat"),e.fillRect(0,0,A+s,i+a),this.restoreStyles(t,u)}render(e){}}au.ignoreStyles=["mask","transform","clip-path"];var l1=()=>{};class GD extends rt{constructor(){super(...arguments),this.type="clipPath"}apply(e){var{document:t}=this,n=Reflect.getPrototypeOf(e),{beginPath:A,closePath:i}=e;n&&(n.beginPath=l1,n.closePath=l1),Reflect.apply(A,e,[]),this.children.forEach(s=>{if(!(typeof s.path>"u")){var a=typeof s.elementTransform<"u"?s.elementTransform():null;a||(a=zA.fromElement(t,s)),a&&a.apply(e),s.path(e),n&&(n.closePath=i),a&&a.unapply(e)}}),Reflect.apply(i,e,[]),e.clip(),n&&(n.beginPath=A,n.closePath=i)}render(e){}}class ou extends rt{constructor(){super(...arguments),this.type="filter"}apply(e,t){var{document:n,children:A}=this,i=t.getBoundingBox(e);if(i){var s=0,a=0;A.forEach(E=>{var T=E.extraFilterDistance||0;s=Math.max(s,T),a=Math.max(a,T)});var o=Math.floor(i.width),u=Math.floor(i.height),l=o+2*s,h=u+2*a;if(!(l<1||h<1)){var f=Math.floor(i.x),d=Math.floor(i.y),g=this.removeStyles(t,ou.ignoreStyles),m=n.createCanvas(l,h),C=m.getContext("2d");n.screen.setDefaults(C),C.translate(-f+s,-d+a),t.render(C),A.forEach(E=>{typeof E.apply=="function"&&E.apply(C,0,0,l,h)}),e.drawImage(m,0,0,l,h,f-s,d-a,l,h),this.restoreStyles(t,g)}}}render(e){}}ou.ignoreStyles=["filter","transform","clip-path"];class jD extends rt{constructor(e,t,n){super(e,t,n),this.type="feDropShadow",this.addStylesFromStyleDefinition()}apply(e,t,n,A,i){}}class qD extends rt{constructor(){super(...arguments),this.type="feMorphology"}apply(e,t,n,A,i){}}class WD extends rt{constructor(){super(...arguments),this.type="feComposite"}apply(e,t,n,A,i){}}class $D extends rt{constructor(e,t,n){super(e,t,n),this.type="feGaussianBlur",this.blurRadius=Math.floor(this.getAttribute("stdDeviation").getNumber()),this.extraFilterDistance=this.blurRadius}apply(e,t,n,A,i){var{document:s,blurRadius:a}=this,o=s.window?s.window.document.body:null,u=e.canvas;u.id=s.getUniqueId(),o&&(u.style.display="none",o.appendChild(u)),iZ(u,t,n,A,i,a),o&&o.removeChild(u)}}class XD extends rt{constructor(){super(...arguments),this.type="title"}}class zD extends rt{constructor(){super(...arguments),this.type="desc"}}var UZ={svg:zs,rect:CB,circle:CD,ellipse:ED,line:_D,polyline:EB,polygon:TD,path:De,pattern:ID,marker:bD,defs:UD,linearGradient:FD,radialGradient:SD,stop:QD,animate:Ih,animateColor:RD,animateTransform:xD,font:PD,"font-face":OD,"missing-glyph":DD,glyph:BB,text:dA,tspan:su,tref:LD,a:MD,textPath:ND,image:kD,g:Th,symbol:HD,style:TB,use:KD,mask:au,clipPath:GD,filter:ou,feDropShadow:jD,feMorphology:qD,feComposite:WD,feColorMatrix:IB,feGaussianBlur:$D,title:XD,desc:zD};function c1(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(A){return Object.getOwnPropertyDescriptor(r,A).enumerable})),t.push.apply(t,n)}return t}function FZ(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?c1(Object(t),!0).forEach(function(n){mB(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):c1(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function SZ(r,e){var t=document.createElement("canvas");return t.width=r,t.height=e,t}function QZ(r){return zv.apply(this,arguments)}function zv(){return zv=fA(function*(r){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,t=document.createElement("img");return e&&(t.crossOrigin="Anonymous"),new Promise((n,A)=>{t.onload=()=>{n(t)},t.onerror=(i,s,a,o,u)=>{A(u)},t.src=r})}),zv.apply(this,arguments)}class AA{constructor(e){var{rootEmSize:t=12,emSize:n=12,createCanvas:A=AA.createCanvas,createImage:i=AA.createImage,anonymousCrossOrigin:s}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.canvg=e,this.definitions=Object.create(null),this.styles=Object.create(null),this.stylesSpecificity=Object.create(null),this.images=[],this.fonts=[],this.emSizeStack=[],this.uniqueId=0,this.screen=e.screen,this.rootEmSize=t,this.emSize=n,this.createCanvas=A,this.createImage=this.bindCreateImage(i,s),this.screen.wait(this.isImagesLoaded.bind(this)),this.screen.wait(this.isFontsLoaded.bind(this))}bindCreateImage(e,t){return typeof t=="boolean"?(n,A)=>e(n,typeof A=="boolean"?A:t):e}get window(){return this.screen.window}get fetch(){return this.screen.fetch}get ctx(){return this.screen.ctx}get emSize(){var{emSizeStack:e}=this;return e[e.length-1]}set emSize(e){var{emSizeStack:t}=this;t.push(e)}popEmSize(){var{emSizeStack:e}=this;e.pop()}getUniqueId(){return"canvg".concat(++this.uniqueId)}isImagesLoaded(){return this.images.every(e=>e.loaded)}isFontsLoaded(){return this.fonts.every(e=>e.loaded)}createDocumentElement(e){var t=this.createElement(e.documentElement);return t.root=!0,t.addStylesFromStyleDefinition(),this.documentElement=t,t}createElement(e){var t=e.nodeName.replace(/^[^:]+:/,""),n=AA.elementTypes[t];return typeof n<"u"?new n(this,e):new BD(this,e)}createTextNode(e){return new IZ(this,e)}setViewBox(e){this.screen.setViewBox(FZ({document:this},e))}}AA.createCanvas=SZ;AA.createImage=QZ;AA.elementTypes=UZ;function h1(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(A){return Object.getOwnPropertyDescriptor(r,A).enumerable})),t.push.apply(t,n)}return t}function li(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?h1(Object(t),!0).forEach(function(n){mB(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):h1(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}class Ci{constructor(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.parser=new Ml(n),this.screen=new iu(e,n),this.options=n;var A=new AA(this,n),i=A.createDocumentElement(t);this.document=A,this.documentElement=i}static from(e,t){var n=arguments;return fA(function*(){var A=n.length>2&&n[2]!==void 0?n[2]:{},i=new Ml(A),s=yield i.parse(t);return new Ci(e,s,A)})()}static fromString(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},A=new Ml(n),i=A.parseFromString(t);return new Ci(e,i,n)}fork(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return Ci.from(e,t,li(li({},this.options),n))}forkString(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return Ci.fromString(e,t,li(li({},this.options),n))}ready(){return this.screen.ready()}isReady(){return this.screen.isReady()}render(){var e=arguments,t=this;return fA(function*(){var n=e.length>0&&e[0]!==void 0?e[0]:{};t.start(li({enableRedraw:!0,ignoreAnimation:!0,ignoreMouse:!0},n)),yield t.ready(),t.stop()})()}start(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{documentElement:t,screen:n,options:A}=this;n.start(t,li(li({enableRedraw:!0},A),e))}stop(){this.screen.stop()}resize(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;this.documentElement.resize(e,t,n)}}const Pee=Object.freeze(Object.defineProperty({__proto__:null,AElement:MD,AnimateColorElement:RD,AnimateElement:Ih,AnimateTransformElement:xD,BoundingBox:Jr,CB1:Vv,CB2:Kv,CB3:Gv,CB4:jv,Canvg:Ci,CircleElement:CD,ClipPathElement:GD,DefsElement:UD,DescElement:zD,Document:AA,Element:rt,EllipseElement:ED,FeColorMatrixElement:IB,FeCompositeElement:WD,FeDropShadowElement:jD,FeGaussianBlurElement:$D,FeMorphologyElement:qD,FilterElement:ou,Font:ir,FontElement:PD,FontFaceElement:OD,GElement:Th,GlyphElement:BB,GradientElement:_B,ImageElement:kD,LineElement:_D,LinearGradientElement:FD,MarkerElement:bD,MaskElement:au,Matrix:yB,MissingGlyphElement:DD,Mouse:fD,PSEUDO_ZERO:Ui,Parser:Ml,PathElement:De,PathParser:Ce,PatternElement:ID,Point:st,PolygonElement:TD,PolylineElement:EB,Property:he,QB1:qv,QB2:Wv,QB3:$v,RadialGradientElement:SD,RectElement:CB,RenderedElement:ri,Rotate:mD,SVGElement:zs,SVGFontLoader:VD,Scale:vD,Screen:iu,Skew:wB,SkewX:yD,SkewY:wD,StopElement:QD,StyleElement:TB,SymbolElement:HD,TRefElement:LD,TSpanElement:su,TextElement:dA,TextPathElement:ND,TitleElement:XD,Transform:zA,Translate:pD,UnknownElement:BD,UseElement:KD,ViewPort:hD,compressSpaces:Wi,default:Ci,getSelectorSpecificity:cD,normalizeAttributeName:uD,normalizeColor:lD,parseExternalUrl:vB,presets:uZ,toNumbers:Tr,trimLeft:aD,trimRight:oD,vectorMagnitude:kv,vectorsAngle:Hv,vectorsRatio:Cc},Symbol.toStringTag,{value:"Module"}));try{self["workbox:window:7.2.0"]&&_()}catch{}function Yv(r,e){return new Promise((function(t){var n=new MessageChannel;n.port1.onmessage=function(A){t(A.data)},r.postMessage(e,[n.port2])}))}function RZ(r){var e=(function(t,n){if(typeof t!="object"||!t)return t;var A=t[Symbol.toPrimitive];if(A!==void 0){var i=A.call(t,n);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)})(r,"string");return typeof e=="symbol"?e:e+""}function xZ(r,e){for(var t=0;t<e.length;t++){var n=e[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(r,RZ(n.key),n)}}function Jv(r,e){return Jv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,n){return t.__proto__=n,t},Jv(r,e)}function f1(r,e){(e==null||e>r.length)&&(e=r.length);for(var t=0,n=new Array(e);t<e;t++)n[t]=r[t];return n}function PZ(r,e){var t=typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(t)return(t=t.call(r)).next.bind(t);if(Array.isArray(r)||(t=(function(A,i){if(A){if(typeof A=="string")return f1(A,i);var s=Object.prototype.toString.call(A).slice(8,-1);return s==="Object"&&A.constructor&&(s=A.constructor.name),s==="Map"||s==="Set"?Array.from(A):s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s)?f1(A,i):void 0}})(r))||e){t&&(r=t);var n=0;return function(){return n>=r.length?{done:!0}:{done:!1,value:r[n++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}try{self["workbox:core:7.2.0"]&&_()}catch{}var lm=function(){var r=this;this.promise=new Promise((function(e,t){r.resolve=e,r.reject=t}))};function cm(r,e){var t=location.href;return new URL(r,t).href===new URL(e,t).href}var hs=function(r,e){this.type=r,Object.assign(this,e)};function _A(r,e,t){return t?e?e(r):r:(r&&r.then||(r=Promise.resolve(r)),e?r.then(e):r)}function OZ(){}var DZ={type:"SKIP_WAITING"};function d1(r,e){return r&&r.then?r.then(OZ):Promise.resolve()}var LZ=(function(r){function e(a,o){var u,l;return o===void 0&&(o={}),(u=r.call(this)||this).nn={},u.tn=0,u.rn=new lm,u.en=new lm,u.on=new lm,u.un=0,u.an=new Set,u.cn=function(){var h=u.fn,f=h.installing;u.tn>0||!cm(f.scriptURL,u.sn.toString())||performance.now()>u.un+6e4?(u.vn=f,h.removeEventListener("updatefound",u.cn)):(u.hn=f,u.an.add(f),u.rn.resolve(f)),++u.tn,f.addEventListener("statechange",u.ln)},u.ln=function(h){var f=u.fn,d=h.target,g=d.state,m=d===u.vn,C={sw:d,isExternal:m,originalEvent:h};!m&&u.mn&&(C.isUpdate=!0),u.dispatchEvent(new hs(g,C)),g==="installed"?u.wn=self.setTimeout((function(){g==="installed"&&f.waiting===d&&u.dispatchEvent(new hs("waiting",C))}),200):g==="activating"&&(clearTimeout(u.wn),m||u.en.resolve(d))},u.yn=function(h){var f=u.hn,d=f!==navigator.serviceWorker.controller;u.dispatchEvent(new hs("controlling",{isExternal:d,originalEvent:h,sw:f,isUpdate:u.mn})),d||u.on.resolve(f)},u.gn=(l=function(h){var f=h.data,d=h.ports,g=h.source;return _A(u.getSW(),(function(){u.an.has(g)&&u.dispatchEvent(new hs("message",{data:f,originalEvent:h,ports:d,sw:g}))}))},function(){for(var h=[],f=0;f<arguments.length;f++)h[f]=arguments[f];try{return Promise.resolve(l.apply(this,h))}catch(d){return Promise.reject(d)}}),u.sn=a,u.nn=o,navigator.serviceWorker.addEventListener("message",u.gn),u}var t,n;n=r,(t=e).prototype=Object.create(n.prototype),t.prototype.constructor=t,Jv(t,n);var A,i,s=e.prototype;return s.register=function(a){var o=(a===void 0?{}:a).immediate,u=o!==void 0&&o;try{var l=this;return _A((function(h,f){var d=h();return d&&d.then?d.then(f):f(d)})((function(){if(!u&&document.readyState!=="complete")return d1(new Promise((function(h){return window.addEventListener("load",h)})))}),(function(){return l.mn=!!navigator.serviceWorker.controller,l.dn=l.pn(),_A(l.bn(),(function(h){l.fn=h,l.dn&&(l.hn=l.dn,l.en.resolve(l.dn),l.on.resolve(l.dn),l.dn.addEventListener("statechange",l.ln,{once:!0}));var f=l.fn.waiting;return f&&cm(f.scriptURL,l.sn.toString())&&(l.hn=f,Promise.resolve().then((function(){l.dispatchEvent(new hs("waiting",{sw:f,wasWaitingBeforeRegister:!0}))})).then((function(){}))),l.hn&&(l.rn.resolve(l.hn),l.an.add(l.hn)),l.fn.addEventListener("updatefound",l.cn),navigator.serviceWorker.addEventListener("controllerchange",l.yn),l.fn}))})))}catch(h){return Promise.reject(h)}},s.update=function(){try{return this.fn?_A(d1(this.fn.update())):_A()}catch(a){return Promise.reject(a)}},s.getSW=function(){return this.hn!==void 0?Promise.resolve(this.hn):this.rn.promise},s.messageSW=function(a){try{return _A(this.getSW(),(function(o){return Yv(o,a)}))}catch(o){return Promise.reject(o)}},s.messageSkipWaiting=function(){this.fn&&this.fn.waiting&&Yv(this.fn.waiting,DZ)},s.pn=function(){var a=navigator.serviceWorker.controller;return a&&cm(a.scriptURL,this.sn.toString())?a:void 0},s.bn=function(){try{var a=this;return _A((function(o,u){try{var l=o()}catch(h){return u(h)}return l&&l.then?l.then(void 0,u):l})((function(){return _A(navigator.serviceWorker.register(a.sn,a.nn),(function(o){return a.un=performance.now(),o}))}),(function(o){throw o})))}catch(o){return Promise.reject(o)}},A=e,(i=[{key:"active",get:function(){return this.en.promise}},{key:"controlling",get:function(){return this.on.promise}}])&&xZ(A.prototype,i),Object.defineProperty(A,"prototype",{writable:!1}),A})((function(){function r(){this.Pn=new Map}var e=r.prototype;return e.addEventListener=function(t,n){this.jn(t).add(n)},e.removeEventListener=function(t,n){this.jn(t).delete(n)},e.dispatchEvent=function(t){t.target=this;for(var n,A=PZ(this.jn(t.type));!(n=A()).done;)(0,n.value)(t)},e.jn=function(t){return this.Pn.has(t)||this.Pn.set(t,new Set),this.Pn.get(t)},r})());const Oee=Object.freeze(Object.defineProperty({__proto__:null,Workbox:LZ,WorkboxEvent:hs,messageSW:Yv},Symbol.toStringTag,{value:"Module"}));export{bt as $,fs as A,lee as B,eA as C,qZ as D,YZ as E,JZ as F,QA as G,WZ as H,XZ as I,$Z as J,Cee as K,Mw as L,_ee as M,Eee as N,Bee as O,yee as P,gee as Q,MZ as R,fee as S,nee as T,cee as U,hee as V,iee as W,see as X,aee as Y,uee as Z,_o as _,Fee as a,m2 as a0,Tee as a1,Iee as a2,Qee as a3,bee as a4,dee as a5,Ree as a6,xee as a7,Pee as a8,Oee as a9,NZ as b,oe as c,See as d,KZ as e,VZ as f,So as g,GZ as h,ws as i,pl as j,kZ as k,g1 as l,HZ as m,dM as n,ZZ as o,Qo as p,Aee as q,p2 as r,L2 as s,pee as t,vee as u,mee as v,zZ as w,oee as x,B4 as y,Uee as z};
