const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/vendor-jspdf-1K2FdTSI.js","assets/vendor-CJWWwY5t.js","assets/virtual_pwa-register-UvVCG0jN.js"])))=>i.map(i=>d[i]);
import{_ as H}from"./vendor-jspdf-1K2FdTSI.js";import{r as a,j as e,R as Fe,a as R}from"./vendor-react-Cig_F9er.js";import{F as Ee}from"./vendor-CJWWwY5t.js";(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))v(n);new MutationObserver(n=>{for(const m of n)if(m.type==="childList")for(const c of m.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&v(c)}).observe(document,{childList:!0,subtree:!0});function u(n){const m={};return n.integrity&&(m.integrity=n.integrity),n.referrerPolicy&&(m.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?m.credentials="include":n.crossOrigin==="anonymous"?m.credentials="omit":m.credentials="same-origin",m}function v(n){if(n.ep)return;n.ep=!0;const m=u(n);fetch(n.href,m)}})();let G;async function ce(){return G||(G=(await H(()=>import("./vendor-jspdf-1K2FdTSI.js").then(o=>o.j),__vite__mapDeps([0,1]))).jsPDF),G}let O;async function Pe(){return O||(O=await H(()=>import("./vendor-xlsx-DGuHH-KN.js"),[])),O}const Me={"4mm":10,"5mm":12.5,"6mm":15,"24mm DG":22},z={"Series 45":2.5,"Series 60":3.8,"Series 75":4.5,"Sliding Light":2.2,"Sliding Heavy":5},D=({children:i})=>e.jsx("div",{className:"card border-0 shadow-sm rounded-4 mb-3",style:{transition:"all 0.3s ease"},onMouseEnter:o=>o.currentTarget.style.boxShadow="0 8px 24px rgba(0,0,0,0.15)",onMouseLeave:o=>o.currentTarget.style.boxShadow="0 4px 12px rgba(0,0,0,0.1)",children:i});function Te(){const[i,o]=a.useState("0"),[u,v]=a.useState("0"),[n,m]=a.useState("Clear"),[c,V]=a.useState(5),[x,J]=a.useState("Series 60"),[S,K]=a.useState("Powder Coated"),[N,$]=a.useState("0"),[w,Q]=a.useState("0"),[W,X]=a.useState(""),[_,de]=a.useState(""),[L,me]=a.useState("10"),[I,ue]=a.useState("0"),[Ae,he]=a.useState(""),[j,U]=a.useState(localStorage.getItem("unit")||"mm");a.useEffect(()=>{localStorage.setItem("unit",j)},[j]);const B=25.4,q=s=>j==="mm"?String(s):(Number(s)/B).toFixed(3),Y=s=>{const t=Number(s);return isFinite(t)?String(j==="mm"?t:Math.round(t*B)):"0"},[Z,ge]=a.useState(""),[ee,xe]=a.useState(""),[F,be]=a.useState("18"),[E,pe]=a.useState("0"),[P,fe]=a.useState("0"),[se,je]=a.useState(`1. Prices are valid for 15 days.
2. Delivery within 7 working days.
3. Payment: 50% advance, balance on delivery.`),[M,Ne]=a.useState(localStorage.getItem("theme")||(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"));a.useEffect(()=>{document.documentElement.setAttribute("data-bs-theme",M),localStorage.setItem("theme",M)},[M]),a.useEffect(()=>{const s=Number(i)/1e3||0,t=Number(u)/1e3||0;let d="";t>2.1||s>1.5?d="⚠️ Consider Series 75 or Sliding Heavy for better strength.":t>1.8?d="👉 Series 60 is usually sufficient for medium frames.":d="✅ Series 45 is fine for small windows.",c<5&&(s>1.2||t>1.8)&&(d+=" ⚠️ Glass may be too thin for this size."),he(d)},[i,u,c]);const r=a.useMemo(()=>{const s=(Number(i)||0)/1e3,t=(Number(u)||0)/1e3,d=s*t;let b;n==="Double Glazed"?b=22:["4mm","5mm","6mm","24mm DG"].includes(String(c)+"mm")?b=Me[String(c)+"mm"]||c*2.5:b=c*2.5;const y=n==="Toughened"?1.1:n==="Reflective"?1.05:1,h=d*b*y,p=2*(s+t),f=p*z[x],g=Number(w)||0,re=h+f+g,ke=S==="Anodized"?1.08:1.05,oe=re*(Number(N)||0)*ke,De=oe*(1+(Number(L)||0)/100)*(1-(Number(I)||0)/100);return{areaM2:d,glassWeight:h,perimeterM:p,aluminiumWeight:f,accessories:g,totalWeight:re,estimatedCost:oe,finalCost:De,baseDensity:b*y}},[i,u,n,c,x,N,w,S,L,I]),T=a.useMemo(()=>{const s=r.finalCost+(Number(E)||0)+(Number(P)||0),t=s*((Number(F)||0)/100),d=s+t;return{subtotal:s,gstAmount:t,grandTotal:d}},[r.finalCost,E,P,F]),te=a.useMemo(()=>[{label:"Profile",value:`${x} (${z[x]} kg/m)`},{label:"Glass Area",value:`${r.areaM2.toFixed(3)} m²`},{label:"Glass Weight",value:`${r.glassWeight.toFixed(2)} kg`},{label:"Aluminium Weight",value:`${r.aluminiumWeight.toFixed(2)} kg`},{label:"Accessories",value:`${r.accessories.toFixed(2)} kg`},{label:"Total Weight",value:`${r.totalWeight.toFixed(2)} kg`},{label:"Estimated Cost",value:`₹ ${r.estimatedCost.toFixed(2)}`},{label:"Final Quotation",value:`₹ ${r.finalCost.toFixed(2)}`}],[r,x]),[A,ve]=a.useState(localStorage.getItem("lang")||"en");a.useEffect(()=>{localStorage.setItem("lang",A)},[A]);const l=(s,t)=>A==="hi"?t:s;function ye(){Ne(s=>s==="dark"?"light":"dark")}async function ae(){const s=await Pe(),t=[["Field","Value"],["Width (mm)",i],["Height (mm)",u],["Glass Type",n],["Profile",x],["Cost per Kg (₹)",N],...te.map(h=>[h.label,h.value])],d=s.utils.aoa_to_sheet(t),b=s.utils.book_new();s.utils.book_append_sheet(b,d,"Calculation");const y=s.write(b,{bookType:"xlsx",type:"array"});Ee.saveAs(new Blob([y],{type:"application/octet-stream"}),"aluminium-calculation.xlsx")}function Se(){const s={ts:Date.now(),name:W||`Estimate ${new Date().toLocaleString()}`,state:{widthMm:i,heightMm:u,glassType:n,thicknessMm:c,profile:x,finish:S,costPerKg:N,accessoriesKg:w}},t=JSON.parse(localStorage.getItem("estimates")||"[]");t.unshift(s),localStorage.setItem("estimates",JSON.stringify(t.slice(0,20))),k(t.slice(0,20)),X("")}function we(s){o(s.state.widthMm),v(s.state.heightMm),m(s.state.glassType),V(s.state.thicknessMm),J(s.state.profile),K(s.state.finish),$(s.state.costPerKg),Q(s.state.accessoriesKg)}function le(){const s=new URLSearchParams({w:String(i),h:String(u),gt:n,t:String(c),p:x,f:S,c:String(N),a:String(w)}).toString(),t=`${location.origin}${location.pathname}?${s}`;navigator.clipboard?.writeText(t).catch(()=>{}),de(t),new window.bootstrap.Modal(document.getElementById("shareModal")).show()}function ne(s){s.setFontSize(16),s.text("Venkatesh Aluminium",14,20),s.setFontSize(10),s.text("Ram Nagar, Dhule - 400001",14,28),s.text("Phone: +91 9673705228 | Email: venkateshaluminum@gmail.com",14,34),s.line(14,38,200,38),s.setFontSize(12),s.text(`Quotation for: ${Z}`,14,48),s.text(`Address: ${ee}`,14,55),s.text(`Date: ${new Date().toLocaleDateString()}`,14,62),s.line(14,66,200,66),s.setFontSize(12);let t=76;s.text(`Profile: ${x}`,14,t),t+=8,s.text(`Glass Area: ${r.areaM2.toFixed(3)} m²`,14,t),t+=8,s.text(`Glass Weight: ${r.glassWeight.toFixed(2)} kg`,14,t),t+=8,s.text(`Aluminium Weight: ${r.aluminiumWeight.toFixed(2)} kg`,14,t),t+=8,s.text(`Accessories: ${r.accessories.toFixed(2)} kg`,14,t),t+=8,s.text(`Total Weight: ${r.totalWeight.toFixed(2)} kg`,14,t),t+=8,s.text(`Final Quotation: ₹ ${r.finalCost.toFixed(2)}`,14,t),t+=8,s.text(`Delivery: ₹ ${E}`,14,t),t+=8,s.text(`Labor: ₹ ${P}`,14,t),t+=8,s.text(`Subtotal: ₹ ${T.subtotal.toFixed(2)}`,14,t),t+=8,s.text(`GST (${F}%): ₹ ${T.gstAmount.toFixed(2)}`,14,t),t+=8,s.setFont(void 0,"bold"),s.text(`Grand Total: ₹ ${T.grandTotal.toFixed(2)}`,14,t),t+=12,s.setFont(void 0,"normal"),s.setFontSize(10),s.text("Terms & Conditions:",14,t),s.text(se.split(`
`),14,t+6)}async function Ce(){const s=await ce(),t=new s;return ne(t),t.output("blob")}const ie=async()=>{const s=await ce(),t=new s;ne(t),t.save(`${W||"Quotation"}.pdf`)},[C,k]=a.useState(()=>{try{return JSON.parse(localStorage.getItem("estimates")||"[]")}catch{return[]}});return a.useEffect(()=>{const s=()=>{try{k(JSON.parse(localStorage.getItem("estimates")||"[]"))}catch{}};return window.addEventListener("storage",s),()=>window.removeEventListener("storage",s)},[]),e.jsxs("div",{className:"min-vh-100 bg-body",children:[e.jsx("header",{className:"sticky-top bg-body border-bottom",style:{zIndex:1030},children:e.jsxs("div",{className:"container py-3 d-flex align-items-center justify-content-between",children:[e.jsx("div",{className:"d-flex align-items-center gap-2",children:e.jsxs("div",{children:[e.jsx("h1",{className:"h5 mb-0",children:"Venkatesh Aluminium and Glass"}),e.jsx("small",{className:"text-body-secondary",children:l("Windows & Doors • Weight & Cost Estimator","खिड़की व दरवाजे • वजन व लागत अनुमापक")})]})}),e.jsxs("div",{className:"d-flex align-items-center gap-2",children:[e.jsxs("div",{className:"btn-group btn-group-sm",role:"group","aria-label":"Unit toggle",children:[e.jsx("button",{className:`btn btn-outline-secondary ${j==="mm"?"active":""}`,onClick:()=>U("mm"),children:"mm"}),e.jsx("button",{className:`btn btn-outline-secondary ${j==="inch"?"active":""}`,onClick:()=>U("inch"),children:"inch"})]}),e.jsxs("select",{className:"form-select form-select-sm w-auto",value:A,onChange:s=>ve(s.target.value),"aria-label":"Language",children:[e.jsx("option",{value:"en",children:"English"}),e.jsx("option",{value:"hi",children:"हिंदी"})]}),e.jsx("button",{onClick:ye,className:"btn btn-sm btn-outline-secondary d-inline-flex align-items-center gap-1",title:"Toggle light/dark",children:M==="dark"?"☀️ Light":"🌙 Dark"})]})]})}),e.jsx("main",{className:"container py-4 py-md-5",children:e.jsxs("div",{className:"row g-4 g-lg-5",children:[e.jsxs("section",{className:"col-lg-7 d-flex flex-column gap-4",children:[e.jsxs(D,{children:[e.jsx("div",{className:"card-header fw-semibold text-white rounded-top-4",style:{background:"linear-gradient(135deg, #0d6efd, #20c997)",fontSize:"0.95rem",letterSpacing:"0.5px"},children:l("Project Setup","प्रोजेक्ट सेटअप")}),e.jsxs("div",{className:"card-body",children:[e.jsx("div",{className:"row g-2 g-sm-3",children:[{w:900,h:1200,label:"Std. Window"},{w:1200,h:2100,label:"Door Single"},{w:1800,h:2100,label:"Door Double"}].map(s=>e.jsx("div",{className:"col-6 col-sm-4",children:e.jsxs("button",{onClick:()=>{o(String(s.w)),v(String(s.h))},className:"btn btn-outline-secondary w-100 text-start",children:[e.jsx("div",{className:"fw-semibold small",children:s.label}),e.jsxs("div",{className:"text-body-secondary small",children:[s.w," × ",s.h," mm"]})]})},s.label))}),e.jsxs("div",{className:"row g-2 mt-3",children:[e.jsx("div",{className:"col-8 col-md-6",children:e.jsx("input",{className:"form-control",placeholder:l("Project name","प्रोजेक्ट नाम"),value:W,onChange:s=>X(s.target.value)})}),e.jsxs("div",{className:"col-4 col-md-6 d-flex gap-2",children:[e.jsx("button",{className:"btn btn-primary",onClick:Se,children:l("Save","सेव")}),e.jsx("button",{className:"btn btn-outline-primary",onClick:le,children:l("Share","शेयर")})]})]})]})]}),e.jsxs(D,{children:[e.jsx("div",{className:"card-header bg-body-tertiary",children:e.jsxs("strong",{children:["📏 ",l("Dimensions","माप")]})}),e.jsx("div",{className:"card-body",children:e.jsxs("div",{className:"row g-3",children:[e.jsxs("div",{className:"col-md-6",children:[e.jsx("label",{className:"form-label",children:l("Width","चौड़ाई")}),e.jsxs("div",{className:"input-group",children:[e.jsx("input",{type:"number",className:"form-control",value:q(i),onChange:s=>o(Y(s.target.value)),placeholder:"0","aria-label":"Width in millimeters",min:0}),e.jsx("span",{className:"input-group-text",children:j==="mm"?"mm":"in"})]}),e.jsx("div",{className:"form-text",children:l("Measure visible frame width.","दिखने वाले फ्रेम की चौड़ाई नापें।")})]}),e.jsxs("div",{className:"col-md-6",children:[e.jsx("label",{className:"form-label",children:l("Height","ऊँचाई")}),e.jsxs("div",{className:"input-group",children:[e.jsx("input",{type:"number",className:"form-control",value:q(u),onChange:s=>v(Y(s.target.value)),placeholder:"0","aria-label":"Height in millimeters",min:0}),e.jsx("span",{className:"input-group-text",children:j==="mm"?"mm":"in"})]}),e.jsx("div",{className:"form-text",children:l("Measure visible frame height.","दिखने वाले फ्रेम की ऊँचाई नापें।")})]})]})})]}),e.jsxs(D,{children:[e.jsx("div",{className:"card-header bg-body-tertiary",children:e.jsxs("strong",{children:["⚙️ ",l("Configuration","कॉन्फ़िगरेशन")]})}),e.jsx("div",{className:"card-body",children:e.jsxs("div",{className:"row g-3",children:[e.jsxs("div",{className:"col-md-6",children:[e.jsxs("label",{className:"form-label",children:["🪟 ",l("Glass type","काँच प्रकार")]}),e.jsx("select",{className:"form-select",value:n,onChange:s=>m(s.target.value),children:["Clear","Toughened","Reflective","Double Glazed"].map(s=>e.jsx("option",{value:s,children:s},s))}),e.jsxs("div",{className:"form-text",children:[l("Density auto:","घनत्व:")," ",r.baseDensity.toFixed(2)," kg/m²"]})]}),e.jsxs("div",{className:"col-md-6",children:[e.jsxs("label",{className:"form-label",children:[l("Glass thickness","काँच मोटाई")," (",n==="Double Glazed"?"fixed 24mm":`${c}mm`,")"]}),n==="Double Glazed"?e.jsx("input",{type:"text",className:"form-control",value:"24",disabled:!0}):e.jsx("input",{type:"range",min:4,max:12,step:1,className:"form-range",value:c,onChange:s=>V(Number(s.target.value))})]}),e.jsxs("div",{className:"col-md-6",children:[e.jsx("label",{className:"form-label",children:l("Profile","प्रोफ़ाइल")}),e.jsx("select",{className:"form-select",value:x,onChange:s=>J(s.target.value),"aria-label":"Aluminium profile",children:["Series 45","Series 60","Series 75","Sliding Light","Sliding Heavy"].map(s=>e.jsxs("option",{value:s,children:[s," = ",z[s]," kg/m"]},s))})]}),e.jsxs("div",{className:"col-md-6",children:[e.jsx("label",{className:"form-label",children:l("Finish","फिनिश")}),e.jsx("select",{className:"form-select",value:S,onChange:s=>K(s.target.value),children:["Powder Coated","Anodized"].map(s=>e.jsx("option",{value:s,children:s},s))})]}),e.jsxs("div",{className:"col-md-6",children:[e.jsx("label",{className:"form-label",children:l("Accessories (kg)","एक्सेसरीज़ (किग्रा)")}),e.jsxs("div",{className:"input-group",children:[e.jsx("span",{className:"input-group-text",children:"kg"}),e.jsx("input",{type:"number",className:"form-control",value:w,onChange:s=>Q(s.target.value),placeholder:"0","aria-label":"Accessories in kilograms",min:0})]}),e.jsx("div",{className:"form-text",children:l("Manual accessories weight.","एक्सेसरीज़ का मैनुअल वज़न।")})]}),e.jsxs("div",{className:"col-md-6 col-lg-6",children:[e.jsx("label",{className:"form-label",children:l("Cost per Kg","क़ीमत प्रति किग्रा")}),e.jsxs("div",{className:"input-group",children:[e.jsx("span",{className:"input-group-text",children:"₹"}),e.jsx("input",{type:"number",className:"form-control",value:N,onChange:s=>$(s.target.value),placeholder:"0","aria-label":"Cost per kilogram in rupees",min:0})]}),e.jsx("input",{type:"range",min:0,max:600,step:10,className:"form-range mt-2",value:N||"0",onChange:s=>$(s.target.value)}),e.jsx("div",{className:"form-text",children:l("Market average ~ ₹250–₹350/kg. Adjust as needed.","मार्केट औसत ~ ₹250–₹350/किग्रा. आवश्यकतानुसार बदलें।")})]}),e.jsxs("div",{className:"col-md-6",children:[e.jsx("label",{className:"form-label",children:l("Profit Margin (%)","मुनाफ़ा मार्जिन (%)")}),e.jsx("input",{type:"number",className:"form-control",value:L,onChange:s=>me(s.target.value),min:0,max:100})]}),e.jsxs("div",{className:"col-md-6",children:[e.jsx("label",{className:"form-label",children:l("Discount (%)","छूट (%)")}),e.jsx("input",{type:"number",className:"form-control",value:I,onChange:s=>ue(s.target.value),min:0,max:100})]})]})})]}),e.jsxs(D,{children:[e.jsx("div",{className:"card-header bg-body-tertiary",children:e.jsxs("strong",{children:["📄 ",l("Quotation Builder","कोटेशन बिल्डर")]})}),e.jsx("div",{className:"card-body",children:e.jsxs("div",{className:"row g-3",children:[e.jsxs("div",{className:"col-md-6",children:[e.jsx("label",{className:"form-label",children:l("Customer Name","ग्राहक नाम")}),e.jsx("input",{type:"text",className:"form-control",value:Z,onChange:s=>ge(s.target.value)})]}),e.jsxs("div",{className:"col-md-6",children:[e.jsx("label",{className:"form-label",children:l("Customer Address / Site","ग्राहक पता / साइट")}),e.jsx("input",{type:"text",className:"form-control",value:ee,onChange:s=>xe(s.target.value)})]}),e.jsxs("div",{className:"col-md-4",children:[e.jsx("label",{className:"form-label",children:"GST (%)"}),e.jsx("input",{type:"number",className:"form-control",value:F,onChange:s=>be(s.target.value)})]}),e.jsxs("div",{className:"col-md-4",children:[e.jsx("label",{className:"form-label",children:l("Delivery Charge (₹)","डिलीवरी शुल्क (₹)")}),e.jsx("input",{type:"number",className:"form-control",value:E,onChange:s=>pe(s.target.value)})]}),e.jsxs("div",{className:"col-md-4",children:[e.jsx("label",{className:"form-label",children:l("Labor Charge (₹)","मजदूरी शुल्क (₹)")}),e.jsx("input",{type:"number",className:"form-control",value:P,onChange:s=>fe(s.target.value)})]}),e.jsxs("div",{className:"col-12",children:[e.jsx("label",{className:"form-label",children:l("Terms & Conditions","नियम व शर्तें")}),e.jsx("textarea",{className:"form-control",rows:4,value:se,onChange:s=>je(s.target.value)})]})]})})]})]}),e.jsxs("aside",{className:"col-lg-5",children:[e.jsxs("div",{className:"card shadow mb-4",children:[e.jsx("div",{className:"card-header bg-body-tertiary",children:e.jsx("strong",{children:"📄 Results"})}),e.jsxs("div",{className:"card-body p-0",children:[e.jsx("ul",{className:"list-group list-group-flush",children:te.map(s=>e.jsxs("li",{className:"list-group-item d-flex justify-content-between align-items-center",children:[e.jsx("span",{className:"text-body-secondary",children:s.label}),e.jsx("span",{className:`fw-semibold ${s.label.includes("Cost")?"text-success":s.label.includes("Aluminium")?"text-secondary":"text-primary"}`,children:s.value})]},s.label))}),e.jsxs("div",{className:"row g-3 p-3",children:[e.jsx("div",{className:"col-sm-6",children:e.jsxs("div",{className:"rounded-4 p-3 h-100 shadow-sm",style:{background:"linear-gradient(135deg, rgba(192,192,192,0.25), rgba(192,192,192,0.05))",border:"1px solid rgba(192,192,192,.35)",transition:"transform 0.2s ease, box-shadow 0.2s ease"},onMouseEnter:s=>{s.currentTarget.style.transform="translateY(-4px)",s.currentTarget.style.boxShadow="0 6px 18px rgba(0,0,0,0.15)"},onMouseLeave:s=>{s.currentTarget.style.transform="translateY(0)",s.currentTarget.style.boxShadow="0 2px 8px rgba(0,0,0,0.1)"},children:[e.jsx("div",{className:"text-uppercase small fw-semibold text-secondary",children:"Total Weight"}),e.jsxs("div",{className:"fs-4 fw-bold text-secondary",children:[r.totalWeight.toFixed(2)," kg"]})]})}),e.jsx("div",{className:"col-sm-6",children:e.jsxs("div",{className:"rounded p-3 h-100",style:{background:"linear-gradient(135deg, rgba(25,135,84,.15), rgba(25,135,84,.05))",border:"1px solid rgba(25,135,84,.25)"},children:[e.jsx("div",{className:"text-uppercase small fw-semibold text-success",children:"Estimated Cost"}),e.jsxs("div",{className:"fs-4 fw-bold text-success",children:["₹ ",r.estimatedCost.toFixed(2)]})]})})]})]}),e.jsxs("div",{className:"card-footer d-grid d-sm-flex gap-2 justify-content-end",children:[e.jsx("div",{className:"me-auto small text-body-secondary d-none d-sm-block",children:"Accessories fixed at 2 kg. Perimeter = 2 × (W + H)."}),e.jsx("button",{className:"btn btn-danger btn-lg flex-fill flex-sm-grow-0",onClick:ie,title:"Export as PDF",children:"📝 PDF"}),e.jsx("button",{className:"btn btn-success btn-lg flex-fill flex-sm-grow-0",onClick:ae,title:"Export as Excel",children:"📊 Excel"})]})]}),e.jsxs(D,{children:[e.jsx("div",{className:"card-header bg-body-tertiary",children:e.jsx("strong",{children:"Recent Calculations"})}),e.jsx("div",{className:"card-body p-0",children:e.jsxs("ul",{className:"list-group list-group-flush",id:"recentList",children:[C.slice(0,6).map(s=>{let t=0;const d=h=>{t=h.touches[0].clientX},b=h=>{const p=h.changedTouches[0].clientX-t;if(p<-60){if(confirm("Delete this estimate?")){const f=C.filter(g=>g.ts!==s.ts);localStorage.setItem("estimates",JSON.stringify(f)),k(f)}}else if(p>60){const g=[{...s,ts:Date.now(),name:`${s.name} (copy)`},...C];localStorage.setItem("estimates",JSON.stringify(g.slice(0,20))),k(g.slice(0,20))}},y=h=>{h.preventDefault();const p=prompt("Rename",s.name);if(p&&p.trim()){const f=C.map(g=>g.ts===s.ts?{...g,name:p}:g);localStorage.setItem("estimates",JSON.stringify(f)),k(f)}};return e.jsxs("li",{className:"list-group-item d-flex justify-content-between align-items-center",onTouchStart:d,onTouchEnd:b,onContextMenu:y,children:[e.jsx("button",{className:"btn btn-link p-0",onClick:()=>we(s),title:"Load project",children:s.name}),e.jsx("span",{className:"text-body-secondary small",children:new Date(s.ts).toLocaleDateString()})]},s.ts)}),!C.length&&e.jsx("li",{className:"list-group-item text-body-secondary small",children:"No saved estimates yet."})]})})]})]})]})}),e.jsxs("footer",{className:"py-4 text-center small text-body-secondary",children:["© ",new Date().getFullYear()," Venkatesh Aluminium and Glass • Designed by ",e.jsx("span",{children:e.jsx("b",{children:"Shubham Joshi"})})]}),e.jsx("div",{className:"position-fixed bottom-0 start-0 end-0 bg-body border-top shadow-sm",style:{zIndex:1050},children:e.jsxs("div",{className:"container py-2 d-flex flex-column flex-sm-row align-items-stretch align-items-sm-center gap-2",children:[e.jsxs("div",{className:"flex-fill",children:[e.jsx("div",{className:"small text-body-secondary",children:l("Grand Total","कुल योग")}),e.jsxs("div",{className:"fs-5 fw-bold",children:["₹ ",T.grandTotal.toFixed(2)]})]}),e.jsxs("div",{className:"d-flex gap-2",children:[e.jsx("button",{className:"btn btn-outline-secondary d-inline-flex align-items-center gap-1",onClick:le,children:"Share"}),e.jsx("button",{className:"btn btn-success d-inline-flex align-items-center gap-1",onClick:async()=>{try{await await Ce(),await shareViaWhatsApp()}catch{shareViaWhatsApp()}},children:"WhatsApp"}),e.jsx("button",{className:"btn btn-outline-primary d-inline-flex align-items-center gap-1",onClick:shareViaEmail,children:"Email"}),e.jsx("button",{className:"btn btn-danger",onClick:ie,children:"PDF"}),e.jsx("button",{className:"btn btn-success",onClick:ae,children:"Excel"})]})]})}),e.jsx("div",{className:"modal fade",id:"shareModal",tabIndex:"-1","aria-hidden":"true",children:e.jsx("div",{className:"modal-dialog",children:e.jsxs("div",{className:"modal-content",children:[e.jsxs("div",{className:"modal-header",children:[e.jsx("h5",{className:"modal-title",children:"Share Quote"}),e.jsx("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),e.jsxs("div",{className:"modal-body d-grid gap-2",children:[e.jsx("input",{className:"form-control",readOnly:!0,value:_}),_&&e.jsx("img",{className:"mx-auto",alt:"QR",width:"160",height:"160",src:`https://api.qrserver.com/v1/create-qr-code/?size=160x160&data=${encodeURIComponent(_)}`}),e.jsx("div",{className:"form-text",children:"Link copied to clipboard. Scan QR to open on mobile."})]}),e.jsx("div",{className:"modal-footer",children:e.jsx("button",{className:"btn btn-secondary","data-bs-dismiss":"modal",children:"Close"})})]})})})]})}(()=>{try{const i=localStorage.getItem("theme"),o=window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches,u=i==="dark"||i==="light"?i:o?"dark":"light";document.documentElement.setAttribute("data-bs-theme",u==="dark"?"dark":"light")}catch{}})();Fe.createRoot(document.getElementById("app")).render(R.createElement(R.StrictMode,null,R.createElement(Te,null)));"serviceWorker"in navigator&&H(async()=>{const{registerSW:i}=await import("./virtual_pwa-register-UvVCG0jN.js");return{registerSW:i}},__vite__mapDeps([2,0,1])).then(({registerSW:i})=>{i({immediate:!0,onRegisteredSW:()=>{},onNeedRefresh(){},onOfflineReady(){}})}).catch(()=>{});
