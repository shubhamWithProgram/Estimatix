const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./vendor-jspdf-VWSp1YfN.js","./vendor-D6QZukKu.js"])))=>i.map(i=>d[i]);
import{r as l,j as e,R as pe,a as E}from"./vendor-react-DtVMObJS.js";import{_ as U}from"./vendor-jspdf-VWSp1YfN.js";import{F as fe}from"./vendor-D6QZukKu.js";(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))g(r);new MutationObserver(r=>{for(const d of r)if(d.type==="childList")for(const c of d.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&g(c)}).observe(document,{childList:!0,subtree:!0});function m(r){const d={};return r.integrity&&(d.integrity=r.integrity),r.referrerPolicy&&(d.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?d.credentials="include":r.crossOrigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function g(r){if(r.ep)return;r.ep=!0;const d=m(r);fetch(r.href,d)}})();let T;async function je(){return T||(T=(await U(()=>import("./vendor-jspdf-VWSp1YfN.js").then(o=>o.j),__vite__mapDeps([0,1]),import.meta.url)).jsPDF),T}let $;async function Ne(){return $||($=await U(()=>import("./vendor-xlsx-DGuHH-KN.js"),[],import.meta.url)),$}const ve={"4mm":10,"5mm":12.5,"6mm":15,"24mm DG":22},A={"Series 45":2.5,"Series 60":3.8,"Series 75":4.5,"Sliding Light":2.2,"Sliding Heavy":5},j=({children:n})=>e.jsx("div",{className:"card border-0 shadow-sm rounded-4 mb-3",style:{transition:"all 0.3s ease"},onMouseEnter:o=>o.currentTarget.style.boxShadow="0 8px 24px rgba(0,0,0,0.15)",onMouseLeave:o=>o.currentTarget.style.boxShadow="0 4px 12px rgba(0,0,0,0.1)",children:n});function ye(){const[n,o]=l.useState("0"),[m,g]=l.useState("0"),[r,d]=l.useState("Clear"),[c,L]=l.useState(5),[u,W]=l.useState("Series 60"),[b,_]=l.useState("Powder Coated"),[x,C]=l.useState("0"),[p,G]=l.useState("0"),[k,R]=l.useState(""),[F,Y]=l.useState(""),[D,Z]=l.useState("10"),[M,ee]=l.useState("0"),[Se,se]=l.useState(""),[I,te]=l.useState(""),[z,ae]=l.useState(""),[N,le]=l.useState("18"),[v,re]=l.useState("0"),[y,ie]=l.useState("0"),[O,ne]=l.useState(`1. Prices are valid for 15 days.
2. Delivery within 7 working days.
3. Payment: 50% advance, balance on delivery.`),[S,oe]=l.useState(localStorage.getItem("theme")||(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"));l.useEffect(()=>{document.documentElement.setAttribute("data-bs-theme",S),localStorage.setItem("theme",S)},[S]),l.useEffect(()=>{const s=Number(n)/1e3||0,t=Number(m)/1e3||0;let a="";t>2.1||s>1.5?a="âš ï¸ Consider Series 75 or Sliding Heavy for better strength.":t>1.8?a="ðŸ‘‰ Series 60 is usually sufficient for medium frames.":a="âœ… Series 45 is fine for small windows.",c<5&&(s>1.2||t>1.8)&&(a+=" âš ï¸ Glass may be too thin for this size."),se(a)},[n,m,c]);const i=l.useMemo(()=>{const s=(Number(n)||0)/1e3,t=(Number(m)||0)/1e3,a=s*t;let h;r==="Double Glazed"?h=22:["4mm","5mm","6mm","24mm DG"].includes(String(c)+"mm")?h=ve[String(c)+"mm"]||c*2.5:h=c*2.5;const w=r==="Toughened"?1.1:r==="Reflective"?1.05:1,f=a*h*w,J=2*(s+t),V=J*A[u],X=Number(p)||0,q=f+V+X,ge=b==="Anodized"?1.08:1.05,B=q*(Number(x)||0)*ge,be=B*(1+(Number(D)||0)/100)*(1-(Number(M)||0)/100);return{areaM2:a,glassWeight:f,perimeterM:J,aluminiumWeight:V,accessories:X,totalWeight:q,estimatedCost:B,finalCost:be,baseDensity:h*w}},[n,m,r,c,u,x,p,b,D,M]),P=l.useMemo(()=>{const s=i.finalCost+(Number(v)||0)+(Number(y)||0),t=s*((Number(N)||0)/100),a=s+t;return{subtotal:s,gstAmount:t,grandTotal:a}},[i.finalCost,v,y,N]),H=l.useMemo(()=>[{label:"Profile",value:`${u} (${A[u]} kg/m)`},{label:"Glass Area",value:`${i.areaM2.toFixed(3)} mÂ²`},{label:"Glass Weight",value:`${i.glassWeight.toFixed(2)} kg`},{label:"Aluminium Weight",value:`${i.aluminiumWeight.toFixed(2)} kg`},{label:"Accessories",value:`${i.accessories.toFixed(2)} kg`},{label:"Total Weight",value:`${i.totalWeight.toFixed(2)} kg`},{label:"Estimated Cost",value:`â‚¹ ${i.estimatedCost.toFixed(2)}`},{label:"Final Quotation",value:`â‚¹ ${i.finalCost.toFixed(2)}`}],[i,u]);function ce(){oe(s=>s==="dark"?"light":"dark")}async function de(){const s=await Ne(),t=[["Field","Value"],["Width (mm)",n],["Height (mm)",m],["Glass Type",r],["Profile",u],["Cost per Kg (â‚¹)",x],...H.map(f=>[f.label,f.value])],a=s.utils.aoa_to_sheet(t),h=s.utils.book_new();s.utils.book_append_sheet(h,a,"Calculation");const w=s.write(h,{bookType:"xlsx",type:"array"});fe.saveAs(new Blob([w],{type:"application/octet-stream"}),"aluminium-calculation.xlsx")}function me(){const s={ts:Date.now(),name:k||`Estimate ${new Date().toLocaleString()}`,state:{widthMm:n,heightMm:m,glassType:r,thicknessMm:c,profile:u,finish:b,costPerKg:x,accessoriesKg:p}},t=JSON.parse(localStorage.getItem("estimates")||"[]");t.unshift(s),localStorage.setItem("estimates",JSON.stringify(t.slice(0,20))),Q(t.slice(0,20)),R("")}function ue(s){o(s.state.widthMm),g(s.state.heightMm),d(s.state.glassType),L(s.state.thicknessMm),W(s.state.profile),_(s.state.finish),C(s.state.costPerKg),G(s.state.accessoriesKg)}function he(){const s=new URLSearchParams({w:String(n),h:String(m),gt:r,t:String(c),p:u,f:b,c:String(x),a:String(p)}).toString(),t=`${location.origin}${location.pathname}?${s}`;navigator.clipboard?.writeText(t).catch(()=>{}),Y(t),new window.bootstrap.Modal(document.getElementById("shareModal")).show()}const xe=async()=>{const s=await je(),t=new s;t.setFontSize(16),t.text("Venkatesh Aluminium",14,20),t.setFontSize(10),t.text("Ram Nagar, Dhule - 400001",14,28),t.text("Phone: +91 9673705228 | Email: venkateshaluminum@gmail.com",14,34),t.line(14,38,200,38),t.setFontSize(12),t.text(`Quotation for: ${I}`,14,48),t.text(`Address: ${z}`,14,55),t.text(`Date: ${new Date().toLocaleDateString()}`,14,62),t.line(14,66,200,66),t.setFontSize(12);let a=76;t.text(`Profile: ${u}`,14,a),a+=8,t.text(`Glass Area: ${i.areaM2.toFixed(3)} mÂ²`,14,a),a+=8,t.text(`Glass Weight: ${i.glassWeight.toFixed(2)} kg`,14,a),a+=8,t.text(`Aluminium Weight: ${i.aluminiumWeight.toFixed(2)} kg`,14,a),a+=8,t.text(`Accessories: ${i.accessories.toFixed(2)} kg`,14,a),a+=8,t.text(`Total Weight: ${i.totalWeight.toFixed(2)} kg`,14,a),a+=8,t.text(`Final Quotation: â‚¹ ${i.finalCost.toFixed(2)}`,14,a),a+=8,t.text(`Delivery: â‚¹ ${v}`,14,a),a+=8,t.text(`Labor: â‚¹ ${y}`,14,a),a+=8,t.text(`Subtotal: â‚¹ ${P.subtotal.toFixed(2)}`,14,a),a+=8,t.text(`GST (${N}%): â‚¹ ${P.gstAmount.toFixed(2)}`,14,a),a+=8,t.setFont(void 0,"bold"),t.text(`Grand Total: â‚¹ ${P.grandTotal.toFixed(2)}`,14,a),a+=12,t.setFont(void 0,"normal"),t.setFontSize(10),t.text("Terms & Conditions:",14,a),t.text(O.split(`
`),14,a+6),t.save(`${k||"Quotation"}.pdf`)},[K,Q]=l.useState(()=>{try{return JSON.parse(localStorage.getItem("estimates")||"[]")}catch{return[]}});return l.useEffect(()=>{const s=()=>{try{Q(JSON.parse(localStorage.getItem("estimates")||"[]"))}catch{}};return window.addEventListener("storage",s),()=>window.removeEventListener("storage",s)},[]),e.jsxs("div",{className:"min-vh-100 bg-body",children:[e.jsx("header",{className:"sticky-top bg-body border-bottom",style:{zIndex:1030},children:e.jsxs("div",{className:"container py-3 d-flex align-items-center justify-content-between",children:[e.jsx("div",{className:"d-flex align-items-center gap-2",children:e.jsxs("div",{children:[e.jsx("h1",{className:"h5 mb-0",children:"Venkatesh Aluminium and Glass"}),e.jsx("small",{className:"text-body-secondary",children:"Windows & Doors â€¢ Weight & Cost Estimator"})]})}),e.jsx("div",{className:"d-flex align-items-center gap-2",children:e.jsx("button",{onClick:ce,className:"btn btn-sm btn-outline-secondary d-inline-flex align-items-center gap-1",title:"Toggle light/dark",children:S==="dark"?"â˜€ï¸ Light":"ðŸŒ™ Dark"})})]})}),e.jsx("main",{className:"container py-4 py-md-5",children:e.jsxs("div",{className:"row g-4 g-lg-5",children:[e.jsxs("section",{className:"col-lg-7 d-flex flex-column gap-4",children:[e.jsxs(j,{children:[e.jsx("div",{className:"card-header fw-semibold text-white rounded-top-4",style:{background:"linear-gradient(135deg, #0d6efd, #20c997)",fontSize:"0.95rem",letterSpacing:"0.5px"},children:"Project Setup"}),e.jsxs("div",{className:"card-body",children:[e.jsx("div",{className:"row g-2 g-sm-3",children:[{w:900,h:1200,label:"Std. Window"},{w:1200,h:2100,label:"Door Single"},{w:1800,h:2100,label:"Door Double"}].map(s=>e.jsx("div",{className:"col-6 col-sm-4",children:e.jsxs("button",{onClick:()=>{o(String(s.w)),g(String(s.h))},className:"btn btn-outline-secondary w-100 text-start",children:[e.jsx("div",{className:"fw-semibold small",children:s.label}),e.jsxs("div",{className:"text-body-secondary small",children:[s.w," Ã— ",s.h," mm"]})]})},s.label))}),e.jsxs("div",{className:"row g-2 mt-3",children:[e.jsx("div",{className:"col-8 col-md-6",children:e.jsx("input",{className:"form-control",placeholder:"Project name",value:k,onChange:s=>R(s.target.value)})}),e.jsxs("div",{className:"col-4 col-md-6 d-flex gap-2",children:[e.jsx("button",{className:"btn btn-primary",onClick:me,children:"Save"}),e.jsx("button",{className:"btn btn-outline-primary",onClick:he,children:"Share"})]})]})]})]}),e.jsxs(j,{children:[e.jsx("div",{className:"card-header bg-body-tertiary",children:e.jsx("strong",{children:"ðŸ“ Dimensions"})}),e.jsx("div",{className:"card-body",children:e.jsxs("div",{className:"row g-3",children:[e.jsxs("div",{className:"col-md-6",children:[e.jsx("label",{className:"form-label",children:"Width"}),e.jsxs("div",{className:"input-group",children:[e.jsx("input",{type:"number",className:"form-control",value:n,onChange:s=>o(s.target.value),placeholder:"0","aria-label":"Width in millimeters",min:0}),e.jsx("span",{className:"input-group-text",children:"mm"})]}),e.jsx("div",{className:"form-text",children:"Measure visible frame width."})]}),e.jsxs("div",{className:"col-md-6",children:[e.jsx("label",{className:"form-label",children:"Height"}),e.jsxs("div",{className:"input-group",children:[e.jsx("input",{type:"number",className:"form-control",value:m,onChange:s=>g(s.target.value),placeholder:"0","aria-label":"Height in millimeters",min:0}),e.jsx("span",{className:"input-group-text",children:"mm"})]}),e.jsx("div",{className:"form-text",children:"Measure visible frame height."})]})]})})]}),e.jsxs(j,{children:[e.jsx("div",{className:"card-header bg-body-tertiary",children:e.jsx("strong",{children:"âš™ï¸ Configuration"})}),e.jsx("div",{className:"card-body",children:e.jsxs("div",{className:"row g-3",children:[e.jsxs("div",{className:"col-md-6",children:[e.jsx("label",{className:"form-label",children:"ðŸªŸ Glass type"}),e.jsx("select",{className:"form-select",value:r,onChange:s=>d(s.target.value),children:["Clear","Toughened","Reflective","Double Glazed"].map(s=>e.jsx("option",{value:s,children:s},s))}),e.jsxs("div",{className:"form-text",children:["Density auto: ",i.baseDensity.toFixed(2)," kg/mÂ²"]})]}),e.jsxs("div",{className:"col-md-6",children:[e.jsxs("label",{className:"form-label",children:["Glass thickness (",r==="Double Glazed"?"fixed 24mm":`${c}mm`,")"]}),r==="Double Glazed"?e.jsx("input",{type:"text",className:"form-control",value:"24",disabled:!0}):e.jsx("input",{type:"range",min:4,max:12,step:1,className:"form-range",value:c,onChange:s=>L(Number(s.target.value))})]}),e.jsxs("div",{className:"col-md-6",children:[e.jsx("label",{className:"form-label",children:"Profile"}),e.jsx("select",{className:"form-select",value:u,onChange:s=>W(s.target.value),"aria-label":"Aluminium profile",children:["Series 45","Series 60","Series 75","Sliding Light","Sliding Heavy"].map(s=>e.jsxs("option",{value:s,children:[s," = ",A[s]," kg/m"]},s))})]}),e.jsxs("div",{className:"col-md-6",children:[e.jsx("label",{className:"form-label",children:"Finish"}),e.jsx("select",{className:"form-select",value:b,onChange:s=>_(s.target.value),children:["Powder Coated","Anodized"].map(s=>e.jsx("option",{value:s,children:s},s))})]}),e.jsxs("div",{className:"col-md-6",children:[e.jsx("label",{className:"form-label",children:"Accessories (kg)"}),e.jsxs("div",{className:"input-group",children:[e.jsx("span",{className:"input-group-text",children:"kg"}),e.jsx("input",{type:"number",className:"form-control",value:p,onChange:s=>G(s.target.value),placeholder:"0","aria-label":"Accessories in kilograms",min:0})]}),e.jsx("div",{className:"form-text",children:"Manual accessories weight."})]}),e.jsxs("div",{className:"col-md-6 col-lg-6",children:[e.jsx("label",{className:"form-label",children:"Cost per Kg"}),e.jsxs("div",{className:"input-group",children:[e.jsx("span",{className:"input-group-text",children:"â‚¹"}),e.jsx("input",{type:"number",className:"form-control",value:x,onChange:s=>C(s.target.value),placeholder:"0","aria-label":"Cost per kilogram in rupees",min:0})]}),e.jsx("input",{type:"range",min:0,max:600,step:10,className:"form-range mt-2",value:x||"0",onChange:s=>C(s.target.value)}),e.jsx("div",{className:"form-text",children:"Market average ~ â‚¹250â€“â‚¹350/kg. Adjust as needed."})]}),e.jsxs("div",{className:"col-md-6",children:[e.jsx("label",{className:"form-label",children:"Profit Margin (%)"}),e.jsx("input",{type:"number",className:"form-control",value:D,onChange:s=>Z(s.target.value),min:0,max:100})]}),e.jsxs("div",{className:"col-md-6",children:[e.jsx("label",{className:"form-label",children:"Discount (%)"}),e.jsx("input",{type:"number",className:"form-control",value:M,onChange:s=>ee(s.target.value),min:0,max:100})]})]})})]}),e.jsxs(j,{children:[e.jsx("div",{className:"card-header bg-body-tertiary",children:e.jsx("strong",{children:"ðŸ“„ Quotation Builder"})}),e.jsx("div",{className:"card-body",children:e.jsxs("div",{className:"row g-3",children:[e.jsxs("div",{className:"col-md-6",children:[e.jsx("label",{className:"form-label",children:"Customer Name"}),e.jsx("input",{type:"text",className:"form-control",value:I,onChange:s=>te(s.target.value)})]}),e.jsxs("div",{className:"col-md-6",children:[e.jsx("label",{className:"form-label",children:"Customer Address / Site"}),e.jsx("input",{type:"text",className:"form-control",value:z,onChange:s=>ae(s.target.value)})]}),e.jsxs("div",{className:"col-md-4",children:[e.jsx("label",{className:"form-label",children:"GST (%)"}),e.jsx("input",{type:"number",className:"form-control",value:N,onChange:s=>le(s.target.value)})]}),e.jsxs("div",{className:"col-md-4",children:[e.jsx("label",{className:"form-label",children:"Delivery Charge (â‚¹)"}),e.jsx("input",{type:"number",className:"form-control",value:v,onChange:s=>re(s.target.value)})]}),e.jsxs("div",{className:"col-md-4",children:[e.jsx("label",{className:"form-label",children:"Labor Charge (â‚¹)"}),e.jsx("input",{type:"number",className:"form-control",value:y,onChange:s=>ie(s.target.value)})]}),e.jsxs("div",{className:"col-12",children:[e.jsx("label",{className:"form-label",children:"Terms & Conditions"}),e.jsx("textarea",{className:"form-control",rows:4,value:O,onChange:s=>ne(s.target.value)})]})]})})]})]}),e.jsxs("aside",{className:"col-lg-5",children:[e.jsxs("div",{className:"card shadow mb-4",children:[e.jsx("div",{className:"card-header bg-body-tertiary",children:e.jsx("strong",{children:"Results"})}),e.jsxs("div",{className:"card-body p-0",children:[e.jsx("ul",{className:"list-group list-group-flush",children:H.map(s=>e.jsxs("li",{className:"list-group-item d-flex justify-content-between align-items-center",children:[e.jsx("span",{className:"text-body-secondary",children:s.label}),e.jsx("span",{className:`fw-semibold ${s.label.includes("Cost")?"text-success":s.label.includes("Aluminium")?"text-secondary":"text-primary"}`,children:s.value})]},s.label))}),e.jsxs("div",{className:"row g-3 p-3",children:[e.jsx("div",{className:"col-sm-6",children:e.jsxs("div",{className:"rounded-4 p-3 h-100 shadow-sm",style:{background:"linear-gradient(135deg, rgba(192,192,192,0.25), rgba(192,192,192,0.05))",border:"1px solid rgba(192,192,192,.35)",transition:"transform 0.2s ease, box-shadow 0.2s ease"},onMouseEnter:s=>{s.currentTarget.style.transform="translateY(-4px)",s.currentTarget.style.boxShadow="0 6px 18px rgba(0,0,0,0.15)"},onMouseLeave:s=>{s.currentTarget.style.transform="translateY(0)",s.currentTarget.style.boxShadow="0 2px 8px rgba(0,0,0,0.1)"},children:[e.jsx("div",{className:"text-uppercase small fw-semibold text-secondary",children:"Total Weight"}),e.jsxs("div",{className:"fs-4 fw-bold text-secondary",children:[i.totalWeight.toFixed(2)," kg"]})]})}),e.jsx("div",{className:"col-sm-6",children:e.jsxs("div",{className:"rounded p-3 h-100",style:{background:"linear-gradient(135deg, rgba(25,135,84,.15), rgba(25,135,84,.05))",border:"1px solid rgba(25,135,84,.25)"},children:[e.jsx("div",{className:"text-uppercase small fw-semibold text-success",children:"Estimated Cost"}),e.jsxs("div",{className:"fs-4 fw-bold text-success",children:["â‚¹ ",i.estimatedCost.toFixed(2)]})]})})]})]}),e.jsxs("div",{className:"card-footer d-grid d-sm-flex gap-2 justify-content-end",children:[e.jsx("div",{className:"me-auto small text-body-secondary d-none d-sm-block",children:"Accessories fixed at 2 kg. Perimeter = 2 Ã— (W + H)."}),e.jsx("button",{className:"btn btn-danger btn-lg flex-fill flex-sm-grow-0",onClick:xe,title:"Export as PDF",children:"ðŸ“ PDF"}),e.jsx("button",{className:"btn btn-success btn-lg flex-fill flex-sm-grow-0",onClick:de,title:"Export as Excel",children:"ðŸ“Š Excel"})]})]}),e.jsxs(j,{children:[e.jsx("div",{className:"card-header bg-body-tertiary",children:e.jsx("strong",{children:"Recent Calculations"})}),e.jsx("div",{className:"card-body p-0",children:e.jsxs("ul",{className:"list-group list-group-flush",id:"recentList",children:[K.slice(0,6).map(s=>e.jsxs("li",{className:"list-group-item d-flex justify-content-between align-items-center",children:[e.jsx("button",{className:"btn btn-link p-0",onClick:()=>ue(s),title:"Load project",children:s.name}),e.jsx("span",{className:"text-body-secondary small",children:new Date(s.ts).toLocaleDateString()})]},s.ts)),!K.length&&e.jsx("li",{className:"list-group-item text-body-secondary small",children:"No saved estimates yet."})]})})]})]})]})}),e.jsxs("footer",{className:"py-4 text-center small text-body-secondary",children:["Â© ",new Date().getFullYear()," Venkatesh Aluminium and Glass â€¢ Designed by ",e.jsx("span",{children:e.jsx("b",{children:"Shubham Joshi"})})]}),e.jsx("div",{className:"modal fade",id:"shareModal",tabIndex:"-1","aria-hidden":"true",children:e.jsx("div",{className:"modal-dialog",children:e.jsxs("div",{className:"modal-content",children:[e.jsxs("div",{className:"modal-header",children:[e.jsx("h5",{className:"modal-title",children:"Share Quote"}),e.jsx("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),e.jsxs("div",{className:"modal-body d-grid gap-2",children:[e.jsx("input",{className:"form-control",readOnly:!0,value:F}),F&&e.jsx("img",{className:"mx-auto",alt:"QR",width:"160",height:"160",src:`https://api.qrserver.com/v1/create-qr-code/?size=160x160&data=${encodeURIComponent(F)}`}),e.jsx("div",{className:"form-text",children:"Link copied to clipboard. Scan QR to open on mobile."})]}),e.jsx("div",{className:"modal-footer",children:e.jsx("button",{className:"btn btn-secondary","data-bs-dismiss":"modal",children:"Close"})})]})})})]})}(()=>{try{const n=localStorage.getItem("theme"),o=window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches,m=n==="dark"||n==="light"?n:o?"dark":"light";document.documentElement.setAttribute("data-bs-theme",m==="dark"?"dark":"light")}catch{}})();pe.createRoot(document.getElementById("app")).render(E.createElement(E.StrictMode,null,E.createElement(ye,null)));
