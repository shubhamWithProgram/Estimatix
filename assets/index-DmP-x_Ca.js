const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/vendor-jspdf-1K2FdTSI.js","assets/vendor-CJWWwY5t.js","assets/virtual_pwa-register-UvVCG0jN.js"])))=>i.map(i=>d[i]);
import{_ as Q}from"./vendor-jspdf-1K2FdTSI.js";import{r as l,j as e,R as Pe,a as R}from"./vendor-react-Cig_F9er.js";import{F as Ee}from"./vendor-CJWWwY5t.js";(function(){const d=document.createElement("link").relList;if(d&&d.supports&&d.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))C(n);new MutationObserver(n=>{for(const u of n)if(u.type==="childList")for(const c of u.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&C(c)}).observe(document,{childList:!0,subtree:!0});function m(n){const u={};return n.integrity&&(u.integrity=n.integrity),n.referrerPolicy&&(u.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?u.credentials="include":n.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function C(n){if(n.ep)return;n.ep=!0;const u=m(n);fetch(n.href,u)}})();let G;async function me(){return G||(G=(await Q(()=>import("./vendor-jspdf-1K2FdTSI.js").then(d=>d.j),__vite__mapDeps([0,1]))).jsPDF),G}let O;async function Me(){return O||(O=await Q(()=>import("./vendor-xlsx-DGuHH-KN.js"),[])),O}const Te={"4mm":10,"5mm":12.5,"6mm":15,"24mm DG":22},z={"Series 45":2.5,"Series 60":3.8,"Series 75":4.5,"Sliding Light":2.2,"Sliding Heavy":5},D=({children:i})=>e.jsx("div",{className:"card border-0 shadow-sm rounded-4 mb-3",style:{transition:"all 0.3s ease"},onMouseEnter:d=>d.currentTarget.style.boxShadow="0 8px 24px rgba(0,0,0,0.15)",onMouseLeave:d=>d.currentTarget.style.boxShadow="0 4px 12px rgba(0,0,0,0.1)",children:i});function Ae(){const[i,d]=l.useState("0"),[m,C]=l.useState("0"),[n,u]=l.useState("Clear"),[c,U]=l.useState(5),[g,H]=l.useState("Series 60"),[y,J]=l.useState("Powder Coated"),[p,_]=l.useState("0"),[S,K]=l.useState("0"),[w,V]=l.useState(""),[I,ue]=l.useState(""),[L,he]=l.useState("10"),[W,ge]=l.useState("0"),[_e,xe]=l.useState(""),[v,X]=l.useState(localStorage.getItem("unit")||"mm");l.useEffect(()=>{localStorage.setItem("unit",v)},[v]);const B=25.4,q=s=>v==="mm"?String(s):(Number(s)/B).toFixed(3),Y=s=>{const t=Number(s);return isFinite(t)?String(v==="mm"?t:Math.round(t*B)):"0"},[Z,be]=l.useState(""),[ee,pe]=l.useState(""),[P,fe]=l.useState("18"),[E,je]=l.useState("0"),[M,Ne]=l.useState("0"),[se,ve]=l.useState(`1. Prices are valid for 15 days.
2. Delivery within 7 working days.
3. Payment: 50% advance, balance on delivery.`),[T,ye]=l.useState(localStorage.getItem("theme")||(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"));l.useEffect(()=>{document.documentElement.setAttribute("data-bs-theme",T),localStorage.setItem("theme",T)},[T]),l.useEffect(()=>{const s=Number(i)/1e3||0,t=Number(m)/1e3||0;let o="";t>2.1||s>1.5?o="⚠️ Consider Series 75 or Sliding Heavy for better strength.":t>1.8?o="👉 Series 60 is usually sufficient for medium frames.":o="✅ Series 45 is fine for small windows.",c<5&&(s>1.2||t>1.8)&&(o+=" ⚠️ Glass may be too thin for this size."),xe(o)},[i,m,c]);const r=l.useMemo(()=>{const s=(Number(i)||0)/1e3,t=(Number(m)||0)/1e3,o=s*t;let h;n==="Double Glazed"?h=22:["4mm","5mm","6mm","24mm DG"].includes(String(c)+"mm")?h=Te[String(c)+"mm"]||c*2.5:h=c*2.5;const f=n==="Toughened"?1.1:n==="Reflective"?1.05:1,x=o*h*f,j=2*(s+t),N=j*z[g],b=Number(S)||0,ce=x+N+b,$e=y==="Anodized"?1.08:1.05,de=ce*(Number(p)||0)*$e,De=de*(1+(Number(L)||0)/100)*(1-(Number(W)||0)/100);return{areaM2:o,glassWeight:x,perimeterM:j,aluminiumWeight:N,accessories:b,totalWeight:ce,estimatedCost:de,finalCost:De,baseDensity:h*f}},[i,m,n,c,g,p,S,y,L,W]),k=l.useMemo(()=>{const s=r.finalCost+(Number(E)||0)+(Number(M)||0),t=s*((Number(P)||0)/100),o=s+t;return{subtotal:s,gstAmount:t,grandTotal:o}},[r.finalCost,E,M,P]),te=l.useMemo(()=>[{label:"Profile",value:`${g} (${z[g]} kg/m)`},{label:"Glass Area",value:`${r.areaM2.toFixed(3)} m²`},{label:"Glass Weight",value:`${r.glassWeight.toFixed(2)} kg`},{label:"Aluminium Weight",value:`${r.aluminiumWeight.toFixed(2)} kg`},{label:"Accessories",value:`${r.accessories.toFixed(2)} kg`},{label:"Total Weight",value:`${r.totalWeight.toFixed(2)} kg`},{label:"Estimated Cost",value:`₹ ${r.estimatedCost.toFixed(2)}`},{label:"Final Quotation",value:`₹ ${r.finalCost.toFixed(2)}`}],[r,g]),[A,Se]=l.useState(localStorage.getItem("lang")||"en");l.useEffect(()=>{localStorage.setItem("lang",A)},[A]);const a=(s,t)=>A==="hi"?t:s;function we(){ye(s=>s==="dark"?"light":"dark")}async function ae(){const s=await Me(),t=[["Field","Value"],["Width (mm)",i],["Height (mm)",m],["Glass Type",n],["Profile",g],["Cost per Kg (₹)",p],...te.map(x=>[x.label,x.value])],o=s.utils.aoa_to_sheet(t),h=s.utils.book_new();s.utils.book_append_sheet(h,o,"Calculation");const f=s.write(h,{bookType:"xlsx",type:"array"});Ee.saveAs(new Blob([f],{type:"application/octet-stream"}),"aluminium-calculation.xlsx")}function Ce(){const s={ts:Date.now(),name:w||`Estimate ${new Date().toLocaleString()}`,state:{widthMm:i,heightMm:m,glassType:n,thicknessMm:c,profile:g,finish:y,costPerKg:p,accessoriesKg:S}},t=JSON.parse(localStorage.getItem("estimates")||"[]");t.unshift(s),localStorage.setItem("estimates",JSON.stringify(t.slice(0,20))),$(t.slice(0,20)),V("")}function ke(s){d(s.state.widthMm),C(s.state.heightMm),u(s.state.glassType),U(s.state.thicknessMm),H(s.state.profile),J(s.state.finish),_(s.state.costPerKg),K(s.state.accessoriesKg)}function le(){const s=new URLSearchParams({w:String(i),h:String(m),gt:n,t:String(c),p:g,f:y,c:String(p),a:String(S)}).toString(),t=`${location.origin}${location.pathname}?${s}`;navigator.clipboard?.writeText(t).catch(()=>{}),ue(t),new window.bootstrap.Modal(document.getElementById("shareModal")).show()}function ne(s){s.setFontSize(16),s.text("Venkatesh Aluminium",14,20),s.setFontSize(10),s.text("Ram Nagar, Dhule - 400001",14,28),s.text("Phone: +91 9673705228 | Email: venkateshaluminum@gmail.com",14,34),s.line(14,38,200,38),s.setFontSize(12),s.text(`Quotation for: ${Z}`,14,48),s.text(`Address: ${ee}`,14,55),s.text(`Date: ${new Date().toLocaleDateString()}`,14,62),s.line(14,66,200,66),s.setFontSize(12);let t=76;s.text(`Profile: ${g}`,14,t),t+=8,s.text(`Glass Area: ${r.areaM2.toFixed(3)} m²`,14,t),t+=8,s.text(`Glass Weight: ${r.glassWeight.toFixed(2)} kg`,14,t),t+=8,s.text(`Aluminium Weight: ${r.aluminiumWeight.toFixed(2)} kg`,14,t),t+=8,s.text(`Accessories: ${r.accessories.toFixed(2)} kg`,14,t),t+=8,s.text(`Total Weight: ${r.totalWeight.toFixed(2)} kg`,14,t),t+=8,s.text(`Final Quotation: ₹ ${r.finalCost.toFixed(2)}`,14,t),t+=8,s.text(`Delivery: ₹ ${E}`,14,t),t+=8,s.text(`Labor: ₹ ${M}`,14,t),t+=8,s.text(`Subtotal: ₹ ${k.subtotal.toFixed(2)}`,14,t),t+=8,s.text(`GST (${P}%): ₹ ${k.gstAmount.toFixed(2)}`,14,t),t+=8,s.setFont(void 0,"bold"),s.text(`Grand Total: ₹ ${k.grandTotal.toFixed(2)}`,14,t),t+=12,s.setFont(void 0,"normal"),s.setFontSize(10),s.text("Terms & Conditions:",14,t),s.text(se.split(`
`),14,t+6)}async function ie(){const s=await me(),t=new s;return ne(t),t.output("blob")}const re=async()=>{const s=await me(),t=new s;ne(t),t.save(`${w||"Quotation"}.pdf`)};async function oe(){try{const h=await ie(),f=new File([h],`${w||"Quotation"}.pdf`,{type:"application/pdf"});if(navigator.canShare&&navigator.canShare({files:[f]})){await navigator.share({files:[f],title:"Quotation",text:w||"Quotation"});return}}catch{}const s=new URLSearchParams({w:String(i),h:String(m),gt:n,t:String(c),p:g,f:y,c:String(p),a:String(S)}).toString(),t=`${location.origin}/venkatesh_aluminium/?${s}`,o=`https://wa.me/?text=${encodeURIComponent(`Quotation: ${w||""}
${t}`)}`;window.open(o,"_blank")}function Fe(){const s=encodeURIComponent(w||"Quotation"),t=`Final Amount: ₹ ${k.grandTotal.toFixed(2)}
Profile: ${g}
Glass: ${n} ${c}mm
`,o=new URLSearchParams({w:String(i),h:String(m),gt:n,t:String(c),p:g,f:y,c:String(p),a:String(S)}).toString(),h=`${location.origin}/venkatesh_aluminium/?${o}`;window.location.href=`mailto:?subject=${s}&body=${encodeURIComponent(t)}%0A${encodeURIComponent(h)}`}const[F,$]=l.useState(()=>{try{return JSON.parse(localStorage.getItem("estimates")||"[]")}catch{return[]}});return l.useEffect(()=>{const s=()=>{try{$(JSON.parse(localStorage.getItem("estimates")||"[]"))}catch{}};return window.addEventListener("storage",s),()=>window.removeEventListener("storage",s)},[]),e.jsxs("div",{className:"min-vh-100 bg-body",children:[e.jsx("header",{className:"sticky-top bg-body border-bottom",style:{zIndex:1030},children:e.jsxs("div",{className:"container py-3 d-flex align-items-center justify-content-between",children:[e.jsx("div",{className:"d-flex align-items-center gap-2",children:e.jsxs("div",{children:[e.jsx("h1",{className:"h5 mb-0",children:"Venkatesh Aluminium and Glass"}),e.jsx("small",{className:"text-body-secondary",children:a("Windows & Doors • Weight & Cost Estimator","खिड़की व दरवाजे • वजन व लागत अनुमापक")})]})}),e.jsxs("div",{className:"btn-toolbar gap-2 justify-content-end",children:[e.jsxs("div",{className:"btn-group btn-group-sm",role:"group","aria-label":"Unit toggle",children:[e.jsx("button",{className:`btn btn-outline-secondary ${v==="mm"?"active":""}`,onClick:()=>X("mm"),children:"mm"}),e.jsx("button",{className:`btn btn-outline-secondary ${v==="inch"?"active":""}`,onClick:()=>X("inch"),children:"in"})]}),e.jsxs("div",{className:"btn-group btn-group-sm",role:"group",children:[e.jsxs("select",{className:"form-select form-select-sm",style:{minWidth:30},value:A,onChange:s=>Se(s.target.value),"aria-label":"Language",children:[e.jsx("option",{value:"en",children:"EN"}),e.jsx("option",{value:"hi",children:"HI"})]}),e.jsx("button",{onClick:we,className:"btn btn-outline-secondary",title:"Toggle light/dark",children:T==="dark"?"☀️":"🌙"})]})]})]})}),e.jsx("main",{className:"container py-4 py-md-5",children:e.jsxs("div",{className:"row g-4 g-lg-5",children:[e.jsxs("section",{className:"col-lg-7 d-flex flex-column gap-4",children:[e.jsxs(D,{children:[e.jsx("div",{className:"card-header fw-semibold text-white rounded-top-4",style:{background:"linear-gradient(135deg, #0d6efd, #20c997)",fontSize:"0.95rem",letterSpacing:"0.5px"},children:a("Project Setup","प्रोजेक्ट सेटअप")}),e.jsxs("div",{className:"card-body",children:[e.jsx("div",{className:"row g-2 g-sm-3",children:[{w:900,h:1200,label:"Std. Window"},{w:1200,h:2100,label:"Door Single"},{w:1800,h:2100,label:"Door Double"}].map(s=>e.jsx("div",{className:"col-6 col-sm-4",children:e.jsxs("button",{onClick:()=>{d(String(s.w)),C(String(s.h))},className:"btn btn-outline-secondary w-100 text-start",children:[e.jsx("div",{className:"fw-semibold small",children:s.label}),e.jsxs("div",{className:"text-body-secondary small",children:[s.w," × ",s.h," mm"]})]})},s.label))}),e.jsxs("div",{className:"row g-2 mt-3",children:[e.jsx("div",{className:"col-8 col-md-6",children:e.jsx("input",{className:"form-control",placeholder:a("Project name","प्रोजेक्ट नाम"),value:w,onChange:s=>V(s.target.value)})}),e.jsxs("div",{className:"col-4 col-md-6 d-flex gap-2",children:[e.jsx("button",{className:"btn btn-primary",onClick:Ce,children:a("Save","सेव")}),e.jsx("button",{className:"btn btn-outline-primary",onClick:le,children:a("Share","शेयर")})]})]})]})]}),e.jsxs(D,{children:[e.jsx("div",{className:"card-header bg-body-tertiary",children:e.jsxs("strong",{children:["📏 ",a("Dimensions","माप")]})}),e.jsx("div",{className:"card-body",children:e.jsxs("div",{className:"row g-3",children:[e.jsxs("div",{className:"col-md-6",children:[e.jsx("label",{className:"form-label",children:a("Width","चौड़ाई")}),e.jsxs("div",{className:"input-group",children:[e.jsx("input",{type:"number",className:"form-control",value:q(i),onChange:s=>d(Y(s.target.value)),placeholder:"0","aria-label":"Width in millimeters",min:0}),e.jsx("span",{className:"input-group-text",children:v==="mm"?"mm":"in"})]}),e.jsx("div",{className:"form-text",children:a("Measure visible frame width.","दिखने वाले फ्रेम की चौड़ाई नापें।")})]}),e.jsxs("div",{className:"col-md-6",children:[e.jsx("label",{className:"form-label",children:a("Height","ऊँचाई")}),e.jsxs("div",{className:"input-group",children:[e.jsx("input",{type:"number",className:"form-control",value:q(m),onChange:s=>C(Y(s.target.value)),placeholder:"0","aria-label":"Height in millimeters",min:0}),e.jsx("span",{className:"input-group-text",children:v==="mm"?"mm":"in"})]}),e.jsx("div",{className:"form-text",children:a("Measure visible frame height.","दिखने वाले फ्रेम की ऊँचाई नापें।")})]})]})})]}),e.jsxs(D,{children:[e.jsx("div",{className:"card-header bg-body-tertiary",children:e.jsxs("strong",{children:["⚙️ ",a("Configuration","कॉन्फ़िगरेशन")]})}),e.jsx("div",{className:"card-body",children:e.jsxs("div",{className:"row g-3",children:[e.jsxs("div",{className:"col-md-6",children:[e.jsxs("label",{className:"form-label",children:["🪟 ",a("Glass type","काँच प्रकार")]}),e.jsx("select",{className:"form-select",value:n,onChange:s=>u(s.target.value),children:["Clear","Toughened","Reflective","Double Glazed"].map(s=>e.jsx("option",{value:s,children:s},s))}),e.jsxs("div",{className:"form-text",children:[a("Density auto:","घनत्व:")," ",r.baseDensity.toFixed(2)," kg/m²"]})]}),e.jsxs("div",{className:"col-md-6",children:[e.jsxs("label",{className:"form-label",children:[a("Glass thickness","काँच मोटाई")," (",n==="Double Glazed"?"fixed 24mm":`${c}mm`,")"]}),n==="Double Glazed"?e.jsx("input",{type:"text",className:"form-control",value:"24",disabled:!0}):e.jsx("input",{type:"range",min:4,max:12,step:1,className:"form-range",value:c,onChange:s=>U(Number(s.target.value))})]}),e.jsxs("div",{className:"col-md-6",children:[e.jsx("label",{className:"form-label",children:a("Profile","प्रोफ़ाइल")}),e.jsx("select",{className:"form-select",value:g,onChange:s=>H(s.target.value),"aria-label":"Aluminium profile",children:["Series 45","Series 60","Series 75","Sliding Light","Sliding Heavy"].map(s=>e.jsxs("option",{value:s,children:[s," = ",z[s]," kg/m"]},s))})]}),e.jsxs("div",{className:"col-md-6",children:[e.jsx("label",{className:"form-label",children:a("Finish","फिनिश")}),e.jsx("select",{className:"form-select",value:y,onChange:s=>J(s.target.value),children:["Powder Coated","Anodized"].map(s=>e.jsx("option",{value:s,children:s},s))})]}),e.jsxs("div",{className:"col-md-6",children:[e.jsx("label",{className:"form-label",children:a("Accessories (kg)","एक्सेसरीज़ (किग्रा)")}),e.jsxs("div",{className:"input-group",children:[e.jsx("span",{className:"input-group-text",children:"kg"}),e.jsx("input",{type:"number",className:"form-control",value:S,onChange:s=>K(s.target.value),placeholder:"0","aria-label":"Accessories in kilograms",min:0})]}),e.jsx("div",{className:"form-text",children:a("Manual accessories weight.","एक्सेसरीज़ का मैनुअल वज़न।")})]}),e.jsxs("div",{className:"col-md-6 col-lg-6",children:[e.jsx("label",{className:"form-label",children:a("Cost per Kg","क़ीमत प्रति किग्रा")}),e.jsxs("div",{className:"input-group",children:[e.jsx("span",{className:"input-group-text",children:"₹"}),e.jsx("input",{type:"number",className:"form-control",value:p,onChange:s=>_(s.target.value),placeholder:"0","aria-label":"Cost per kilogram in rupees",min:0})]}),e.jsx("input",{type:"range",min:0,max:600,step:10,className:"form-range mt-2",value:p||"0",onChange:s=>_(s.target.value)}),e.jsx("div",{className:"form-text",children:a("Market average ~ ₹250–₹350/kg. Adjust as needed.","मार्केट औसत ~ ₹250–₹350/किग्रा. आवश्यकतानुसार बदलें।")})]}),e.jsxs("div",{className:"col-md-6",children:[e.jsx("label",{className:"form-label",children:a("Profit Margin (%)","मुनाफ़ा मार्जिन (%)")}),e.jsx("input",{type:"number",className:"form-control",value:L,onChange:s=>he(s.target.value),min:0,max:100})]}),e.jsxs("div",{className:"col-md-6",children:[e.jsx("label",{className:"form-label",children:a("Discount (%)","छूट (%)")}),e.jsx("input",{type:"number",className:"form-control",value:W,onChange:s=>ge(s.target.value),min:0,max:100})]})]})})]}),e.jsxs(D,{children:[e.jsx("div",{className:"card-header bg-body-tertiary",children:e.jsxs("strong",{children:["📄 ",a("Quotation Builder","कोटेशन बिल्डर")]})}),e.jsx("div",{className:"card-body",children:e.jsxs("div",{className:"row g-3",children:[e.jsxs("div",{className:"col-md-6",children:[e.jsx("label",{className:"form-label",children:a("Customer Name","ग्राहक नाम")}),e.jsx("input",{type:"text",className:"form-control",value:Z,onChange:s=>be(s.target.value)})]}),e.jsxs("div",{className:"col-md-6",children:[e.jsx("label",{className:"form-label",children:a("Customer Address / Site","ग्राहक पता / साइट")}),e.jsx("input",{type:"text",className:"form-control",value:ee,onChange:s=>pe(s.target.value)})]}),e.jsxs("div",{className:"col-md-4",children:[e.jsx("label",{className:"form-label",children:"GST (%)"}),e.jsx("input",{type:"number",className:"form-control",value:P,onChange:s=>fe(s.target.value)})]}),e.jsxs("div",{className:"col-md-4",children:[e.jsx("label",{className:"form-label",children:a("Delivery Charge (₹)","डिलीवरी शुल्क (₹)")}),e.jsx("input",{type:"number",className:"form-control",value:E,onChange:s=>je(s.target.value)})]}),e.jsxs("div",{className:"col-md-4",children:[e.jsx("label",{className:"form-label",children:a("Labor Charge (₹)","मजदूरी शुल्क (₹)")}),e.jsx("input",{type:"number",className:"form-control",value:M,onChange:s=>Ne(s.target.value)})]}),e.jsxs("div",{className:"col-12",children:[e.jsx("label",{className:"form-label",children:a("Terms & Conditions","नियम व शर्तें")}),e.jsx("textarea",{className:"form-control",rows:4,value:se,onChange:s=>ve(s.target.value)})]})]})})]})]}),e.jsxs("aside",{className:"col-lg-5",children:[e.jsxs("div",{className:"card shadow mb-4",children:[e.jsx("div",{className:"card-header bg-body-tertiary",children:e.jsx("strong",{children:"📄 Results"})}),e.jsxs("div",{className:"card-body p-0",children:[e.jsx("ul",{className:"list-group list-group-flush",children:te.map(s=>e.jsxs("li",{className:"list-group-item d-flex justify-content-between align-items-center",children:[e.jsx("span",{className:"text-body-secondary",children:s.label}),e.jsx("span",{className:`fw-semibold ${s.label.includes("Cost")?"text-success":s.label.includes("Aluminium")?"text-secondary":"text-primary"}`,children:s.value})]},s.label))}),e.jsxs("div",{className:"row g-3 p-3",children:[e.jsx("div",{className:"col-sm-6",children:e.jsxs("div",{className:"rounded-4 p-3 h-100 shadow-sm",style:{background:"linear-gradient(135deg, rgba(192,192,192,0.25), rgba(192,192,192,0.05))",border:"1px solid rgba(192,192,192,.35)",transition:"transform 0.2s ease, box-shadow 0.2s ease"},onMouseEnter:s=>{s.currentTarget.style.transform="translateY(-4px)",s.currentTarget.style.boxShadow="0 6px 18px rgba(0,0,0,0.15)"},onMouseLeave:s=>{s.currentTarget.style.transform="translateY(0)",s.currentTarget.style.boxShadow="0 2px 8px rgba(0,0,0,0.1)"},children:[e.jsx("div",{className:"text-uppercase small fw-semibold text-secondary",children:"Total Weight"}),e.jsxs("div",{className:"fs-4 fw-bold text-secondary",children:[r.totalWeight.toFixed(2)," kg"]})]})}),e.jsx("div",{className:"col-sm-6",children:e.jsxs("div",{className:"rounded p-3 h-100",style:{background:"linear-gradient(135deg, rgba(25,135,84,.15), rgba(25,135,84,.05))",border:"1px solid rgba(25,135,84,.25)"},children:[e.jsx("div",{className:"text-uppercase small fw-semibold text-success",children:"Estimated Cost"}),e.jsxs("div",{className:"fs-4 fw-bold text-success",children:["₹ ",r.estimatedCost.toFixed(2)]})]})})]})]}),e.jsxs("div",{className:"card-footer d-grid d-sm-flex gap-2 justify-content-end",children:[e.jsx("div",{className:"me-auto small text-body-secondary d-none d-sm-block",children:"Accessories fixed at 2 kg. Perimeter = 2 × (W + H)."}),e.jsx("button",{className:"btn btn-danger btn-lg flex-fill flex-sm-grow-0",onClick:re,title:"Export as PDF",children:"📝 PDF"}),e.jsx("button",{className:"btn btn-success btn-lg flex-fill flex-sm-grow-0",onClick:ae,title:"Export as Excel",children:"📊 Excel"})]})]}),e.jsxs(D,{children:[e.jsx("div",{className:"card-header bg-body-tertiary",children:e.jsx("strong",{children:"Recent Calculations"})}),e.jsx("div",{className:"card-body p-0",children:e.jsxs("ul",{className:"list-group list-group-flush",id:"recentList",children:[F.slice(0,6).map(s=>{let t=0;const o=x=>{t=x.touches[0].clientX},h=x=>{const j=x.changedTouches[0].clientX-t;if(j<-60){if(confirm("Delete this estimate?")){const N=F.filter(b=>b.ts!==s.ts);localStorage.setItem("estimates",JSON.stringify(N)),$(N)}}else if(j>60){const b=[{...s,ts:Date.now(),name:`${s.name} (copy)`},...F];localStorage.setItem("estimates",JSON.stringify(b.slice(0,20))),$(b.slice(0,20))}},f=x=>{x.preventDefault();const j=prompt("Rename",s.name);if(j&&j.trim()){const N=F.map(b=>b.ts===s.ts?{...b,name:j}:b);localStorage.setItem("estimates",JSON.stringify(N)),$(N)}};return e.jsxs("li",{className:"list-group-item d-flex justify-content-between align-items-center",onTouchStart:o,onTouchEnd:h,onContextMenu:f,children:[e.jsx("button",{className:"btn btn-link p-0",onClick:()=>ke(s),title:"Load project",children:s.name}),e.jsx("span",{className:"text-body-secondary small",children:new Date(s.ts).toLocaleDateString()})]},s.ts)}),!F.length&&e.jsx("li",{className:"list-group-item text-body-secondary small",children:"No saved estimates yet."})]})})]})]})]})}),e.jsxs("footer",{className:"py-4 text-center small text-body-secondary",children:["© ",new Date().getFullYear()," Venkatesh Aluminium and Glass • Designed by ",e.jsx("span",{children:e.jsx("b",{children:"Shubham Joshi"})})]}),e.jsx("div",{className:"position-fixed bottom-0 start-0 end-0 bg-body border-top shadow-sm",style:{zIndex:1050},children:e.jsxs("div",{className:"container py-2 d-flex flex-wrap align-items-center gap-2",children:[e.jsxs("div",{className:"me-auto",children:[e.jsx("div",{className:"small text-body-secondary",children:a("Grand Total","कुल योग")}),e.jsxs("div",{className:"fs-5 fw-bold m-0",children:["₹ ",k.grandTotal.toFixed(2)]})]}),e.jsxs("button",{className:"btn btn-success btn-sm px-3 d-flex align-items-center gap-1",onClick:async()=>{try{await await ie(),await oe()}catch{oe()}},children:[e.jsx("i",{className:"bi bi-whatsapp"})," ",a("WhatsApp","व्हाट्सएप")]}),e.jsxs("div",{className:"btn-group dropup",children:[e.jsx("button",{type:"button",className:"btn btn-outline-secondary dropdown-toggle","data-bs-toggle":"dropdown","aria-expanded":"false",children:a("Export","एक्सपोर्ट")}),e.jsxs("ul",{className:"dropdown-menu dropdown-menu-end",children:[e.jsx("li",{children:e.jsx("button",{className:"dropdown-item",onClick:le,children:a("Share Link","लिंक शेयर")})}),e.jsx("li",{children:e.jsx("button",{className:"dropdown-item",onClick:re,children:"PDF"})}),e.jsx("li",{children:e.jsx("button",{className:"dropdown-item",onClick:ae,children:"Excel"})}),e.jsx("li",{children:e.jsx("button",{className:"dropdown-item",onClick:Fe,children:a("Email","ईमेल")})})]})]})]})}),e.jsx("div",{className:"modal fade",id:"shareModal",tabIndex:"-1","aria-hidden":"true",children:e.jsx("div",{className:"modal-dialog",children:e.jsxs("div",{className:"modal-content",children:[e.jsxs("div",{className:"modal-header",children:[e.jsx("h5",{className:"modal-title",children:"Share Quote"}),e.jsx("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),e.jsxs("div",{className:"modal-body d-grid gap-2",children:[e.jsx("input",{className:"form-control",readOnly:!0,value:I}),I&&e.jsx("img",{className:"mx-auto",alt:"QR",width:"160",height:"160",src:`https://api.qrserver.com/v1/create-qr-code/?size=160x160&data=${encodeURIComponent(I)}`}),e.jsx("div",{className:"form-text",children:"Link copied to clipboard. Scan QR to open on mobile."})]}),e.jsx("div",{className:"modal-footer",children:e.jsx("button",{className:"btn btn-secondary","data-bs-dismiss":"modal",children:"Close"})})]})})})]})}(()=>{try{const i=localStorage.getItem("theme"),d=window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches,m=i==="dark"||i==="light"?i:d?"dark":"light";document.documentElement.setAttribute("data-bs-theme",m==="dark"?"dark":"light")}catch{}})();Pe.createRoot(document.getElementById("app")).render(R.createElement(R.StrictMode,null,R.createElement(Ae,null)));"serviceWorker"in navigator&&Q(async()=>{const{registerSW:i}=await import("./virtual_pwa-register-UvVCG0jN.js");return{registerSW:i}},__vite__mapDeps([2,0,1])).then(({registerSW:i})=>{i({immediate:!0,onRegisteredSW:()=>{},onNeedRefresh(){},onOfflineReady(){}})}).catch(()=>{});
